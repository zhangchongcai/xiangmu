webpackJsonpccm([0],{276:function(e,n,t){"use strict";var a=t(30),o=t.n(a),i=t(323);n.a={components:{curmbs:i.a},created:function(){console.log(this.$route.query);var e="{}"==o()(this.$route.query),n=void 0,t={name:"新建票券分类设置",path:"",active:!0};if(!e){t={name:"修改票券分类设置",path:"",active:!0},n=this.$route.query;!!n.isChangeType&&n.isChangeType&&(this.isChangeType=!0,this.form=n.data)}this.address.push(t)},data:function(){var e=this;return{isChangeType:!1,time:null,returnTime:null,activeNames:["baseConfig"],address:[{name:"票券",path:""},{name:"票券分类设置",path:""}],baseConfig:{ticketType:{options:[{value:"0",label:"兑换券"},{value:"1",label:"代金券"},{value:"2",label:"优惠券"}]},couponTypeStatus:{options:[{value:"0",label:"有效"},{value:"1",label:"无效"}]}},form:{couponType:"",couponName:"",couponTypeStatus:"0"},rules:{couponType:[{required:!0,message:"请输入票券类型",trigger:"change"}],couponName:[{required:!0,validator:function(n,t,a){if(console.log(t),clearTimeout(e.time),""==t)a(new Error("请输入分类名称"));else{var o={couponName:t,id:e.isChangeType?e.form.id:"0"};e.time=setTimeout(function(){e.$ccmList.findCouponTypeName(o).then(function(e){1==e.flag?a():a(new Error("分类名称已存在,请重新输入"))}).catch(function(e){console.log("查询票券分类名称唯一性错误:",e)})},500)}},trigger:"change"}]}}},methods:{confirm:function(e){var n=this;n.$refs[e].validate(function(e){if(!e)return!1;var t=void 0,a="";n.isChangeType?(t=JSON.parse(o()(n.form)),delete t.couponType,a="updateCouponType"):(delete n.form.couponTypeStatus0,t=n.form,a="insertCouponType"),n.$ccmList[""+a](t).then(function(e){var t=e.flag,o="";n.isChangeType?0==t?o="error":1==t?o="warning":2==t&&(o="success"):4!=e.flag?o="error":4==t&&(o="success"),"updateCouponType"==a&&"success"==o?e.msg="修改成功":"insertCouponType"==a&&"success"==o?e.msg="新增成功":"updateCouponType"==a&&"error"==o?e.msg="修改失败":"insertCouponType"==a&&"error"==o&&(e.msg="新增失败"),n.$message({message:e.msg,type:o}),"success"==o&&(clearTimeout(n.returnTime),n.returnTime=setTimeout(function(){n.returnPage()},1e3))}).catch(function(e){console.log(e)})})},returnPage:function(e){var n=this,t=this;e?this.$confirm("确认不添加,就关闭？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$store.commit("tagNav/removeTagNav",{name:n.$route.name,path:n.$route.path,title:n.$route.meta.title,query:n.$route.query}),t.$router.push("typeManagement")}):(this.$store.commit("tagNav/removeTagNav",{name:this.$route.name,path:this.$route.path,title:this.$route.meta.title,query:this.$route.query}),t.$router.push({name:"typeManagement",params:{isFresh:!0}}))}},destroyed:function(){for(var e=this,n=["time","returnTime"],t=0;t<n.length;t++)clearTimeout(e[""+n[t]])}}},277:function(e,n,t){"use strict";n.a={data:function(){return{}},props:{address:{type:Array,default:function(){return[]}}}}},321:function(e,n,t){var a=t(322);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(123)("1d47a246",a,!0,{})},322:function(e,n,t){n=e.exports=t(122)(!0),n.push([e.i,'\n@charset "UTF-8";\n.el-checkbox__label[data-v-23678b81] {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-form-item__label {\n  color: #666;\n  font: 12px;\n}\n[data-v-23678b81] .el-radio__label {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-input {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-select-dropdown__item span {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-date-editor span {\n  font-size: 12px;\n}\n[data-v-23678b81] span {\n  font-size: 12px;\n}\n.font-style[data-v-23678b81] {\n  font-size: 12px;\n  color: #666;\n}\n[data-v-23678b81] .popup-input {\n  margin-right: 8px;\n}\n[data-v-23678b81] .popup-input input {\n    text-overflow: ellipsis;\n    background: #f5f5f5;\n    border: 1px solid #bcbcbc !important;\n}\n.popup-input:hover .popup-close[data-v-23678b81] {\n  display: inline-block;\n}\n[data-v-23678b81] .popup-close {\n  cursor: pointer;\n  color: #3B74FF;\n  font-size: 16px;\n  font-weight: 500;\n  font-weight: 700;\n  margin-top: 13px;\n  display: none;\n}\n/* 按钮大小*/\n[data-v-23678b81] .el-button {\n  width: 80px;\n  height: 32px;\n}\n/* 折叠*/\n[data-v-23678b81] .el-collapse-item__header::after {\n  display: none;\n}\n[data-v-23678b81] .el-collapse-item__header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n[data-v-23678b81] .el-collapse-item__wrap {\n  padding-top: 0;\n}\n[data-v-23678b81] .el-collapse-item__content {\n  padding-bottom: 0;\n}\n/* 日期*/\n[data-v-23678b81] .el-date-editor .el-range-separator, .el-range-editor .el-range-input[data-v-23678b81] {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-range-editor .el-range-input {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-date-editor--daterange.el-input__inner {\n  width: 252px;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-range-separator {\n  width: 24px;\n  line-height: 24px;\n}\n[data-v-23678b81] .el-range__icon, .el-range-separator[data-v-23678b81], .el-range__close-icon[data-v-23678b81] {\n  line-height: 20px !important;\n}\n[data-v-23678b81] .el-date-editor .el-range__close-icon {\n  line-height: 20px;\n}\n.ticket-inner li[data-v-23678b81] {\n  margin-bottom: 15px;\n}\n.tips-info[data-v-23678b81] {\n  color: #999;\n  font-size: 12px;\n}\n.coupon-addTicket .el-form-item__label[data-v-23678b81] {\n  color: #666666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-form-item {\n  margin-bottom: 16px;\n}\n',"",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ccm/src/views/coupon/typeManagement/ticketType.vue"],names:[],mappings:";AACA,iBAAiB;AACjB;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,WAAW;CACZ;AACD;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,YAAY;CACb;AACD;EACE,kBAAkB;CACnB;AACD;IACI,wBAAwB;IACxB,oBAAoB;IACpB,qCAAqC;CACxC;AACD;EACE,sBAAsB;CACvB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,cAAc;CACf;AACD,SAAS;AACT;EACE,YAAY;EACZ,aAAa;CACd;AACD,OAAO;AACP;EACE,cAAc;CACf;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,mBAAmB;UACf,0BAA0B;EAClC,+BAA+B;EAC/B,+BAA+B;MAC3B,gCAAgC;UAC5B,4BAA4B;CACrC;AACD;EACE,eAAe;CAChB;AACD;EACE,kBAAkB;CACnB;AACD,OAAO;AACP;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,kBAAkB;CACnB;AACD;EACE,6BAA6B;CAC9B;AACD;EACE,kBAAkB;CACnB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,eAAe;EACf,gBAAgB;CACjB;AACD;EACE,oBAAoB;CACrB",file:"ticketType.vue",sourcesContent:['\n@charset "UTF-8";\n.el-checkbox__label[data-v-23678b81] {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-form-item__label {\n  color: #666;\n  font: 12px;\n}\n[data-v-23678b81] .el-radio__label {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-input {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-select-dropdown__item span {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-date-editor span {\n  font-size: 12px;\n}\n[data-v-23678b81] span {\n  font-size: 12px;\n}\n.font-style[data-v-23678b81] {\n  font-size: 12px;\n  color: #666;\n}\n[data-v-23678b81] .popup-input {\n  margin-right: 8px;\n}\n[data-v-23678b81] .popup-input input {\n    text-overflow: ellipsis;\n    background: #f5f5f5;\n    border: 1px solid #bcbcbc !important;\n}\n.popup-input:hover .popup-close[data-v-23678b81] {\n  display: inline-block;\n}\n[data-v-23678b81] .popup-close {\n  cursor: pointer;\n  color: #3B74FF;\n  font-size: 16px;\n  font-weight: 500;\n  font-weight: 700;\n  margin-top: 13px;\n  display: none;\n}\n/* 按钮大小*/\n[data-v-23678b81] .el-button {\n  width: 80px;\n  height: 32px;\n}\n/* 折叠*/\n[data-v-23678b81] .el-collapse-item__header::after {\n  display: none;\n}\n[data-v-23678b81] .el-collapse-item__header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n[data-v-23678b81] .el-collapse-item__wrap {\n  padding-top: 0;\n}\n[data-v-23678b81] .el-collapse-item__content {\n  padding-bottom: 0;\n}\n/* 日期*/\n[data-v-23678b81] .el-date-editor .el-range-separator, .el-range-editor .el-range-input[data-v-23678b81] {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-range-editor .el-range-input {\n  font-size: 12px;\n}\n[data-v-23678b81] .el-date-editor--daterange.el-input__inner {\n  width: 252px;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-range-separator {\n  width: 24px;\n  line-height: 24px;\n}\n[data-v-23678b81] .el-range__icon, .el-range-separator[data-v-23678b81], .el-range__close-icon[data-v-23678b81] {\n  line-height: 20px !important;\n}\n[data-v-23678b81] .el-date-editor .el-range__close-icon {\n  line-height: 20px;\n}\n.ticket-inner li[data-v-23678b81] {\n  margin-bottom: 15px;\n}\n.tips-info[data-v-23678b81] {\n  color: #999;\n  font-size: 12px;\n}\n.coupon-addTicket .el-form-item__label[data-v-23678b81] {\n  color: #666666;\n  font-size: 12px;\n}\n[data-v-23678b81] .el-form-item {\n  margin-bottom: 16px;\n}\n'],sourceRoot:""}])},323:function(e,n,t){"use strict";function a(e){t(324)}var o=t(277),i=t(326),r=t(3),s=a,l=r(o.a,i.a,!1,s,null,null);n.a=l.exports},324:function(e,n,t){var a=t(325);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(123)("724c01f8",a,!0,{})},325:function(e,n,t){n=e.exports=t(122)(!0),n.push([e.i,"\n.curmbs {\n  margin: 20px 0;\n}\n.isActive > span {\n  color: #3b74ff !important;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ccm/src/components/crumbs/index.vue"],names:[],mappings:";AACA;EACE,eAAe;CAChB;AACD;EACE,0BAA0B;CAC3B",file:"index.vue",sourcesContent:["\n.curmbs {\n  margin: 20px 0;\n}\n.isActive > span {\n  color: #3b74ff !important;\n}\n"],sourceRoot:""}])},326:function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"curmbs"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.address,function(n,a){return t("el-breadcrumb-item",{key:a,class:{isActive:n.active}},[e._v(e._s(n.name))])}),1)],1)},o=[],i={render:a,staticRenderFns:o};n.a=i},327:function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"coupon-addTicket"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-collapse",{model:{value:e.activeNames,callback:function(n){e.activeNames=n},expression:"activeNames"}},[t("el-form-item",{attrs:{label:"类型:",prop:"couponType"}},[t("el-select",{staticClass:"input-type-166",attrs:{disabled:e.isChangeType,placeholder:"请选择"},model:{value:e.form.couponType,callback:function(n){e.$set(e.form,"couponType",n)},expression:"form.couponType"}},e._l(e.baseConfig.ticketType.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"分类名称:",prop:"couponName"}},[t("el-row",{staticClass:"flex-base"},[t("el-input",{staticClass:"input-type-166",model:{value:e.form.couponName,callback:function(n){e.$set(e.form,"couponName",n)},expression:"form.couponName"}}),e._v(" "),t("div",{staticClass:"tips-info"},[e._v("（名称需唯一）")])],1)],1),e._v(" "),e.isChangeType?t("el-form-item",{attrs:{label:"状态:",prop:"couponTypeStatus"}},e._l(e.baseConfig.couponTypeStatus.options,function(n){return t("el-radio",{key:n.value,attrs:{label:n.value},model:{value:e.form.couponTypeStatus,callback:function(n){e.$set(e.form,"couponTypeStatus",n)},expression:"form.couponTypeStatus"}},[e._v(e._s(n.label))])}),1):e._e()],1),e._v(" "),t("section",{staticClass:"flex-base flex-center"},[t("el-row",[t("el-button",{staticStyle:{width:"80px",heigth:"32px"},attrs:{type:"primary"},on:{click:function(n){return e.confirm("form")}}},[e._v("确定")]),e._v(" "),t("el-button",{staticStyle:{width:"80px",heigth:"32px","margin-left":"27px"},on:{click:function(n){return e.returnPage(!0)}}},[e._v("取消")])],1)],1)],1)],1)},o=[],i={render:a,staticRenderFns:o};n.a=i},66:function(e,n,t){"use strict";function a(e){t(321)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(276),i=t(327),r=t(3),s=a,l=r(o.a,i.a,!1,s,"data-v-23678b81",null);n.default=l.exports}});