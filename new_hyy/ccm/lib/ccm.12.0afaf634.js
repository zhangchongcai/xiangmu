webpackJsonpccm([12],{133:function(e,a,n){"use strict";function t(e){n(318)}Object.defineProperty(a,"__esModule",{value:!0});var o=n(275),i=n(320),l=n(3),p=t,r=l(o.a,i.a,!1,p,"data-v-18435aea",null);a.default=r.exports},260:function(e,a,n){"use strict";a.__esModule=!0;var t=n(261),o=function(e){return e&&e.__esModule?e:{default:e}}(t);a.default=function(e,a,n){return a in e?(0,o.default)(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}},261:function(e,a,n){e.exports={default:n(262),__esModule:!0}},262:function(e,a,n){n(263);var t=n(0).Object;e.exports=function(e,a,n){return t.defineProperty(e,a,n)}},263:function(e,a,n){var t=n(12);t(t.S+t.F*!n(4),"Object",{defineProperty:n(6).f})},275:function(e,a,n){"use strict";var t=n(260),o=n.n(t),i=n(57),l=n(32);n.n(l);a.a={components:{searchLan:i.a},mixins:[l.cacheMixin.cacheMixin],data:function(){var e;return{cacheField:["pageConfig","tableConfig"],subComName:"typeManagement",modelName:"typeManagement",searchConfig:[{keyName:"couponName",name:"分类名称",type:"input",value:""},{keyName:"couponType",name:"类型",type:"select",value:"",options:[{label:"全部",value:""},{label:"兑换券",value:"0"},{label:"代金券",value:"1"},{label:"优惠券",value:"2"}]},{keyName:"couponTypeStatus",name:"状态",type:"select",value:"",options:[{label:"全部",value:""},{label:"有效",value:"0"},{label:"无效",value:"1"}]}],tableConfig:{title:[{type:"selection"},{label:"分类名称",prop:"couponName"},{label:"类型",prop:"couponType",hasTemplate:!0},{label:"状态",prop:"couponTypeStatus",hasTemplate:!0},{label:"操作",prop:"control",fixed:"right",hasTemplate:!0}],data:[]},multipleSelection:[],pageConfig:(e={currentPage:"1",pageSizes:[10,20,30,40],pageSize:10},o()(e,"currentPage",1),o()(e,"total",10),e),searchParam:{},searchBool:!1}},created:function(){if(!this.tableConfig.data.length||this.$route.params.isFresh){var e=this.setParam();this.getTableData(e)}},methods:{setSearch:function(e){this.searchParam=e},setParam:function(e){var a=e||{};return{couponName:a.couponName?a.couponName:this.searchParam.couponName?this.searchParam.couponName:"",couponType:a.couponType?a.couponType:this.searchParam.couponType?this.searchParam.couponType:"",couponTypeStatus:a.couponTypeStatus?a.couponTypeStatus:this.searchParam.couponTypeStatus?this.searchParam.couponTypeStatus:"",pageNo:this.pageConfig.currentPage,pageSize:this.pageConfig.pageSize}},search:function(e,a){var n=void 0;a?n=this.searchParam:(this.searchParam=e,n=e);var t=this.setParam(n);this.getTableData(t),this.searchBool=!0},getTableData:function(e){var a=this,n=this;this.$ccmList.findCouponList(e).then(function(e){console.log(e);var t="";t=200==e.code?"success":"warning","success"==t&&(n.tableConfig.data=e.data,n.pageConfig.total=e.pageNum),a.searchBool&&("warning"==t&&n.$message({message:e.msg?e.msg:"查询失败",type:t}),a.searchBool=!1)}).catch(function(e){console.log("错误:",e)})},handleSelectionChange:function(e){this.multipleSelection=e},editItem:function(e){this.$router.push({path:"editTicket",query:{data:e.row,isChangeType:!0}})},deleteItem:function(e){var a=this,n=e.row,t=n.id,o=n.couponName,i="0"==n.couponType?"兑换券":"2"==n.couponType?"优惠券":"代金券";a.$confirm("确定删除"+i+"("+o+")","提示",{type:"warning"}).then(function(e){a.sendDeleteItem([""+t])}).catch(function(e){})},addItem:function(){this.$router.push({path:"addTicket"})},deleteSelectItem:function(){var e=this,a=e.multipleSelection;if(0==a.length)return this.$message({message:"请选择需要删除的票券分类再操作！",type:"warning"});var n=a.length>1?"批量":"";e.$confirm("确认"+n+"删除?","提示",{type:"warning"}).then(function(n){for(var t=[],o=0;o<a.length;o++)t.push(a[o].id);e.sendDeleteItem(t)}).catch(function(e){})},sendDeleteItem:function(e){var a=this,n=this,t={ids:e};n.$ccmList.deleteCouponType(t).then(function(e){var t=e.flag,o="";if(o=3==t?"success":1==t||2==t?"warning":"error","success"==o?e.msg="删除成功":"error"==o&&(e.msg="删除失败"),n.$message({showClose:!0,message:e.msg,type:o}),3==t){var i=a.setParam();n.getTableData(i)}}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageConfig.pageSize=e,this.search("",!0)},handleCurrentChange:function(e){this.pageConfig.currentPage=e,this.search("",!0)},prevClick:function(e){this.pageConfig.currentPage=e,this.search("",!0)},nextClick:function(e){this.pageConfig.currentPage=e,this.search("",!0)}}}},318:function(e,a,n){var t=n(319);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n(123)("08c76326",t,!0,{})},319:function(e,a,n){a=e.exports=n(122)(!0),a.push([e.i,'\n@charset "UTF-8";\n[data-v-18435aea].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-18435aea].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-18435aea].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-18435aea].pageStyle .el-pagination .el-pagination__total,[data-v-18435aea].pageStyle .el-pagination .btn-prev,[data-v-18435aea].pageStyle .el-pagination .el-pager li,[data-v-18435aea].pageStyle .el-pagination .btn-next,[data-v-18435aea].pageStyle .el-pagination .el-pagination__jump,[data-v-18435aea].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-18435aea].pageStyle .el-pagination .btn-prev,[data-v-18435aea].pageStyle .el-pagination .el-pager li,[data-v-18435aea].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-18435aea] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-18435aea] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n.autocollorr[data-v-18435aea] {\n  color: red;\n}\n.el-checkbox__label[data-v-18435aea] {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-form-item__label {\n  color: #666;\n  font: 12px;\n}\n[data-v-18435aea] .el-radio__label {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-input {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-select-dropdown__item span {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-date-editor span {\n  font-size: 12px;\n}\n[data-v-18435aea] span {\n  font-size: 12px;\n}\n.font-style[data-v-18435aea] {\n  font-size: 12px;\n  color: #666;\n}\n[data-v-18435aea] .popup-input {\n  margin-right: 8px;\n}\n[data-v-18435aea] .popup-input input {\n    text-overflow: ellipsis;\n    background: #f5f5f5;\n    border: 1px solid #bcbcbc !important;\n}\n.popup-input:hover .popup-close[data-v-18435aea] {\n  display: inline-block;\n}\n[data-v-18435aea] .popup-close {\n  cursor: pointer;\n  color: #3B74FF;\n  font-size: 16px;\n  font-weight: 500;\n  font-weight: 700;\n  margin-top: 13px;\n  display: none;\n}\n/* 按钮大小*/\n[data-v-18435aea] .el-button {\n  width: 80px;\n  height: 32px;\n}\n/* 折叠*/\n[data-v-18435aea] .el-collapse-item__header::after {\n  display: none;\n}\n[data-v-18435aea] .el-collapse-item__header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n[data-v-18435aea] .el-collapse-item__wrap {\n  padding-top: 0;\n}\n[data-v-18435aea] .el-collapse-item__content {\n  padding-bottom: 0;\n}\n/* 日期*/\n[data-v-18435aea] .el-date-editor .el-range-separator, .el-range-editor .el-range-input[data-v-18435aea] {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-range-editor .el-range-input {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-date-editor--daterange.el-input__inner {\n  width: 252px;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-range-separator {\n  width: 24px;\n  line-height: 24px;\n}\n[data-v-18435aea] .el-range__icon, .el-range-separator[data-v-18435aea], .el-range__close-icon[data-v-18435aea] {\n  line-height: 20px !important;\n}\n[data-v-18435aea] .el-date-editor .el-range__close-icon {\n  line-height: 20px;\n}\n',"",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ccm/src/views/coupon/typeManagement/index.vue"],names:[],mappings:";AACA,iBAAiB;AACjB;EACE,2BAA2B;EAC3B,wBAAwB;EACxB,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,eAAe;CAChB;AACD;EACE,2BAA2B;EAC3B,aAAa;EACb,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;CAChB;AACD;EACE,WAAW;CACZ;AACD;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,WAAW;CACZ;AACD;EACE,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,YAAY;CACb;AACD;EACE,kBAAkB;CACnB;AACD;IACI,wBAAwB;IACxB,oBAAoB;IACpB,qCAAqC;CACxC;AACD;EACE,sBAAsB;CACvB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,cAAc;CACf;AACD,SAAS;AACT;EACE,YAAY;EACZ,aAAa;CACd;AACD,OAAO;AACP;EACE,cAAc;CACf;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,mBAAmB;UACf,0BAA0B;EAClC,+BAA+B;EAC/B,+BAA+B;MAC3B,gCAAgC;UAC5B,4BAA4B;CACrC;AACD;EACE,eAAe;CAChB;AACD;EACE,kBAAkB;CACnB;AACD,OAAO;AACP;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,aAAa;EACb,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,kBAAkB;CACnB;AACD;EACE,6BAA6B;CAC9B;AACD;EACE,kBAAkB;CACnB",file:"index.vue",sourcesContent:['\n@charset "UTF-8";\n[data-v-18435aea].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-18435aea].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-18435aea].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-18435aea].pageStyle .el-pagination .el-pagination__total,[data-v-18435aea].pageStyle .el-pagination .btn-prev,[data-v-18435aea].pageStyle .el-pagination .el-pager li,[data-v-18435aea].pageStyle .el-pagination .btn-next,[data-v-18435aea].pageStyle .el-pagination .el-pagination__jump,[data-v-18435aea].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-18435aea].pageStyle .el-pagination .btn-prev,[data-v-18435aea].pageStyle .el-pagination .el-pager li,[data-v-18435aea].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-18435aea] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-18435aea] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n.autocollorr[data-v-18435aea] {\n  color: red;\n}\n.el-checkbox__label[data-v-18435aea] {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-form-item__label {\n  color: #666;\n  font: 12px;\n}\n[data-v-18435aea] .el-radio__label {\n  color: #666;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-input {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-select-dropdown__item span {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-date-editor span {\n  font-size: 12px;\n}\n[data-v-18435aea] span {\n  font-size: 12px;\n}\n.font-style[data-v-18435aea] {\n  font-size: 12px;\n  color: #666;\n}\n[data-v-18435aea] .popup-input {\n  margin-right: 8px;\n}\n[data-v-18435aea] .popup-input input {\n    text-overflow: ellipsis;\n    background: #f5f5f5;\n    border: 1px solid #bcbcbc !important;\n}\n.popup-input:hover .popup-close[data-v-18435aea] {\n  display: inline-block;\n}\n[data-v-18435aea] .popup-close {\n  cursor: pointer;\n  color: #3B74FF;\n  font-size: 16px;\n  font-weight: 500;\n  font-weight: 700;\n  margin-top: 13px;\n  display: none;\n}\n/* 按钮大小*/\n[data-v-18435aea] .el-button {\n  width: 80px;\n  height: 32px;\n}\n/* 折叠*/\n[data-v-18435aea] .el-collapse-item__header::after {\n  display: none;\n}\n[data-v-18435aea] .el-collapse-item__header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n}\n[data-v-18435aea] .el-collapse-item__wrap {\n  padding-top: 0;\n}\n[data-v-18435aea] .el-collapse-item__content {\n  padding-bottom: 0;\n}\n/* 日期*/\n[data-v-18435aea] .el-date-editor .el-range-separator, .el-range-editor .el-range-input[data-v-18435aea] {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-range-editor .el-range-input {\n  font-size: 12px;\n}\n[data-v-18435aea] .el-date-editor--daterange.el-input__inner {\n  width: 252px;\n  font-size: 12px;\n}\n[data-v-18435aea] .el-range-separator {\n  width: 24px;\n  line-height: 24px;\n}\n[data-v-18435aea] .el-range__icon, .el-range-separator[data-v-18435aea], .el-range__close-icon[data-v-18435aea] {\n  line-height: 20px !important;\n}\n[data-v-18435aea] .el-date-editor .el-range__close-icon {\n  line-height: 20px;\n}\n'],sourceRoot:""}])},320:function(e,a,n){"use strict";var t=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"table-page"},[n("section",{staticClass:"search-section"},[n("searchLan",{attrs:{modelName:e.modelName,config:e.searchConfig},on:{pressSearch:e.search,searchValueChange:e.setSearch}})],1),e._v(" "),n("section",{staticClass:"btnGroup-section flex-base flex-end"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.addItem}},[e._v("新建")]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.deleteSelectItem}},[e._v("删除")])],1),e._v(" "),n("section",{staticClass:"table-section"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableConfig.data,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._l(e.tableConfig.title,function(a,t){return["selection"==a.type?n("el-table-column",{key:t,attrs:{type:a.type,width:a.width}}):e._e(),e._v(" "),a.type||a.hasTemplate?e._e():n("el-table-column",{key:t,attrs:{width:a.width,label:a.label},scopedSlots:e._u([{key:"default",fn:function(t){return["couponName"==a.prop?n("div",[e._v("\n              "+e._s(t.row.couponName)+"\n            ")]):e._e()]}}],null,!0)}),e._v(" "),!a.type&&a.hasTemplate?n("el-table-column",{key:t,attrs:{width:a.width,label:a.label,fixed:a.fixed},scopedSlots:e._u([{key:"default",fn:function(t){return["couponType"==a.prop?n("div",[e._v("\n              "+e._s("0"==t.row.couponType?"兑换券":"1"==t.row.couponType?"代金券":"优惠券")+"\n            ")]):"couponTypeStatus"==a.prop?n("div",[e._v("\n              "+e._s("1"==t.row.couponTypeStatus?"无效":"有效")+"\n            ")]):"control"==a.prop?n("div",[n("el-button",{staticStyle:{width:"auto"},attrs:{type:"text"},on:{click:function(a){return e.editItem(t)}}},[e._v("编辑")]),e._v(" "),n("el-button",{staticStyle:{width:"auto"},attrs:{type:"text"},on:{click:function(a){return e.deleteItem(t)}}},[e._v("删除")])],1):e._e()]}}],null,!0)}):e._e()]})],2)],1),e._v(" "),0!=e.tableConfig.data.length?n("section",{staticClass:"pagination-section flex-base flex-center pageStyle"},[n("el-pagination",{attrs:{"current-page":e.pageConfig.currentPage,"page-sizes":e.pageConfig.pageSizes,"page-size":e.pageConfig.pageSize,background:"",layout:"total, prev, pager, next, jumper, sizes",total:e.pageConfig.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])},o=[],i={render:t,staticRenderFns:o};a.a=i}});