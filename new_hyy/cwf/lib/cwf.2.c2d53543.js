webpackJsonpcwf([2],{54:function(t,e,n){"use strict";function a(t){n(82)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(68),o=n(84),l=n(12),p=a,s=l(i.a,o.a,!1,p,"data-v-60b05515",null);e.default=s.exports},59:function(t,e,n){t.exports={default:n(61),__esModule:!0}},60:function(t,e,n){"use strict";e.a={name:"commonTable",components:{},props:{tableData:{required:!0,type:Array,default:[]},tableLabels:{required:!0,type:Array,default:[]},tableOptions:{required:!0,type:Object,default:{}},selection:{required:!1,type:Boolean,default:!1}},data:function(){return{options:[],moreOptions:[]}},created:function(){this.tableOptions&&this.tableOptions.options&&(this.tableOptions.options.length>4?(this.options=this.tableOptions.options.slice(0,4),this.moreOptions=this.tableOptions.options.slice(4,this.tableOptions.options.length)):this.options=this.tableOptions.options)},methods:{tableRowClassName:function(t){t.row;return t.rowIndex/2==0?"success-row":""},handleButton:function(t,e){this.$emit("handleButton",{method:t,scope:e})},handleSelectionChange:function(t){this.$emit("handleSelectionChange",t)},handleCommand:function(t){this.$emit("handleButton",{method:t.method,scope:t.scope})},composeValue:function(t,e){return{method:t.method,scope:e}}}}},61:function(t,e,n){var a=n(1),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},62:function(t,e,n){"use strict";function a(t){n(63)}var i=n(60),o=n(65),l=n(12),p=a,s=l(i.a,o.a,!1,p,"data-v-5af32085",null);e.a=s.exports},63:function(t,e,n){var a=n(64);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(51)("3a0e8bd9",a,!0,{})},64:function(t,e,n){e=t.exports=n(50)(!0),e.push([t.i,"\n.el-table .success-row[data-v-5af32085] {\n  background: #f0f9eb;\n}\n.button[data-v-5af32085] {\n  display: inline-block;\n}\n.round[data-v-5af32085] {\n  border-radius: 50%;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  vertical-align: top;\n  border: 2px solid #bcbcbc;\n  float: left;\n}\n.round .round-number[data-v-5af32085] {\n    display: block;\n    color: #bcbcbc;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: -1px;\n    margin-left: -1px;\n}\n.line[data-v-5af32085] {\n  font-size: 12px;\n  color: #bcbcbc;\n  margin: 0 8px;\n  float: left;\n}\n.line .line-content[data-v-5af32085] {\n    margin: 11px 0px;\n    display: block;\n    width: 40px;\n    height: 1px;\n    background-color: #bcbcbc;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cwf/src/components/Table/commonTable.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,sBAAsB;EACtB,oBAAoB;EACpB,0BAA0B;EAC1B,YAAY;CACb;AACD;IACI,eAAe;IACf,eAAe;IACf,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB;CACrB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,cAAc;EACd,YAAY;CACb;AACD;IACI,iBAAiB;IACjB,eAAe;IACf,YAAY;IACZ,YAAY;IACZ,0BAA0B;CAC7B",file:"commonTable.vue",sourcesContent:["\n.el-table .success-row[data-v-5af32085] {\n  background: #f0f9eb;\n}\n.button[data-v-5af32085] {\n  display: inline-block;\n}\n.round[data-v-5af32085] {\n  border-radius: 50%;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  vertical-align: top;\n  border: 2px solid #bcbcbc;\n  float: left;\n}\n.round .round-number[data-v-5af32085] {\n    display: block;\n    color: #bcbcbc;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: -1px;\n    margin-left: -1px;\n}\n.line[data-v-5af32085] {\n  font-size: 12px;\n  color: #bcbcbc;\n  margin: 0 8px;\n  float: left;\n}\n.line .line-content[data-v-5af32085] {\n    margin: 11px 0px;\n    display: block;\n    width: 40px;\n    height: 1px;\n    background-color: #bcbcbc;\n}\n"],sourceRoot:""}])},65:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:"","row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[t.selection?n("el-table-column",{attrs:{type:"selection",width:"100"}}):t._e(),t._v(" "),t._l(t.tableLabels,function(e,a){return[e.hasTemplate?n("el-table-column",{key:a,attrs:{prop:e.prop?e.prop:"",label:e.label?e.label:"",width:e.width?e.width:"",fixed:!!e.fixed&&e.fixed,sortable:!!e.sortable&&e.sortable},scopedSlots:t._u([{key:"default",fn:function(a){return e.formatRole?["processList"==e.prop?[n("span",{staticStyle:{"font-size":"12px",color:"#333333",float:"left"}},[t._v("开始")]),t._v(" "),n("span",{staticClass:"line"},[n("span",{staticClass:"line-content"})]),t._v(" "),t._l(a.row.processList,function(e,a){return[n("span",{key:a},[n("span",{staticClass:"round"},[n("span",{staticClass:"round-number"},[t._v(t._s(a+1))])]),t._v(" "),n("span",{staticClass:"line"},[n("span",{staticClass:"line-content"})])])]}),t._v(" "),n("span",{staticStyle:{"font-size":"12px",color:"#333333",float:"left"}},[t._v("结束")])]:["statusRespons"==e.prop&&1==a.row.statusRespons?n("div",{staticStyle:{"font-size":"12px",color:"#739BFF"}},[t._v("\n              "+t._s(e.formatRole(a))+"\n            ")]):"statusRespons"==e.prop&&2==a.row.statusRespons?n("div",{staticStyle:{"font-size":"12px",color:"#2DBC2D"}},[t._v("\n              "+t._s(e.formatRole(a))+"\n            ")]):"statusRespons"==e.prop&&3==a.row.statusRespons?n("div",{staticStyle:{"font-size":"12px",color:"#F33430"}},[t._v("\n              "+t._s(e.formatRole(a))+"\n            ")]):[t._v("\n              "+t._s(e.formatRole(a))+"\n            ")]]]:void 0}}],null,!0)}):n("el-table-column",{key:a,attrs:{prop:e.prop?e.prop:"",label:e.label?e.label:"",width:e.width?e.width:"",fixed:!!e.fixed&&e.fixed}})]}),t._v(" "),n("el-table-column",{attrs:{label:t.tableOptions.label?t.tableOptions.label:"",fixed:!!t.tableOptions.fixed&&t.tableOptions.fixed,width:t.tableOptions.width?t.tableOptions.width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t.tableOptions.options.length<=3?n("div",t._l(t.options,function(a,i){return n("span",{key:i},[a.condition(e)?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleButton(a.method,e)}}},[t._v(t._s(a.text))]):t._e()],1)}),0):n("div",[t._l(t.options,function(a,i){return n("span",{key:i},[a.condition(e)?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleButton(a.method,e)}}},[t._v(t._s(a.text))]):t._e()],1)}),t._v(" "),n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n              更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.moreOptions,function(a,i){return[a.condition(e)?n("el-dropdown-item",{key:i,attrs:{command:t.composeValue(a,e)}},[t._v(t._s(a.text))]):t._e()]})],2)],1)],2)]}}])})],2)],1)},i=[],o={render:a,staticRenderFns:i};e.a=o},68:function(t,e,n){"use strict";var a=n(59),i=n.n(a),o=n(62),l=requireModule("base"),p=l.cacheMixin;e.a={components:{commonTable:o.a},mixins:[p.cacheMixin],data:function(){return{cacheField:["pageConfig"],subComName:"approvalSetting",deleteDialogTableVisible:!1,commitDeteleData:{},tenantId:this.$store.state.loginUser.consumerId||"",pageConfig:{start:0,pageSize:10,pageSizes:[10,20,30,40],currentPage:1,total:0},tableData:[],tableLabels:[{prop:"name",label:"流程名称"},{prop:"processList",label:"流程示意图",width:"500",hasTemplate:!0,formatRole:function(t){}},{prop:"updateTime",label:"更新时间"}],tableOptions:{label:"操作",fixed:"right",width:"200",options:[{text:"查看",method:"checkDetail",condition:function(t){return!0}},{text:"编辑",method:"editDetail",condition:function(t){return 2!=t.row.id&&"无需审批"!=t.row.name&&1!=t.row.id&&"admin审批"!=t.row.name}},{text:"删除",method:"delDetail",condition:function(t){return 2!=t.row.id&&"无需审批"!=t.row.name&&1!=t.row.id&&"admin审批"!=t.row.name}}]}}},created:function(){this.getDataList()},methods:{search:function(){this.pageConfig.currentPage=1,this.getDataList()},getDataList:function(){var t=this,e={pageNo:this.pageConfig.currentPage,pageSize:this.pageConfig.pageSize,tenantId:this.tenantId};this.$cwfList.selectApprovalProcess(e).then(function(e){e&&200==e.code&&1==e.flag?(t.tableData=e.data.list||[],t.pageConfig.total=e.data.total||0):(t.tableData=[],t.pageConfig.total=0,t.$message({message:e.msg,type:"warning",duration:1e3}))}).catch(function(t){console.log(t)})},handleButton:function(t){this[""+t.method](t.scope)},checkDetail:function(t){this.$router.push({path:"/workflow/checkApprovalSetting",query:{type:"check",spId:t.row.id}})},editDetail:function(t){this.$router.push({path:"/workflow/editApprovalSetting",query:{type:"edit",spId:t.row.id}})},addDetail:function(){this.$router.push({path:"/workflow/editApprovalSetting",query:{type:"add"}})},delDetail:function(t){this.openDeleteDialog(t)},openDeleteDialog:function(t){this.commitDeteleData=t?t.row:{},console.log(this.commitDeteleData),this.deleteDialogTableVisible=!0},deleteCommit:function(){var t=this;if(this.deleteDialogTableVisible&&"{}"!=i()(this.commitDeteleData)){var e={id:this.commitDeteleData.id,tenantId:this.tenantId};this.$cwfList.deleteApprovalProcess(e).then(function(e){e&&200===e.code&&1==e.flag?(t.deleteDialogTableVisible=!1,t.commitDeteleData={},t.search(),t.$message({message:"删除成功",type:"success",duration:1e3})):(t.deleteDialogTableVisible=!1,t.commitDeteleData={},t.$message({message:e.msg,type:"warning",duration:1e3}))}).catch(function(e){t.deleteDialogTableVisible=!1,t.commitDeteleData={},console.log(e)})}},handleSizeChange:function(t){this.pageConfig.pageSize=t,this.pageConfig.currentPage=1,this.getDataList()},handleCurrentChange:function(t){this.pageConfig.currentPage=t,this.getDataList()}}}},82:function(t,e,n){var a=n(83);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(51)("e25db852",a,!0,{})},83:function(t,e,n){e=t.exports=n(50)(!0),e.push([t.i,"\n[data-v-60b05515].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-60b05515].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-60b05515].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-60b05515].pageStyle .el-pagination .el-pagination__total,[data-v-60b05515].pageStyle .el-pagination .btn-prev,[data-v-60b05515].pageStyle .el-pagination .el-pager li,[data-v-60b05515].pageStyle .el-pagination .btn-next,[data-v-60b05515].pageStyle .el-pagination .el-pagination__jump,[data-v-60b05515].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-60b05515].pageStyle .el-pagination .btn-prev,[data-v-60b05515].pageStyle .el-pagination .el-pager li,[data-v-60b05515].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-60b05515] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-60b05515] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n.cwf_approvalSetting section[data-v-60b05515] {\n  margin-bottom: 15px;\n}\n.cwf_approvalSetting .add[data-v-60b05515] {\n  float: right;\n  width: 80px;\n  height: 32px;\n  line-height: 32px;\n  font-size: 12px;\n  text-align: center;\n  padding: 0;\n}\n.cwf_approvalSetting .el-pagination[data-v-60b05515] {\n  text-align: center;\n}\n.cwf_approvalSetting[data-v-60b05515] .el-step__icon.is-text {\n  margin-bottom: 5px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content[data-v-60b05515] {\n  padding: 0 20px 20px 20px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content p[data-v-60b05515] {\n    padding: 0 40px;\n    text-align: left;\n    font-size: 14px;\n    color: #666666;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content .el-icon-warning[data-v-60b05515] {\n    font-size: 18px;\n    color: #ff8900;\n    margin-right: 15px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-btn[data-v-60b05515] {\n  text-align: center;\n}\n.cwf_approvalSetting .delete-dialog .dialog-btn .el-button[data-v-60b05515] {\n    width: 80px;\n    height: 32px;\n    line-height: 32px;\n    text-align: center;\n    vertical-align: middle;\n    padding: 0;\n}\n.cwf_approvalSetting .delete-dialog[data-v-60b05515] .el-dialog__body {\n  padding: 20px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cwf/src/views/workflow/approvalSetting/index.vue"],names:[],mappings:";AACA;EACE,2BAA2B;EAC3B,wBAAwB;EACxB,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,eAAe;CAChB;AACD;EACE,2BAA2B;EAC3B,aAAa;EACb,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;CAChB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,aAAa;EACb,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,WAAW;CACZ;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;IACI,gBAAgB;IAChB,iBAAiB;IACjB,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,gBAAgB;IAChB,eAAe;IACf,mBAAmB;CACtB;AACD;EACE,mBAAmB;CACpB;AACD;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,uBAAuB;IACvB,WAAW;CACd;AACD;EACE,cAAc;CACf",file:"index.vue",sourcesContent:["\n[data-v-60b05515].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-60b05515].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-60b05515].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-60b05515].pageStyle .el-pagination .el-pagination__total,[data-v-60b05515].pageStyle .el-pagination .btn-prev,[data-v-60b05515].pageStyle .el-pagination .el-pager li,[data-v-60b05515].pageStyle .el-pagination .btn-next,[data-v-60b05515].pageStyle .el-pagination .el-pagination__jump,[data-v-60b05515].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-60b05515].pageStyle .el-pagination .btn-prev,[data-v-60b05515].pageStyle .el-pagination .el-pager li,[data-v-60b05515].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-60b05515] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-60b05515] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n.cwf_approvalSetting section[data-v-60b05515] {\n  margin-bottom: 15px;\n}\n.cwf_approvalSetting .add[data-v-60b05515] {\n  float: right;\n  width: 80px;\n  height: 32px;\n  line-height: 32px;\n  font-size: 12px;\n  text-align: center;\n  padding: 0;\n}\n.cwf_approvalSetting .el-pagination[data-v-60b05515] {\n  text-align: center;\n}\n.cwf_approvalSetting[data-v-60b05515] .el-step__icon.is-text {\n  margin-bottom: 5px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content[data-v-60b05515] {\n  padding: 0 20px 20px 20px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content p[data-v-60b05515] {\n    padding: 0 40px;\n    text-align: left;\n    font-size: 14px;\n    color: #666666;\n}\n.cwf_approvalSetting .delete-dialog .dialog-content .el-icon-warning[data-v-60b05515] {\n    font-size: 18px;\n    color: #ff8900;\n    margin-right: 15px;\n}\n.cwf_approvalSetting .delete-dialog .dialog-btn[data-v-60b05515] {\n  text-align: center;\n}\n.cwf_approvalSetting .delete-dialog .dialog-btn .el-button[data-v-60b05515] {\n    width: 80px;\n    height: 32px;\n    line-height: 32px;\n    text-align: center;\n    vertical-align: middle;\n    padding: 0;\n}\n.cwf_approvalSetting .delete-dialog[data-v-60b05515] .el-dialog__body {\n  padding: 20px;\n}\n"],sourceRoot:""}])},84:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cwf_approvalSetting"},[n("div",[n("section",{staticClass:"flex-base flex-end"},[n("el-row",[n("el-button",{staticClass:"add",attrs:{type:"primary",plain:""},on:{click:t.addDetail}},[t._v("新建")])],1)],1),t._v(" "),n("section",[n("commonTable",{attrs:{tableData:t.tableData,tableLabels:t.tableLabels,tableOptions:t.tableOptions},on:{handleButton:t.handleButton}})],1),t._v(" "),0!=t.tableData.length?n("section",{staticClass:"flex-base flex-center pageStyle"},[n("el-pagination",{attrs:{background:"","current-page":t.pageConfig.currentPage,"page-sizes":t.pageConfig.pageSizes,"page-size":t.pageConfig.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:t.pageConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),t._v(" "),n("el-dialog",{staticClass:"delete-dialog",attrs:{visible:t.deleteDialogTableVisible,width:"25%"},on:{"update:visible":function(e){t.deleteDialogTableVisible=e}}},[n("div",{staticClass:"dialog-content"},[n("p",[n("i",{staticClass:"el-icon-warning"}),t._v("当前操作不可逆？您确定")]),t._v(" "),n("p",{staticStyle:{"padding-left":"73px"}},[t._v("要继续吗？")])]),t._v(" "),n("div",{staticClass:"dialog-btn"},[n("el-button",{staticStyle:{"margin-right":"29px"},attrs:{type:"primary"},on:{click:t.deleteCommit}},[t._v("继续")]),t._v(" "),n("el-button",{staticStyle:{"margin-left":"0px"},on:{click:function(e){t.deleteDialogTableVisible=!1}}},[t._v("取消")])],1)])],1)},i=[],o={render:a,staticRenderFns:i};e.a=o}});