webpackJsonpcwf([3],{52:function(a,e,t){"use strict";function n(a){t(76)}Object.defineProperty(e,"__esModule",{value:!0});var o=t(66),i=t(78),l=t(12),r=n,s=l(o.a,i.a,!1,r,"data-v-70b9d77a",null);e.default=s.exports},60:function(a,e,t){"use strict";e.a={name:"commonTable",components:{},props:{tableData:{required:!0,type:Array,default:[]},tableLabels:{required:!0,type:Array,default:[]},tableOptions:{required:!0,type:Object,default:{}},selection:{required:!1,type:Boolean,default:!1}},data:function(){return{options:[],moreOptions:[]}},created:function(){this.tableOptions&&this.tableOptions.options&&(this.tableOptions.options.length>4?(this.options=this.tableOptions.options.slice(0,4),this.moreOptions=this.tableOptions.options.slice(4,this.tableOptions.options.length)):this.options=this.tableOptions.options)},methods:{tableRowClassName:function(a){a.row;return a.rowIndex/2==0?"success-row":""},handleButton:function(a,e){this.$emit("handleButton",{method:a,scope:e})},handleSelectionChange:function(a){this.$emit("handleSelectionChange",a)},handleCommand:function(a){this.$emit("handleButton",{method:a.method,scope:a.scope})},composeValue:function(a,e){return{method:a.method,scope:e}}}}},62:function(a,e,t){"use strict";function n(a){t(63)}var o=t(60),i=t(65),l=t(12),r=n,s=l(o.a,i.a,!1,r,"data-v-5af32085",null);e.a=s.exports},63:function(a,e,t){var n=t(64);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);t(51)("3a0e8bd9",n,!0,{})},64:function(a,e,t){e=a.exports=t(50)(!0),e.push([a.i,"\n.el-table .success-row[data-v-5af32085] {\n  background: #f0f9eb;\n}\n.button[data-v-5af32085] {\n  display: inline-block;\n}\n.round[data-v-5af32085] {\n  border-radius: 50%;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  vertical-align: top;\n  border: 2px solid #bcbcbc;\n  float: left;\n}\n.round .round-number[data-v-5af32085] {\n    display: block;\n    color: #bcbcbc;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: -1px;\n    margin-left: -1px;\n}\n.line[data-v-5af32085] {\n  font-size: 12px;\n  color: #bcbcbc;\n  margin: 0 8px;\n  float: left;\n}\n.line .line-content[data-v-5af32085] {\n    margin: 11px 0px;\n    display: block;\n    width: 40px;\n    height: 1px;\n    background-color: #bcbcbc;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cwf/src/components/Table/commonTable.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,sBAAsB;EACtB,oBAAoB;EACpB,0BAA0B;EAC1B,YAAY;CACb;AACD;IACI,eAAe;IACf,eAAe;IACf,aAAa;IACb,kBAAkB;IAClB,mBAAmB;IACnB,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB;CACrB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,cAAc;EACd,YAAY;CACb;AACD;IACI,iBAAiB;IACjB,eAAe;IACf,YAAY;IACZ,YAAY;IACZ,0BAA0B;CAC7B",file:"commonTable.vue",sourcesContent:["\n.el-table .success-row[data-v-5af32085] {\n  background: #f0f9eb;\n}\n.button[data-v-5af32085] {\n  display: inline-block;\n}\n.round[data-v-5af32085] {\n  border-radius: 50%;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  vertical-align: top;\n  border: 2px solid #bcbcbc;\n  float: left;\n}\n.round .round-number[data-v-5af32085] {\n    display: block;\n    color: #bcbcbc;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: -1px;\n    margin-left: -1px;\n}\n.line[data-v-5af32085] {\n  font-size: 12px;\n  color: #bcbcbc;\n  margin: 0 8px;\n  float: left;\n}\n.line .line-content[data-v-5af32085] {\n    margin: 11px 0px;\n    display: block;\n    width: 40px;\n    height: 1px;\n    background-color: #bcbcbc;\n}\n"],sourceRoot:""}])},65:function(a,e,t){"use strict";var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,stripe:"",border:"","row-class-name":a.tableRowClassName},on:{"selection-change":a.handleSelectionChange}},[a.selection?t("el-table-column",{attrs:{type:"selection",width:"100"}}):a._e(),a._v(" "),a._l(a.tableLabels,function(e,n){return[e.hasTemplate?t("el-table-column",{key:n,attrs:{prop:e.prop?e.prop:"",label:e.label?e.label:"",width:e.width?e.width:"",fixed:!!e.fixed&&e.fixed,sortable:!!e.sortable&&e.sortable},scopedSlots:a._u([{key:"default",fn:function(n){return e.formatRole?["processList"==e.prop?[t("span",{staticStyle:{"font-size":"12px",color:"#333333",float:"left"}},[a._v("开始")]),a._v(" "),t("span",{staticClass:"line"},[t("span",{staticClass:"line-content"})]),a._v(" "),a._l(n.row.processList,function(e,n){return[t("span",{key:n},[t("span",{staticClass:"round"},[t("span",{staticClass:"round-number"},[a._v(a._s(n+1))])]),a._v(" "),t("span",{staticClass:"line"},[t("span",{staticClass:"line-content"})])])]}),a._v(" "),t("span",{staticStyle:{"font-size":"12px",color:"#333333",float:"left"}},[a._v("结束")])]:["statusRespons"==e.prop&&1==n.row.statusRespons?t("div",{staticStyle:{"font-size":"12px",color:"#739BFF"}},[a._v("\n              "+a._s(e.formatRole(n))+"\n            ")]):"statusRespons"==e.prop&&2==n.row.statusRespons?t("div",{staticStyle:{"font-size":"12px",color:"#2DBC2D"}},[a._v("\n              "+a._s(e.formatRole(n))+"\n            ")]):"statusRespons"==e.prop&&3==n.row.statusRespons?t("div",{staticStyle:{"font-size":"12px",color:"#F33430"}},[a._v("\n              "+a._s(e.formatRole(n))+"\n            ")]):[a._v("\n              "+a._s(e.formatRole(n))+"\n            ")]]]:void 0}}],null,!0)}):t("el-table-column",{key:n,attrs:{prop:e.prop?e.prop:"",label:e.label?e.label:"",width:e.width?e.width:"",fixed:!!e.fixed&&e.fixed}})]}),a._v(" "),t("el-table-column",{attrs:{label:a.tableOptions.label?a.tableOptions.label:"",fixed:!!a.tableOptions.fixed&&a.tableOptions.fixed,width:a.tableOptions.width?a.tableOptions.width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[a.tableOptions.options.length<=3?t("div",a._l(a.options,function(n,o){return t("span",{key:o},[n.condition(e)?t("el-button",{attrs:{type:"text"},on:{click:function(t){return a.handleButton(n.method,e)}}},[a._v(a._s(n.text))]):a._e()],1)}),0):t("div",[a._l(a.options,function(n,o){return t("span",{key:o},[n.condition(e)?t("el-button",{attrs:{type:"text"},on:{click:function(t){return a.handleButton(n.method,e)}}},[a._v(a._s(n.text))]):a._e()],1)}),a._v(" "),t("el-dropdown",{attrs:{trigger:"click"},on:{command:a.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[a._v("\n              更多"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a._l(a.moreOptions,function(n,o){return[n.condition(e)?t("el-dropdown-item",{key:o,attrs:{command:a.composeValue(n,e)}},[a._v(a._s(n.text))]):a._e()]})],2)],1)],2)]}}])})],2)],1)},o=[],i={render:n,staticRenderFns:o};e.a=i},66:function(a,e,t){"use strict";var n=t(62),o=requireModule("base"),i=o.cacheMixin;e.a={components:{commonTable:n.a},mixins:[i.cacheMixin],data:function(){return{cacheField:["searchFormData","bizTypeNameOptions","pageConfig"],subComName:"normalApproval",searchFormData:{applyUserName:"",bizNo:"",bizTypeName:"",pageNo:1,pageSize:10,status:"1"},bizTypeNameOptions:[],approvalStatusOptions:[{label:"全部",value:"0"},{label:"待审批",value:"1"},{label:"审核通过",value:"2"},{label:"审核驳回",value:"3"}],tenantId:this.$store.state.loginUser.consumerId||"",pageConfig:{start:0,pageSize:10,pageSizes:[10,20,30,40],currentPage:1,total:0},tableData:[],tableLabels:[{prop:"bizNo",label:"业务单据号"},{prop:"bizName",label:"单据名称"},{prop:"bizTypeName",label:"单据类型"},{prop:"createTime",label:"创建时间"},{prop:"applyUserName",label:"申请人"},{prop:"applyGroupName",label:"申请人单位"},{prop:"statusRespons",label:"审批状态",hasTemplate:!0,formatRole:function(a){switch(a.row.statusRespons){case 1:return"待审批";case 2:return"审核通过";case 3:return"驳回审核";case 4:return"未审批";default:return"未知状态"}}}],tableOptions:{label:"操作",fixed:"right",width:"200",options:[{text:"查看",method:"approvalDetail",condition:function(a){return!0}},{text:"审批",method:"approvalSetting",condition:function(a){return 1==a.row.statusRespons}}]}}},created:function(){this.handleSearch(),0==this.bizTypeNameOptions.length&&this.getBillNormalSetting()},methods:{getBillNormalSetting:function(){var a=this,e={global:1,orginizationId:0,tenantId:this.tenantId};this.$cwfList.getBillNormalSetting(e).then(function(e){e&&200===e.code&&1==e.flag?a.resetSearchParams(e.data.businessTypeList):200===e.code&&2==e.flag?a.resetSearchParams(e.data.businessTypeList):a.$message({message:e.msg,type:"warning",duration:1e3})}).catch(function(a){console.log(a)})},resetSearchParams:function(a){this.bizTypeNameOptions=a.map(function(a){return{label:a.businessName,value:a.businessName}}),console.log("bizTypeNameOptions",this.bizTypeNameOptions),this.bizTypeNameOptions.unshift({label:"全部",value:""})},search:function(){this.pageConfig.currentPage=1,this.handleSearch()},resetForm:function(){this.searchFormData={applyUserName:"",bizNo:"",bizTypeName:"",pageNo:1,pageSize:10,status:"1"}},handleSearch:function(){console.log("searchFormData",this.searchFormData);var a={};if(this.searchFormData.pageSize=this.pageConfig.pageSize,this.searchFormData.pageNo=this.pageConfig.currentPage,"0"==this.searchFormData.status)a.status=[1,2,3];else{var e=[];e.push(parseInt(this.searchFormData.status)),a.status=e}for(var t in this.searchFormData)"status"!=t&&this.searchFormData[t]&&(a[t]=this.searchFormData[t]);console.log("params",a),this.getDataList(a)},getDataList:function(a){var e=this;this.$cwfList.searchApproval(a).then(function(a){a&&200===a.code&&1==a.flag?(e.tableData=a.data,e.pageConfig.total=a.pageNum):200===a.code&&2==a.flag?(e.tableData=[],e.pageConfig.total=0):(e.tableData=[],e.pageConfig.total=0,e.$message({message:a.msg,type:"warning",duration:1e3}))}).catch(function(a){console.log(a)})},handleButton:function(a){this[""+a.method](a.scope)},approvalDetail:function(a){console.log("checkInfo",a),this.$router.push({path:"/workflow/checkNormalApproval",query:{atId:a.row.atId,type:"check"}})},approvalSetting:function(a){console.log("approvalInfo",a),this.$router.push({path:"/workflow/checkNormalApproval",query:{atId:a.row.atId,type:"approval"}})},handleSizeChange:function(a){this.pageConfig.pageSize=a,this.pageConfig.currentPage=1,this.handleSearch()},handleCurrentChange:function(a){this.pageConfig.currentPage=a,this.handleSearch()}}}},76:function(a,e,t){var n=t(77);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);t(51)("de45ba0a",n,!0,{})},77:function(a,e,t){e=a.exports=t(50)(!0),e.push([a.i,'\n[data-v-70b9d77a].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-70b9d77a].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__total,[data-v-70b9d77a].pageStyle .el-pagination .btn-prev,[data-v-70b9d77a].pageStyle .el-pagination .el-pager li,[data-v-70b9d77a].pageStyle .el-pagination .btn-next,[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__jump,[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .btn-prev,[data-v-70b9d77a].pageStyle .el-pagination .el-pager li,[data-v-70b9d77a].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-70b9d77a] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-70b9d77a] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n[data-v-70b9d77a] .el-select-dropdown__item {\n  font-size: 12px !important;\n  font-family: "MicrosoftYaHei" !important;\n}\n.cwf_normalApproval .cwf_search[data-v-70b9d77a] {\n  padding: 24px;\n  background-color: #f3f3f3;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] {\n    margin: 0;\n    margin-right: 32px;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-form-item__label {\n      color: #666666;\n      font-size: 12px !important;\n}\n.cwf_normalApproval .cwf_search .el-form-item .el-input[data-v-70b9d77a] {\n      width: 192px;\n      font-size: 12px !important;\n      color: #666666;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-select {\n      width: 192px;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-select .el-input__inner {\n        font-size: 12px !important;\n}\n.cwf_normalApproval .cwf_search .el-button[data-v-70b9d77a] {\n    width: 80px;\n}\n.cwf_normalApproval section[data-v-70b9d77a] {\n  margin-bottom: 15px;\n}\n.cwf_normalApproval .el-pagination[data-v-70b9d77a] {\n  text-align: center;\n}\n',"",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cwf/src/views/workflow/normalApproval/index.vue"],names:[],mappings:";AACA;EACE,2BAA2B;EAC3B,wBAAwB;EACxB,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,YAAY;CACb;AACD;EACE,eAAe;CAChB;AACD;EACE,2BAA2B;EAC3B,aAAa;EACb,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;EACb,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;CAChB;AACD;EACE,2BAA2B;EAC3B,yCAAyC;CAC1C;AACD;EACE,cAAc;EACd,0BAA0B;CAC3B;AACD;IACI,UAAU;IACV,mBAAmB;CACtB;AACD;MACM,eAAe;MACf,2BAA2B;CAChC;AACD;MACM,aAAa;MACb,2BAA2B;MAC3B,eAAe;CACpB;AACD;MACM,aAAa;CAClB;AACD;QACQ,2BAA2B;CAClC;AACD;IACI,YAAY;CACf;AACD;EACE,oBAAoB;CACrB;AACD;EACE,mBAAmB;CACpB",file:"index.vue",sourcesContent:['\n[data-v-70b9d77a].pageStyle .el-input .el-input__inner {\n  font-size: 12px !important;\n  height: 24px !important;\n  color: #666666;\n}\n[data-v-70b9d77a].pageStyle .el-pagination__sizes {\n  position: relative;\n  bottom: 1px;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__jump {\n  margin: 0 24px;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__total,[data-v-70b9d77a].pageStyle .el-pagination .btn-prev,[data-v-70b9d77a].pageStyle .el-pagination .el-pager li,[data-v-70b9d77a].pageStyle .el-pagination .btn-next,[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__jump,[data-v-70b9d77a].pageStyle .el-pagination .el-pagination__sizes {\n  font-size: 12px !important;\n  height: 24px;\n  line-height: 24px;\n  min-width: 24px;\n  border-radius: 4px;\n  background: #ffffff;\n  color: #666666;\n}\n[data-v-70b9d77a].pageStyle .el-pagination .btn-prev,[data-v-70b9d77a].pageStyle .el-pagination .el-pager li,[data-v-70b9d77a].pageStyle .el-pagination .btn-next {\n  border: 1px solid #BCBCBC;\n}\nsection[data-v-70b9d77a] {\n  margin-bottom: 15px;\n}\n.addBtn[data-v-70b9d77a] {\n  width: 80px;\n  padding-left: 0;\n  padding-right: 0;\n  height: 32px;\n  font-size: 12px;\n  border-color: #3B74FF;\n  color: #3B74FF;\n}\n[data-v-70b9d77a] .el-select-dropdown__item {\n  font-size: 12px !important;\n  font-family: "MicrosoftYaHei" !important;\n}\n.cwf_normalApproval .cwf_search[data-v-70b9d77a] {\n  padding: 24px;\n  background-color: #f3f3f3;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] {\n    margin: 0;\n    margin-right: 32px;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-form-item__label {\n      color: #666666;\n      font-size: 12px !important;\n}\n.cwf_normalApproval .cwf_search .el-form-item .el-input[data-v-70b9d77a] {\n      width: 192px;\n      font-size: 12px !important;\n      color: #666666;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-select {\n      width: 192px;\n}\n.cwf_normalApproval .cwf_search .el-form-item[data-v-70b9d77a] .el-select .el-input__inner {\n        font-size: 12px !important;\n}\n.cwf_normalApproval .cwf_search .el-button[data-v-70b9d77a] {\n    width: 80px;\n}\n.cwf_normalApproval section[data-v-70b9d77a] {\n  margin-bottom: 15px;\n}\n.cwf_normalApproval .el-pagination[data-v-70b9d77a] {\n  text-align: center;\n}\n'],sourceRoot:""}])},78:function(a,e,t){"use strict";var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"cwf_normalApproval"},[t("div",[t("section",[t("el-form",{ref:"searchFormData",staticClass:"cwf_search",attrs:{inline:!0,model:a.searchFormData}},[t("el-form-item",{attrs:{label:"业务单据号：","label-width":"84px"}},[t("el-input",{attrs:{placeholder:"业务单据号",clearable:""},on:{blur:function(){a.searchFormData.bizNo=a.searchFormData.bizNo.trim()}},model:{value:a.searchFormData.bizNo,callback:function(e){a.$set(a.searchFormData,"bizNo",e)},expression:"searchFormData.bizNo"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"申请人：","label-width":"60px"}},[t("el-input",{attrs:{placeholder:"申请人",clearable:""},on:{blur:function(){a.searchFormData.applyUserName=a.searchFormData.applyUserName.trim()}},model:{value:a.searchFormData.applyUserName,callback:function(e){a.$set(a.searchFormData,"applyUserName",e)},expression:"searchFormData.applyUserName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"单据类型：","label-width":"72px"}},[t("el-select",{attrs:{placeholder:"请选择单据类型"},model:{value:a.searchFormData.bizTypeName,callback:function(e){a.$set(a.searchFormData,"bizTypeName",e)},expression:"searchFormData.bizTypeName"}},a._l(a.bizTypeNameOptions,function(a){return t("el-option",{key:a.label,attrs:{label:a.label,value:a.value}})}),1)],1),a._v(" "),t("el-form-item",{attrs:{label:"审批状态：","label-width":"72px"}},[t("el-select",{attrs:{placeholder:"请选择审批状态"},model:{value:a.searchFormData.status,callback:function(e){a.$set(a.searchFormData,"status",e)},expression:"searchFormData.status"}},a._l(a.approvalStatusOptions,function(a){return t("el-option",{key:a.label,attrs:{label:a.label,value:a.value}})}),1)],1),a._v(" "),t("el-form-item",{staticClass:"btn-wrap"},[t("el-button",{attrs:{type:"primary"},on:{click:a.handleSearch}},[a._v("搜索")]),a._v(" "),t("el-button",{attrs:{plain:""},on:{click:function(e){return a.resetForm()}}},[a._v("重置")])],1)],1)],1),a._v(" "),t("section",[t("commonTable",{attrs:{tableData:a.tableData,tableLabels:a.tableLabels,tableOptions:a.tableOptions},on:{handleButton:a.handleButton}})],1),a._v(" "),0!=a.tableData.length?t("section",{staticClass:"flex-base flex-center pageStyle"},[t("el-pagination",{attrs:{background:"","current-page":a.pageConfig.currentPage,"page-sizes":a.pageConfig.pageSizes,"page-size":a.pageConfig.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:a.pageConfig.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()])])},o=[],i={render:n,staticRenderFns:o};e.a=i}});