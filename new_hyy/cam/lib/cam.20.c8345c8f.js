webpackJsonpcam([20],{102:function(e,t,a){"use strict";t.a={props:{currentTime:{dafault:null},dataList:{type:Array,default:function(){return null}}}}},141:function(e,t,a){"use strict";function i(e){a(142)}var n=a(102),r=a(144),o=a(15),s=i,l=o(n.a,r.a,!1,s,"data-v-1fe7c4b7",null);t.a=l.exports},142:function(e,t,a){var i=a(143);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(52)("e1583444",i,!0,{})},143:function(e,t,a){t=e.exports=a(51)(!0),t.push([e.i,"\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #666;\n}\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item:first-of-type .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #bcbcbc;\n}\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item:last-of-type .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #3b74ff;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cam/src/views/partical/breadCrumb.vue"],names:[],mappings:";AACA;EACE,YAAY;CACb;AACD;EACE,eAAe;CAChB;AACD;EACE,eAAe;CAChB",file:"breadCrumb.vue",sourcesContent:["\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #666;\n}\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item:first-of-type .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #bcbcbc;\n}\n.breadcrumb-wrap .el-breadcrumb .el-breadcrumb__item:last-of-type .el-breadcrumb__inner span[data-v-1fe7c4b7] {\n  color: #3b74ff;\n}\n"],sourceRoot:""}])},144:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex breadcrumb-wrap"},[a("el-breadcrumb",{staticClass:"reset-bread",attrs:{separator:"/","separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/analysis/new/home"}}},[a("span",{staticClass:" cursor",staticStyle:{"font-size":"12px"}},[e._v("经营决策")])]),e._v(" "),e._l(e.dataList,function(t,i){return a("el-breadcrumb-item",{key:i,attrs:{to:{path:t.path}}},[a("span",{staticClass:" cursor",staticStyle:{"font-size":"12px"}},[e._v(e._s(t.name))])])})],2),e._v(" "),e.currentTime?a("div",{staticClass:"current-time",staticStyle:{"font-size":"12px",color:"#666"}},[e._v("数据更新时间："+e._s(e.currentTime))]):e._e()],1)},n=[],r={render:i,staticRenderFns:n};t.a=r},161:function(e,t,a){e.exports={default:a(165),__esModule:!0}},165:function(e,t,a){a(166),e.exports=a(1).Object.assign},166:function(e,t,a){var i=a(16);i(i.S+i.F,"Object",{assign:a(167)})},167:function(e,t,a){"use strict";var i=a(0),n=a(27),r=a(168),o=a(169),s=a(88),l=a(32),c=Object.assign;e.exports=!c||a(6)(function(){var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[a]||Object.keys(c({},t)).join("")!=i})?function(e,t){for(var a=s(e),c=arguments.length,m=1,u=r.f,d=o.f;c>m;)for(var f,p=l(arguments[m++]),b=u?n(p).concat(u(p)):n(p),y=b.length,h=0;y>h;)f=b[h++],i&&!d.call(p,f)||(a[f]=p[f]);return a}:c},168:function(e,t){t.f=Object.getOwnPropertySymbols},169:function(e,t){t.f={}.propertyIsEnumerable},307:function(e,t,a){"use strict";var i=a(161),n=a.n(i),r=a(141),o=a(432),s=a(437),l=a(87);t.a={components:{BreadCrumb:r.a,UpdateCinemaKpi:o.a,CreateCinemaKpi:s.a},data:function(){return{dataList:[{name:"影院KPI管理"}],uploadData:{token:this.$store.state.loginToken,userId:this.$store.state.loginUser.uid},fullscreenLoading:!1,userId:this.$store.state.loginUser?this.$store.state.loginUser.uid:null,uploadUrl:this.$store.state.default.apiConfig.baseURL+"/analysis/cinemaManage/uploadCinemaKpi",time:null,cinemaName:null,info:null,tableData:[],sizes:l.a.pageSizes,size:15,page:1,total:0,loading:!1}},created:function(){this.getAllData()},methods:{getAllData:function(){this.page=1,this.size=15,this.getList()},downTemplate:function(){var e=this.$store.state.default.apiConfig.baseURL,t=e+"/analysis/cinemaManage/downloadCinemaKpi?token="+this.$store.state.loginToken;window.location.href=t},uploadSuccess:function(e,t,a){var i=e.code,n=e.message;-1024==i?this.$message({type:"warning",message:n}):495==i?this.$message({type:"warning",message:n}):this.getList()},uploadError:function(e,t,a){},beforeUpload:function(e){},getList:function(){var e=this,t={body:{userId:this.userId,cinemaName:this.cinemaName,monthDate:this.time,pageNo:this.page,pageSize:this.size}};this.$camList.getCinemaKpi(t).then(function(t){var a=t.data;a?(e.tableData=a.cinemaKpiList.list,e.total=a.cinemaKpiList.total):e.total=0})},createKpi:function(e){var t=this,a={body:e};this.$camList.createKpi(a).then(function(e){200==e.code?(t.$refs.create.handleClose(),t.getAllData()):t.$message({type:"warning",message:e.message})})},updateKpi:function(e){var t=this,a={body:e};this.$camList.updateKpi(a).then(function(e){t.$refs.update.show=!1,t.getAllData()})},delKpi:function(e,t){var a=this;this.$confirm("确定删除此影院的kpi?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(i){var n={body:{id:e,dateKey:t,userId:a.userId}};a.$camList.deleteKpi(n).then(function(e){a.getAllData()})})},search:function(){this.getAllData()},changeTime:function(e){this.time=e?this.$moment(e).format("YYYY-MM"):null},createShow:function(){this.$refs.create.show=!0},updateShow:function(e){this.info=e,this.info.userId=this.userId,this.$refs.update.infoData=n()({},this.info),this.$refs.update.show=!0},handleSizeChange:function(e){this.size=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()},formatNum:function(e,t,a){return l.a.formatNum(a)}}}},308:function(e,t,a){"use strict";var i=a(309),n=a.n(i);t.a={data:function(){var e=function(e,t,a){t||a(new Error("目标值不能为空")),n()(1*t)?1*t<0?a(new Error("目标值不能为负值")):1*t>9999999999?a(new Error("目标值不能超过9999999999")):a():a(new Error("请输入数字值"))};return{show:!1,infoData:null,ruleForm:{boxOfficeTarget:[{required:!0,validator:e}],sellGoodsTarget:[{required:!0,validator:e}],audienceCountTarget:[{required:!0,validator:e}],addMemberCount:[{required:!0,validator:e}],memberConsumeTarget:[{required:!0,validator:e}],marketShare:[{required:!0,validator:function(e,t,a){""==t?a(new Error("份额目标值不能为空")):1*t<0?a(new Error("份额目标值不能为负值")):1*t>100?a(new Error("份额目标值不能超过100")):a()}}]}}},methods:{sure:function(){var e=this;this.$refs.updateKpi.validate(function(t){t&&e.$emit("updateKpi",e.infoData)})},handleClose:function(){this.show=!1}}}},309:function(e,t,a){e.exports={default:a(433),__esModule:!0}},310:function(e,t,a){"use strict";var i=a(309),n=a.n(i);t.a={data:function(){var e=function(e,t,a){t||a(new Error("目标值不能为空")),n()(1*t)?t<0?a(new Error("目标值不能为负值")):t>9999999999?a(new Error("目标值不能超过9999999999")):a():a(new Error("请输入数字值"))},t=function(e,t,a){t?1*t<0?a(new Error("份额目标值不能为负值")):1*t>100?a(new Error("份额目标值不能超过100")):a():a(new Error("份额目标值不能为空"))};return{show:!1,cinemaName:null,cinemaId:null,setTimeoutId:null,options:[],userId:this.$store.state.loginUser?this.$store.state.loginUser.uid:null,infoData:{userId:this.$store.state.loginUser?this.$store.state.loginUser.uid:805852,cinemaName:null,cinemaCode:null,cinemaid:null,boxOfficeTarget:null,sellGoodsTarget:null,audienceCountTarget:null,addMemberCount:null,memberConsumeTarget:null,marketShare:null,dateKey:null},rules:{cinemaName:[{required:!0,message:"请输入影院名称"}],dateKey:[{required:!0,message:"请选择月份"}],boxOfficeTarget:[{required:!0,validator:e}],sellGoodsTarget:[{required:!0,validator:e}],audienceCountTarget:[{required:!0,validator:e}],addMemberCount:[{required:!0,validator:e}],memberConsumeTarget:[{required:!0,validator:e}],marketShare:[{required:!0,validator:t}]}}},methods:{getCinema:function(e,t){var a=this;this.infoData.cinemaCode=null,clearTimeout(this.setTimeoutId),this.setTimeoutId=setTimeout(function(){var i={body:{userId:a.userId,cinemaName:e,pageNo:1,pageSize:10}};a.$camList.getUnbindKpiCinema(i).then(function(e){if(a.options=e.data,a.options.length>0){var i=a.options.map(function(e){return{value:e.cinemaName,cinemaCode:e.cinemaCode,cinemaid:e.cinemaid}});t(i)}})},200)},selectCinema:function(e){this.infoData.cinemaCode=e.cinemaCode,this.infoData.cinemaName=e.value,this.infoData.cinemaid=e.cinemaid},sure:function(){var e=this;this.$refs.kpiRef.validate(function(t){t&&e.$emit("createKpi",e.infoData)})},handleClose:function(){this.$refs.kpiRef.resetFields(),this.show=!1}}}},432:function(e,t,a){"use strict";var i=a(308),n=a(436),r=a(15),o=r(i.a,n.a,!1,null,null,null);t.a=o.exports},433:function(e,t,a){a(434),e.exports=a(1).Number.isInteger},434:function(e,t,a){var i=a(16);i(i.S,"Number",{isInteger:a(435)})},435:function(e,t,a){var i=a(3),n=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&n(e)===e}},436:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reset-target-dialog"},[a("el-dialog",{attrs:{visible:e.show,title:"影院kpi编辑","before-close":e.handleClose,"close-on-click-modal":!1}},[e.infoData&&e.infoData.cinemaCode?a("div",{staticClass:"content",staticStyle:{"max-height":"500px"}},[a("el-form",{ref:"updateKpi",staticClass:"reset-form",attrs:{"label-width":"140px","label-position":"right",model:e.infoData,rules:e.ruleForm}},[a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"影院名称:"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.infoData.cinemaName,callback:function(t){e.$set(e.infoData,"cinemaName",t)},expression:"infoData.cinemaName"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"专资编码:"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.infoData.cinemaCode,callback:function(t){e.$set(e.infoData,"cinemaCode",t)},expression:"infoData.cinemaCode"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-select",attrs:{label:"时间选择:"}},[a("el-date-picker",{attrs:{disabled:"",size:"small",type:"month",placeholder:"选择月","value-format":"yyyy-MM-dd"},model:{value:e.infoData.dateKey,callback:function(t){e.$set(e.infoData,"dateKey",t)},expression:"infoData.dateKey"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"票房收入目标:",prop:"boxOfficeTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0},model:{value:e.infoData.boxOfficeTarget,callback:function(t){e.$set(e.infoData,"boxOfficeTarget",t)},expression:"infoData.boxOfficeTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{size:"samll",label:"卖品收入目标:",prop:"sellGoodsTarget"}},[a("el-input",{attrs:{type:"number",min:0},model:{value:e.infoData.sellGoodsTarget,callback:function(t){e.$set(e.infoData,"sellGoodsTarget",t)},expression:"infoData.sellGoodsTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"观影人次目标:",prop:"audienceCountTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0},model:{value:e.infoData.audienceCountTarget,callback:function(t){e.$set(e.infoData,"audienceCountTarget",t)},expression:"infoData.audienceCountTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 次")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"新增会员目标:",prop:"addMemberCount"}},[a("el-input",{attrs:{size:"small",type:"number",min:0},model:{value:e.infoData.addMemberCount,callback:function(t){e.$set(e.infoData,"addMemberCount",t)},expression:"infoData.addMemberCount"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"会员消费金额目标:",prop:"memberConsumeTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0},model:{value:e.infoData.memberConsumeTarget,callback:function(t){e.$set(e.infoData,"memberConsumeTarget",e._n(t))},expression:"infoData.memberConsumeTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"票房市场份额目标:",prop:"marketShare"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:1},model:{value:e.infoData.marketShare,callback:function(t){e.$set(e.infoData,"marketShare",e._n(t))},expression:"infoData.marketShare"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" %")])],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v(" 取消")])],1)])],1)},n=[],r={render:i,staticRenderFns:n};t.a=r},437:function(e,t,a){"use strict";var i=a(310),n=a(438),r=a(15),o=r(i.a,n.a,!1,null,null,null);t.a=o.exports},438:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reset-target-dialog"},[a("el-dialog",{attrs:{visible:e.show,title:"影院kpi创建","before-close":e.handleClose,"close-on-click-modal":!1}},[a("div",{staticClass:"content",staticStyle:{"max-height":"500px"}},[a("el-form",{ref:"kpiRef",staticClass:"reset-form",attrs:{"label-width":"150px","label-position":"right",model:e.infoData,rules:e.rules}},[a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"影院名称:",prop:"cinemaName"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{size:"small","fetch-suggestions":e.getCinema,placeholder:"请输入内容","trigger-on-focus":!1},on:{select:e.selectCinema},model:{value:e.infoData.cinemaName,callback:function(t){e.$set(e.infoData,"cinemaName",t)},expression:"infoData.cinemaName"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"专资编码:",prop:"cinemaCode"}},[a("el-input",{attrs:{size:"small",readonly:""},model:{value:e.infoData.cinemaCode,callback:function(t){e.$set(e.infoData,"cinemaCode",t)},expression:"infoData.cinemaCode"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-select",attrs:{label:"时间选择:",prop:"dateKey"}},[a("el-date-picker",{attrs:{size:"small",type:"month",placeholder:"选择月","value-format":"yyyy-MM"},model:{value:e.infoData.dateKey,callback:function(t){e.$set(e.infoData,"dateKey",t)},expression:"infoData.dateKey"}})],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"票房收入目标:",prop:"boxOfficeTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:9999999999},model:{value:e.infoData.boxOfficeTarget,callback:function(t){e.$set(e.infoData,"boxOfficeTarget",t)},expression:"infoData.boxOfficeTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{size:"small",label:"卖品收入目标:",prop:"sellGoodsTarget"}},[a("el-input",{attrs:{type:"number",min:0,max:9999999999},model:{value:e.infoData.sellGoodsTarget,callback:function(t){e.$set(e.infoData,"sellGoodsTarget",t)},expression:"infoData.sellGoodsTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"观影人次目标:",prop:"audienceCountTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:9999999999},model:{value:e.infoData.audienceCountTarget,callback:function(t){e.$set(e.infoData,"audienceCountTarget",t)},expression:"infoData.audienceCountTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 次")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"新增会员目标:",prop:"addMemberCount"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:9999999999},model:{value:e.infoData.addMemberCount,callback:function(t){e.$set(e.infoData,"addMemberCount",t)},expression:"infoData.addMemberCount"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 人")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"会员消费金额目标:",prop:"memberConsumeTarget"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:9999999999},model:{value:e.infoData.memberConsumeTarget,callback:function(t){e.$set(e.infoData,"memberConsumeTarget",t)},expression:"infoData.memberConsumeTarget"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" 元")])],1),e._v(" "),a("el-form-item",{staticClass:"reset-form-input",attrs:{label:"票房市场份额目标:",prop:"marketShare"}},[a("el-input",{attrs:{size:"small",type:"number",min:0,max:9999999999},model:{value:e.infoData.marketShare,callback:function(t){e.$set(e.infoData,"marketShare","string"==typeof t?t.trim():t)},expression:"infoData.marketShare"}}),e._v(" "),a("span",{staticClass:"tip"},[e._v(" %")])],1)],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v(" 取消")])],1)])],1)},n=[],r={render:i,staticRenderFns:n};t.a=r},439:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sale-content-wrap"},[a("div",{staticClass:"header-fixed"},[a("div",{staticClass:"time-wrap"},[a("div",{staticClass:"time-item"},[a("span",{staticClass:"label-title"},[e._v("时间选择:")]),e._v(" "),a("el-date-picker",{attrs:{editable:!1,clearable:"",size:"small",type:"month",placeholder:"选择月"},on:{change:e.changeTime},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("div",{staticClass:"time-item"},[a("span",{staticClass:"label-title"},[e._v("影院名称:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:e.cinemaName,callback:function(t){e.cinemaName=t},expression:"cinemaName"}})],1),e._v(" "),a("div",{staticClass:"time-item"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)])]),e._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"section-title flex"},[a("div",[e._v("影院列表")]),e._v(" "),a("div",{staticClass:"flex",staticStyle:{"vertical-align":"middle"}},[a("el-button",{staticStyle:{"margin-right":"10px"},on:{click:e.downTemplate}},[e._v("模版下载")]),e._v(" "),a("el-upload",{attrs:{"show-file-list":!1,action:e.uploadUrl,data:e.uploadData,name:"excel","list-type":"text","on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload}},[a("el-button",{staticStyle:{"margin-right":"10px"}},[e._v("导入KPI")])],1),e._v(" "),a("el-button",{on:{click:e.createShow}},[e._v("新建")])],1)]),e._v(" "),a("div",{staticClass:"section-content"},[a("div",{staticClass:"reset-table"},[a("el-table",{attrs:{border:"",data:e.tableData}},[a("el-table-column",{attrs:{prop:"cinemaCode",label:"专资编码","min-width":"90",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cinemaName",label:"影院名称","min-width":"160",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"dateKey",label:"月份","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"boxOfficeTarget",label:"票房收入目标(元)","min-width":"120",formatter:e.formatNum}}),e._v(" "),a("el-table-column",{attrs:{prop:"audienceCountTarget",label:"观影人次目标(次)","min-width":"120",formatter:e.formatNum}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellGoodsTarget",label:"卖品收入目标(元)","min-width":"120",formatter:e.formatNum}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMemberCount",label:"新增会员目标(人)","min-width":"120",formatter:e.formatNum}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberConsumeTarget",label:"会员消费金额目标(元)","min-width":"140",formatter:e.formatNum}}),e._v(" "),a("el-table-column",{attrs:{prop:"marketShare",label:"票房市场份额目标(%)","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"text-blue cursor",on:{click:function(a){return e.updateShow(t.row)}}},[e._v(" 编辑")]),e._v(" "),a("span",{staticClass:"text-blue cursor",staticStyle:{"padding-left":"10px"},on:{click:function(a){return e.delKpi(t.row.id,t.row.dateKey)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"reset-page"},[e.total>15?a("el-pagination",{attrs:{size:"mini",layout:"total,sizes,prev, pager, next, jumper","current-page":e.page,"page-sizes":e.sizes,"page-size":e.size,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e.total>0?a("span",{staticClass:"page-else"},[e._v("共"+e._s(e.total)+"条")]):e._e()],1)])]),e._v(" "),a("update-cinema-kpi",{ref:"update",on:{updateKpi:e.updateKpi}}),e._v(" "),a("create-cinema-kpi",{ref:"create",on:{createKpi:e.createKpi}})],1)},n=[],r={render:i,staticRenderFns:n};t.a=r},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(307),n=a(439),r=a(15),o=r(i.a,n.a,!1,null,null,null);t.default=o.exports},87:function(e,t,a){"use strict";var i=a(89),n=a.n(i),r={pageSize:15,pageSizes:[15,30,45,60],iconColors:["#fe825e","#8e7eff","#3b74ff","#FE6081","#fec107","#17cd31"],commodityDetailTrend:[{id:"xse",name:"销售额"},{id:"xsdl",name:"销售单量"},{id:"xssl",name:"销售数量 "},{id:"kdj",name:"客单价"},{id:"jdj",name:"件单价"},{id:"kdl",name:"客单量"}],commodityDetailTrendOther:[{id:"xsml",name:"销售毛利"},{id:"xsmll",name:"销售毛利率"},{id:"xscb",name:"销售成本 "},{id:"cbj",name:"成本价"},{id:"gml",name:"购买率"},{id:"rjmpje",name:"人均卖品金额"},{id:"hyxfzb",name:"会员消费占比"},{id:"cgsl",name:"采购数量"},{id:"cgcb",name:"采购成本"},{id:"pjcgj",name:"平均采购价"},{id:"qckcsl",name:"期初库存数量"},{id:"qckccbe",name:"期初库存成本额"},{id:"qmkcsl",name:"期末库存数量"},{id:"qmkccbe",name:"期末库存成本额"},{id:"kcslzzt",name:"库存数量周转天"},{id:"kcjezzt",name:"库存金额周转天"}],commodityTrend:[{id:"sqos",name:"在售SKU数量"},{id:"qoms",name:"动销SKU数量"},{id:"msr",name:"动销率 "},{id:"ps",name:"套餐销售额"},{id:"popc",name:"套餐消费占比"}],judgeOrgType:["group","area","cinema"].find(function(e){return location.pathname.includes(e)}),categoryTrend:[{id:"xse",name:"销售额"},{id:"xsdl",name:"销售单量"},{id:"xssl",name:"销售数量"},{id:"xsml",name:"销售毛利"},{id:"xscb",name:"销售成本"},{id:"rjmpje",name:"人均卖品金额"}],categoryTrendOther:[{id:"kdj",name:"客单价",isHistogram:!0},{id:"jdj",name:"件单价",isHistogram:!0},{id:"kdl",name:"客单量",isHistogram:!0},{id:"cbj",name:"成本价",isHistogram:!0},{id:"xsmlr",name:"销售毛利率",isHistogram:!0},{id:"gml",name:"购买率",isHistogram:!0},{id:"hyxfzb",name:"会员消费占比",isHistogram:!0}],salesIcon:{kdl:{icon:"icon-neiye-kedanjia",name:"客单量"},jdj:{icon:"icon-jingyingjuece-feiyong",name:"件单价"},kdj:{icon:"icon-jingyingjuece-feiyong",name:"客单价"},xssl:{icon:"icon-neiye-kedanjia",name:"销售数量"},xsdl:{icon:"icon-neiye-kedanjia",name:"销售单量"},xse:{icon:"icon-neiye-zongxiaoshoue",name:"销售额"},xscb:{icon:"icon-jingyingjuece-chengben",name:"销售成本"},xsml:{icon:"icon-neiye-jine",name:"销售毛利"},xsmlr:{icon:"icon-neiye-jine",name:"销售毛利率"},hyxfzb:{icon:"icon-jingyingjuece-fene",name:"会员消费占比"},tcxfzb:{icon:"icon-jingyingjuece-fene",name:"套餐消费占比"},rjmpje:{icon:"icon-jingyingjuece-feiyong",name:"人均卖品金额"},gml:{icon:"icon-neiye-zongxiaoshoue",name:"购买率"}},memberIcon:{xzhy:{icon:"icon-neiyegoumaishuai",name:"新增会员数"},yxhy:{icon:"icon-neiyegoumaishuai",name:"有效会员数"},ljhy:{icon:"icon-neiyegoumaishuai",name:"累计会员数"},xinkhy:{icon:"icon-neiyegoumaishuai",name:"新卡会员数"},xukhy:{icon:"icon-neiyegoumaishuai",name:"续卡会员数"},bkhy:{icon:"icon-neiyegoumaishuai",name:"补卡会员数"},czhy:{icon:"icon-neiyegoumaishuai",name:"储值会员数"},ydqhy30:{icon:"icon-neiyegoumaishuai",name:"已到期30天内会员"},ydqhy7:{icon:"icon-neiyegoumaishuai",name:"已到期7天内会员"},kzhyh:{icon:"icon-neiyegoumaishuai",name:"可转化用户数"},hykfsy:{icon:"icon-neiye-jine",name:"会员卡费收益"},hyczje:{icon:"icon-neiye-zongxiaoshoue",name:"会员储值金额"},hyxfje:{icon:"icon-neiye-zongxiaoshoue",name:"会员消费金额"},ljczye:{icon:"icon-neiye-jine",name:"累计储值余额"},hyxksy:{icon:"icon-neiye-jine",name:"会员新开卡收益"},hyxuksy:{icon:"icon-neiye-jine",name:"会员续卡收益"},hybksy:{icon:"icon-neiye-jine",name:"会员补卡收益"},hykdj:{icon:"icon-jingyingjuece-feiyong",name:"会员客单价"},hyrjgx:{icon:"icon-jingyingjuece-feiyong",name:"会员人均贡献"},hyxfzb:{icon:"icon-jingyingjuece-fene",name:"会员消费占比"},myxhyzb:{icon:"icon-jingyingjuece-fene",name:"有效会员占比"}},ticketIcon:{ddxfe:{icon:"icon-jingyingjuece-feiyong",name:"带动消费额"},ddxfdl:{icon:"icon-neiye-kedanjia",name:"带动消费单量"},kdj:{icon:"icon-jingyingjuece-feiyong",name:"客单价"},ffsl:{icon:"icon-neiye-kedanjia",name:"发放数量"},sysl:{icon:"icon-neiye-kedanjia",name:"使用数量"},syl:{icon:"icon-jingyingjuece-fene",name:"使用率"},yspqcb:{icon:"icon-jingyingjuece-chengben",name:"发放票券成本"},sypqcb:{icon:"icon-jingyingjuece-chengben",name:"使用票券成本"},cyhysl:{icon:"icon-neiyegoumaishuai",name:"参与会员数量"},hyxfzb:{icon:"icon-jingyingjuece-fene",name:"会员消费占比"}},officeIcon:{},boxOfficeMemberMap:{boxOffice:"memberBoxOffice",audienceCount:"memberAudienceCount",avgTicketPrice:"memberAvgTicketPrice",memberBoxOfficePer:"memberBoxOfficePer",hallServicePrice:"memberHallServicePrice",payBoxOffice:"memberPayBoxOffice",servicePrice:"memberServicePrice",splitBoxOffice:"memberSplitBoxOffice"},formatBoxOfficeTargetUnit:function(e,t){function a(e){if([-99999.99,99999.99].includes(e))return"";if(isNaN(e))return"";if(e>=0){if(e<1e4){return e.toFixed(2)<1e4?"":"万"}if(e<1e8){return(e/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var t=-1*e;if(t<1e4){return t.toFixed(2)<1e4?"":"万"}if(t<1e8){return(t/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var i,r=1*t;return(i={pf:a(r)+"元",gyrc:a(r)+"人",pjpj:"元",szl:"%",hyxfzb:"%",scfe:"%",sffwf:a(r)+"元",ytfwf:a(r)+"元",yjzzpf:a(r)+"元",fzpf:a(r)+"元",cc:a(r)+"场",rjcc:a(r)+"人",cjrc:a(r)+"人",dzsy:a(r)+"元",kcl:"%",boxOffice:a(r)+"元",audienceCount:a(r)+"人",avgTicketPrice:"元",attendanceRate:"%",memberBoxOfficePer:"%",servicePrice:a(r)+"元",hallServicePrice:a(r)+"元",payBoxOffice:a(r)+"元",splitBoxOffice:a(r)+"元",planShowCount:a(r)+"场",avgPlanShowCount:a(r)+"人",unShowCountRate:"%",avgSeatPrice:a(r)+"元",marketShare:"%","销售额":a(r)+"元","销售单量":a(r)+"单","销售数量":a(r)+"件","客单价":a(r)+"元","件单价":a(r)+"元","客单量":a(r)+"件/单","销售成本":a(r)+"元","销售毛利":a(r)+"元","成本价":a(r)+"元","销售毛利率":a(r)+"%","人均卖品金额":a(r)+"元","购买率":a(r)+"%","会员消费占比":a(r)+"%","套餐消费占比":a(r)+"%","采购数量":a(r)+"件","采购成本":a(r)+"元","平均采购价":a(r)+"元","期初库存数量":a(r)+"件","期初库存金额":a(r)+"元","期初库存成本额":a(r)+"元","期末库存数量":a(r)+"件","期末库存金额":a(r)+"元","期末库存成本额":a(r)+"元","库存数量周转天":a(r)+"天","库存金额周转天":a(r)+"天",xse:a(r)+"元",xsdl:a(r)+"单",xssl:a(r)+"件",cgsl:a(r)+"件",kdj:a(r)+"元",jdj:a(r)+"元",kdl:a(r)+"件/单",xscb:a(r)+"元",xsml:a(r)+"元",cbj:a(r)+"元",xsmll:a(r)+"%",rjmpje:a(r)+"元",gml:a(r)+"%"},n()(i,"hyxfzb",a(r)+"%"),n()(i,"tcxfzb",a(r)+"%"),n()(i,"cgcb",a(r)+"元"),n()(i,"pjcgj",a(r)+"元"),n()(i,"qckcsl",a(r)+"件"),n()(i,"qckccbe",a(r)+"元"),n()(i,"qmkcsl",a(r)+"件"),n()(i,"qmkccbe",a(r)+"元"),n()(i,"kcslzzt",a(r)+"天"),n()(i,"kcjezzt",a(r)+"天"),n()(i,"sqos",a(r)+"件"),n()(i,"qoms",a(r)+"件"),n()(i,"msr",a(r)+"%"),n()(i,"nop",a(r)+"件"),n()(i,"ps",a(r)+"元"),n()(i,"popc",a(r)+"%"),i)[e]},boxOfficeTrend:[{id:"boxOffice",name:"票房"},{id:"audienceCount",name:"观影人次"},{id:"avgTicketPrice",name:"平均票价"},{id:"servicePrice",name:"三方服务费"},{id:"splitBoxOffice",name:"分账票房"},{id:"payBoxOffice",name:"应缴专资票房"}],boxOfficeTrendOther:[{id:"avgPlanShowCount",name:"场均人次"},{id:"attendanceRate",name:"上座率"},{id:"avgSeatPrice",name:"单座产出"},{id:"planShowCount",name:"场次"},{id:"hallServicePrice",name:"影厅服务费",onlyMember:!0},{id:"memberBoxOfficePer",name:"会员消费占比",onlyMember:!0},{id:"marketShare",name:"市场份额"},{id:"unShowCountRate",name:"空场率"}],boxOfficeMovie:[{id:"boxOffice",name:"票房"},{id:"audienceCount",name:"观影人次"},{id:"servicePrice",name:"三方服务费"}],boxOfficeMovieOther:[{id:"avgTicketPrice",name:"平均票价",onlyMember:!0},{id:"planShowCount",name:"场次"},{id:"hallServicePrice",name:"影厅服务费",onlyMember:!0},{id:"payBoxOffice",name:"应缴专资票房",onlyMember:!0},{id:"splitBoxOffice",name:"分账票房",onlyMember:!0},{id:"attendanceRate",name:"上座率"},{id:"avgPlanShowCount",name:"场均人次"},{id:"unShowCountRate",name:"空场率"},{id:"memberBoxOfficePer",name:"会员消费占比",onlyMember:!0}],boxOfficeChannelOther:[{id:"avgTicketPrice",name:"平均票价",onlyMember:!0},{id:"memberBoxOfficePer",name:"会员消费占比",onlyMember:!0}],targetLabel:[{id:"xse",name:"销售额"},{id:"xsdl",name:"销售单量"},{id:"xssl",name:"销售数量"},{id:"kdj",name:"客单价"},{id:"jdj",name:"件单价"},{id:"kdl",name:"客单量"}],otherLabel1:[{id:"xsml",name:"销售毛利"},{id:"xsmlr",name:"销售毛利率"},{id:"xscb",name:"销售成本"},{id:"gml",name:"购买率"},{id:"rjmpje",name:"人均卖品金额"},{id:"hyxfzb",name:"会员消费占比"}],otherLabel:[{id:"xsml",name:"销售毛利"},{id:"xsmlr",name:"销售毛利率"},{id:"xscb",name:"销售成本"},{id:"gml",name:"购买率"},{id:"rjmpje",name:"人均卖品金额"},{id:"hyxfzb",name:"会员消费占比"},{id:"tcxfzb",name:"套餐消费占比"}],saleTargetUnitMap:{xse:"元",xscb:"元",xsdl:"单",xssl:"件",xsml:"元",xsmlr:"%",kdj:"元",kdl:"件/单",jdj:"元",gml:"%",rjmpje:"元",hyxfzb:"%",tcxfzb:"%",cbj:"元"},memberTargetUnitMap:{xzhy:"人",yxhy:"人",ljhy:"人",kzhyh:"人",xinkhy:"人",xukhy:"人",bkhy:"人",czhy:"人",ydqhy30:"人",ydqhy7:"人",hykfsy:"元",hyczje:"元",ljczye:"元",hyxfje:"元",hyxksy:"元",hyxuksy:"元",hybksy:"元",hykdj:"元",hyrjgx:"元",hyxfzb:"%",myxhyzb:"%"},memberTargetLabel:[{id:"xzhy",name:"新增会员数"},{id:"yxhy",name:"有效会员数"},{id:"ljhy",name:"累计会员数"},{id:"kzhyh",name:"可转化用户数"},{id:"xinkhy",name:"新卡会员数"},{id:"xukhy",name:"续卡会员数"}],memberOtherLabel:[{id:"bkhy",name:"补卡会员数"},{id:"czhy",name:"储值会员数"},{id:"ydqhy30",name:"到期30天内会员数"},{id:"ydqhy7",name:"到期7天内会员数"},{id:"hykfsy",name:"会员卡费收益"},{id:"hyczje",name:"会员储值金额"},{id:"hyxfje",name:"会员消费金额"},{id:"ljczje",name:"累计储值金额"},{id:"hyxksy",name:"会员新开卡收益"},{id:"hyxuksy",name:"会员续卡收益"},{id:"hybksy",name:"会员补卡收益"},{id:"hykdj",name:"会员客单价"},{id:"hyrjgx",name:"会员人均贡献"},{id:"hyzhl",name:"会员转化率"},{id:"hyxfzb",name:"会员消费占比"},{id:"yxhyxfzb",name:"有效会员占比"}],ticketTargetUnitMap:{ddxfe:"元",ddxfdl:"单",kdj:"元",ffsl:"张",sysl:"张",syl:"%",yspqcb:"元",sypqcb:"元",cyhysl:"人",hyxfzb:"%"},targetNum:["xzhy","yxhy","ljhy","kzhyh","xinkhy","xukhy","bkhy","czhy","ydqhy30","ydqhy7","ddxfdl","ffsl","sysl","cyhysl"],formatNum:function(e,t,a){var i=1*e,n=2;if(a||(a=""),n=0==t?0:2,isNaN(i))return"∞"==e?"∞"+a:"--"+a;if(i>=0){if(i<1e4){var r=i.toFixed(n);return r<1e4?r+a:"1.00万"+a}if(i<1e8){var o=(i/1e4).toFixed(2);return o<1e4?o+"万"+a:"1.00亿"+a}return(i/1e8).toFixed(2)+"亿"+a}var s=-1*i;if(s<1e4){var l=s.toFixed(n);return l<1e4?(-1*l).toFixed(n)+a:"-1.00万"+a}if(s<1e8){var c=(s/1e4).toFixed(2);return c<1e4?(-1*c).toFixed(2)+"万"+a:"-1.00亿"+a}return(s/1e8*-1).toFixed(2)+"亿"+a},formatMoney:function(e,t){var a=1*e,i=2;if(i=void 0===t?2:t,isNaN(a))return"∞"==e?"∞":"--";if(a>=0){if(a<1e4){var n=a.toFixed(i);return n<1e4?n:"1.00"}if(a<1e8){var r=(a/1e4).toFixed(2);return r<1e4?r:"1.00"}return(a/1e8).toFixed(2)}var o=-1*a;if(o<1e4){var s=o.toFixed(i);return s<1e4?(-1*s).toFixed(i):"-1.00"}if(o<1e8){var l=(o/1e4).toFixed(2);return l<1e4?(-1*l).toFixed(2):"-1.00"}return(o/1e8*-1).toFixed(2)},formatTargetUnit:function(e,t){function a(e){if(isNaN(e))return"";if(e>=0){if(e<1e4){return e.toFixed(2)<1e4?"":"万"}if(e<1e8){return(e/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var t=-1*e;if(t<1e4){return t.toFixed(2)<1e4?"":"万"}if(t<1e8){return(t/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var i=1*t;return{xse:a(i)+"元",xscb:a(i)+"元",xsdl:a(i)+"元",xssl:a(i)+"件",xsml:a(i)+"元",kdj:a(i)+"元",kdl:a(i)+"件/单",jdj:a(i)+"元",rjmpje:a(i)+"元",cbj:a(i)+"元",gml:a(i)+"%",xsmlr:a(i)+"%",hyxfzb:a(i)+"%",tcxfzb:a(i)+"%"}[e]},formatInventoryUnit:function(e,t){return function(e){if(isNaN(e))return"";if(e>=0){if(e<1e4){return e.toFixed(2)<1e4?"":"万"}if(e<1e8){return(e/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var t=-1*e;if(t<1e4){return t.toFixed(2)<1e4?"":"万"}if(t<1e8){return(t/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}(1*t)+e},formatMemberTargetUnit:function(e,t){function a(e){if(isNaN(e))return"";if(e>=0){if(e<1e4){return e.toFixed(2)<1e4?"":"万"}if(e<1e8){return(e/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var t=-1*e;if(t<1e4){return t.toFixed(2)<1e4?"":"万"}if(t<1e8){return(t/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var i=1*t;return{xzhy:a(i)+"人",yxhy:a(i)+"人",ljhy:a(i)+"人",kzhyh:a(i)+"人",xinkhy:a(i)+"人",xukhy:a(i)+"人",bkhy:a(i)+"人",czhy:a(i)+"人",ydqhy30:a(i)+"人",ydqhy7:a(i)+"人",hykfsy:a(i)+"元",hyczje:a(i)+"元",ljczye:a(i)+"元",hyxfje:a(i)+"元",hyxksy:a(i)+"元",hyxuksy:a(i)+"元",hybksy:a(i)+"元",hykdj:a(i)+"元",hyrjgx:a(i)+"元",hyxfzb:a(i)+"%",myxhyzb:a(i)+"%"}[e]},formatTicketUnit:function(e,t){function a(e){if(isNaN(e))return"";if(e>=0){if(e<1e4){return e.toFixed(2)<1e4?"":"万"}if(e<1e8){return(e/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var t=-1*e;if(t<1e4){return t.toFixed(2)<1e4?"":"万"}if(t<1e8){return(t/1e4).toFixed(2)<1e4?"万":"亿"}return"亿"}var i=1*t;return{ddxfe:a(i)+"元",ddxfdl:a(i)+"单",kdj:a(i)+"元",ffsl:a(i)+"张",sysl:a(i)+"张",syl:"%",yspqcb:a(i)+"元",sypqcb:a(i)+"元",cyhysl:a(i)+"人",hyxfzb:"%"}[e]}};t.a=r},88:function(e,t,a){var i=a(18);e.exports=function(e){return Object(i(e))}},89:function(e,t,a){"use strict";t.__esModule=!0;var i=a(90),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},90:function(e,t,a){e.exports={default:a(91),__esModule:!0}},91:function(e,t,a){a(92);var i=a(1).Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},92:function(e,t,a){var i=a(16);i(i.S+i.F*!a(0),"Object",{defineProperty:a(4).f})}});