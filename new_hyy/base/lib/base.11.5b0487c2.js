webpackJsonpbase([11],{204:function(e,t,r){"use strict";function a(e){r(413),r(415)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(274),n=r(417),o=r(46),l=a,s=o(i.a,n.a,!1,l,"data-v-072d188a",null);t.default=s.exports},274:function(e,t,r){"use strict";var a=r(18),i=r.n(a),n=r(82),o=r(47);t.a={name:"editUser",mixins:[n.a.cacheMixin],data:function(){var e=function(e,t,r){var a=/^[A-Za-z0-9_\-]{1,20}$/;if(!t)return r(new Error("用户编码不能为空"));a.test(t)?r():r(new Error("请输入字母或数字，长度在20个字符以内"))},t=function(e,t,r){var a=/^[\u4E00-\u9FA5A-Za-z0-9`~!@#$%^&*()_+<>?:"{},.【】\\\/;\-'[\]\s\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]{1,20}$/;if(!t)return r(new Error("请输入用户名称"));a.test(t)?r():r(new Error("请输入汉字，字母或数字，长度在20个字符以内"))},r=function(e,t,r){var a=/^[A-Za-z0-9`~!@#$%^&*()_+<>?:"{},.【】\\\/;\-'[\]\s\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]{1,20}$/;if(!t)return r(new Error("用户账号不能为空"));a.test(t)?r():r(new Error("请输入字母或数字，长度在20个字符以内"))},a=function(e,t,r){var a=/^(0|86|17951)?(13[0-9]|15[012356789]|17[01678]|18[0-9]|14[57])[0-9]{8}$/;t?a.test(t)?r():r(new Error("手机号格式有误")):r()},i=function(e,t,r){var a=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;t?a.test(t)?r():r(new Error("邮箱格式有误")):r()};return{getRowKey:function(e){return e.uid},cacheField:["ruleForm","deptIds","roleIds","orgType","orgUid"],multipleSelection:[],dialogVisible:!1,roleFlag:!1,total:null,currentPage:1,pageSize:10,treeFlag:!1,dialogVisible2:!1,dialogVisible3:!1,organizationName:"",organizationUid:"",formLabelWidth:"100px",uid:"",roleArr:[],roleIds:[],orgArr:[],deptArr:[],attributeArr:[],orgType:"",radioType:1,title:"",defaultProps:{children:"children",label:"text"},orgUid:"",ruleForm:{loginName:"",fullName:"",empCode:"",status:"0",attributeType:"",rolesName:"",orgName:"",deptName:"",phone:"",email:""},deptIds:[],deptNameArr:[],rules:{loginName:[{validator:r,required:!0,trigger:"blur"}],fullName:[{validator:t,required:!0,trigger:"blur"}],empCode:[{validator:e,required:!0,trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}],attributeType:[{required:!0,message:"请选择用户属性",trigger:"blur"}],rolesName:[{required:!0,message:"请选择角色",trigger:"blur"}],orgName:[{required:!0,message:"请选择组织",trigger:"blur"}],deptName:[{required:!0,message:"请选择数据权限",trigger:"blur"}],phone:[{validator:a,trigger:"blur"}],email:[{validator:i,trigger:"blur"}]},selectData:[],removeData:[]}},created:function(){this.uid=localStorage.getItem("onlyUser"),this.getUser(),this.getAttribute()},methods:{getCinema:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";if(!e)return[];var r=JSON.parse(i()(e)),a=[];if(Array.isArray(r))for(var n=0;n<r.length;n++)1==r[n].isCinema&&a.push(r[n]),a=a.concat(this.getCinema(r[n][t],t)),delete r[n][t];return a},chooseOrg:function(e){0==e?this.getOrgList():this.getDeptTreeList()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=t,a={user:{uid:t.uid,loginName:t.ruleForm.loginName,fullName:t.ruleForm.fullName,empCode:t.ruleForm.empCode,status:t.ruleForm.status,attributeType:t.ruleForm.attributeType,orgUid:t.orgUid,orgType:t.orgType,phone:t.ruleForm.phone,email:t.ruleForm.email},roleIds:t.roleIds,deptIds:t.deptIds,radioType:t.radioType};Object(o.F)(a).then(function(e){e&&200==e.code?(r.$message({message:"用户修改成功",type:"success"}),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push("index")):r.$message({message:e.msg,type:"info"})}).catch(function(){r.$message({message:"网络繁忙，请稍后再试",type:"info"})})})},ok2:function(){var e=this.$refs.tree2.getCheckedNodes(),t=[],r=[];1==this.radioType?(e.forEach(function(e){t.push(e.id),r.push(e.text)}),this.deptIds=t,this.ruleForm.deptName=r.join("，"),this.deptNameArr=this.$refs.tree2.getCheckedNodes()):0==this.radioType&&(e.forEach(function(e){t.push(e.id),e.children||r.push(e.text)}),this.deptIds=t,this.ruleForm.deptName=r.join("，"),this.deptNameArr=this.$refs.tree2.getCheckedNodes().filter(function(e){return void 0==e.children})),this.dialogVisible2=!1},ok3:function(){this.orgUid=this.organizationUid,this.ruleForm.orgName=this.organizationName,this.dialogVisible3=!1},cancel:function(e){var t=this;switch(e){case 1:this.removeData.length&&this.removeData.forEach(function(e){t.multipleSelection.push(e)}),this.selectData.length&&this.selectData.forEach(function(e){var r=t.multipleSelection.findIndex(function(t){return t.uid==e.uid});t.multipleSelection.splice(r,1)}),this.selectData=[],this.removeData=[],this.dialogVisible=!1;break;case 2:this.dialogVisible2=!1;break;case 3:this.dialogVisible3=!1}},resetForm:function(e){this.$refs[e].resetFields(),this.$store.commit("tagNav/removeTagNav",this.$route),this.$router.push("index")},handleNodeClick:function(e){1==e.isCinema?this.orgType=1:this.orgType=0,this.organizationName=e.text,this.organizationUid=e.id},getUser:function(){var e=this;Object(o.R)(this.uid).then(function(t){t&&200==t.code&&(e.ruleForm.loginName=t.data.user.loginName,e.ruleForm.fullName=t.data.user.fullName,e.ruleForm.status=t.data.user.status.toString(),e.ruleForm.empCode=t.data.user.empCode,e.orgUid=t.data.user.orgUid,e.ruleForm.orgName=t.data.user.organization.name,t.data.user.roles&&(e.multipleSelection=t.data.user.roles,e.roleIds=e.multipleSelection.map(function(e){return e.uid}),e.ruleForm.rolesName=e.multipleSelection.map(function(e){return e.name}).join("，")),e.ruleForm.attributeType=t.data.user.attributeType?t.data.user.attributeType.toString():"",e.orgType=t.data.user.orgType.toString(),e.radioType=t.data.radioType.toString(),e.ruleForm.phone=t.data.user.phone,e.ruleForm.email=t.data.user.email,JSON.parse(i()(t.data.dataPurview))&&(e.deptNameArr=JSON.parse(i()(t.data.dataPurview)),e.deptIds=e.deptNameArr.map(function(e){return e.uid}),e.ruleForm.deptName=e.deptNameArr.map(function(e){return e.name}).join("，")))}).catch(function(){})},ok:function(){this.multipleSelection.length?(this.roleIds=this.multipleSelection.map(function(e){return e.uid}),this.ruleForm.rolesName=this.multipleSelection.map(function(e){return e.name}).join("，"),this.dialogVisible=!1,this.selectData=[],this.removeData=[]):this.$message({message:"所属角色不能为空",type:"info"})},rowOneToggle:function(e){for(var t=0;t<this.multipleSelection.length;t++)if(e.uid==this.multipleSelection[t].uid)return this.removeData.push(e),void this.multipleSelection.splice(t,1);this.multipleSelection.push(e),this.selectData.push(e)},rowOneAdd:function(e){for(var t=0;t<this.multipleSelection.length;t++)if(e.uid==this.multipleSelection[t].uid)return;this.multipleSelection.push(e),this.selectData.push(e)},rowOneRemove:function(e){for(var t=0;t<this.multipleSelection.length;t++)if(e.uid==this.multipleSelection[t].uid)return this.removeData.push(e),void this.multipleSelection.splice(t,1)},deleteItem:function(e,t){this.removeData.push(t),this.multipleSelection.splice(e,1),this.$refs.multipleTable.clearSelection(),this.rowMultipleChecked(this.multipleSelection)},clearSelect:function(){var e=this;this.multipleSelection.forEach(function(t){e.removeData.push(t)});try{this.$refs.multipleTable.clearSelection()}catch(e){console.log(e)}this.multipleSelection=[]},handleSelect:function(e,t){if(t)this.rowOneToggle(t);else if(0==e.length)for(var r=0;r<this.roleArr.length;r++){var a=this.roleArr[r];this.rowOneRemove(a)}else for(var i=0;i<e.length;i++){var n=e[i];this.rowOneAdd(n)}},rowMultipleChecked:function(e){if(0!=e.length)for(var t=0;t<e.length;t++)for(var r=0;r<this.roleArr.length;r++)if(e[t].uid==this.roleArr[r].uid){this.$refs.multipleTable.toggleRowSelection(this.roleArr[r],!0);break}},getRoleTreeList:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize};Object(o._12)(t).then(function(t){t&&200==t.code?(e.roleArr=t.data.rows,e.currentPage=t.data.pageNum,e.pageSize=t.data.pageSize,e.total=t.data.total,e.$refs.multipleTable.clearSelection(),e.rowMultipleChecked(e.multipleSelection)):e.error(t.msg)}).catch(function(){})},getTree:function(e){1==e?(this.dialogVisible=!0,this.title="选择所属角色",this.getRoleTreeList()):2==e?(this.dialogVisible3=!0,this.title="选择所属组织",this.getOrgTreeList()):3==e&&(this.dialogVisible2=!0,this.radioType&&0==this.radioType?this.getOrgList():this.getDeptTreeList())},getOrgTreeList:function(){var e=this;Object(o.V)().then(function(t){t&&200==t.code&&(e.orgArr=t.data,e.$nextTick(function(){e.$refs.tree.setCurrentKey(e.orgUid)}))}).catch(function(){})},getOrgList:function(){var e=this;Object(o.V)({showCinema:Boolean(!1)}).then(function(t){t&&200==t.code?(e.deptArr=t.data,e.deptIds&&e.$refs.tree2.setCheckedKeys(e.deptIds)):e.error(t.msg)}).catch(function(){})},getDeptTreeList:function(){var e=this;Object(o.z)().then(function(t){t&&200==t.code&&(e.deptArr=e.getCinema(t.data,"children"),e.deptIds&&e.$refs.tree2.setCheckedKeys(e.deptIds))}).catch(function(){})},getAttribute:function(){var e=this;Object(o.g)().then(function(t){t&&200==t.code?e.attributeArr=t.data:e.error(t.msg)}).catch(function(){})},handleCurrentChange:function(e){this.currentPage=e,this.getRoleTreeList()},handleSizeChange:function(e){this.pageSize=e,this.getRoleTreeList()}}}},413:function(e,t,r){var a=r(414);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(182)("9ae6d67c",a,!0,{})},414:function(e,t,r){t=e.exports=r(181)(!0),t.push([e.i,"\n.treeDialog .el-dialog__body {\n  border-bottom: 1px solid #e5e5e5;\n  margin-bottom: 10px;\n}\n.treeDialog .el-dialog {\n  height: auto;\n}\n.targetTable .el-dialog__body {\n  border-top: 1px solid #e5e5e5;\n}\n.targetTable .el-dialog {\n  height: auto;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/base/src/views/sysMange/userManage/editUser.vue"],names:[],mappings:";AACA;EACE,iCAAiC;EACjC,oBAAoB;CACrB;AACD;EACE,aAAa;CACd;AACD;EACE,8BAA8B;CAC/B;AACD;EACE,aAAa;CACd",file:"editUser.vue",sourcesContent:["\n.treeDialog .el-dialog__body {\n  border-bottom: 1px solid #e5e5e5;\n  margin-bottom: 10px;\n}\n.treeDialog .el-dialog {\n  height: auto;\n}\n.targetTable .el-dialog__body {\n  border-top: 1px solid #e5e5e5;\n}\n.targetTable .el-dialog {\n  height: auto;\n}\n"],sourceRoot:""}])},415:function(e,t,r){var a=r(416);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(182)("0c791a68",a,!0,{})},416:function(e,t,r){t=e.exports=r(181)(!0),t.push([e.i,"\n.content-wrapper[data-v-072d188a] {\n  height: 100%;\n  /*.el-dialog{\r\n            min-height:556px;\r\n        }*/\n}\n.content-wrapper .el-input[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .el-input__inner[data-v-072d188a] {\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.content-wrapper .el-select[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .box[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .box:hover .tool[data-v-072d188a] {\n      display: block;\n}\n.content-wrapper .tool[data-v-072d188a] {\n    display: none;\n    width: 290px;\n    position: absolute;\n    top: 100%;\n    left: 38px;\n    z-index: 100;\n    background: rgba(0, 0, 0, 0.8);\n    color: #fff;\n    border-radius: 5px 5px 5px 5px;\n}\n.content-wrapper .tool li[data-v-072d188a] {\n      height: 24px;\n      line-height: 24px;\n      padding-left: 10px;\n}\n.content-wrapper .flex-wrapper[data-v-072d188a] {\n    display: -ms-flexbox;\n    display: -webkit-box;\n    display: flex;\n    border: 1px solid #efefef;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.content-wrapper .flex-wrapper .table-left[data-v-072d188a] {\n      box-flex: 1;\n      -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n      border-right: 1px solid #efefef;\n}\n.content-wrapper .flex-wrapper .table-left .table-content[data-v-072d188a] {\n        height: 342px;\n        overflow-y: auto;\n}\n.content-wrapper .flex-wrapper .select-wrapper[data-v-072d188a] {\n      width: 224px;\n      overflow: auto;\n      max-height: 380px;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-header[data-v-072d188a] {\n        padding: 12px 12px;\n        border-bottom: 1px solid #efefef;\n        font-size: 13px;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-header span[data-v-072d188a] {\n          float: right;\n          cursor: pointer;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item[data-v-072d188a] {\n        padding: 12px 12px;\n        border-bottom: 1px solid #efefef;\n        font-size: 13px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item .span-left[data-v-072d188a] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          width: 168px;\n          font-size: 12px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item .span-right[data-v-072d188a] {\n          display: inline-block;\n          -webkit-box-flex: 0;\n              -ms-flex: 0 0 20px;\n                  flex: 0 0 20px;\n          cursor: pointer;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/base/src/views/sysMange/userManage/editUser.vue"],names:[],mappings:";AACA;EACE,aAAa;EACb;;WAES;CACV;AACD;IACI,aAAa;CAChB;AACD;IACI,iBAAiB;IACjB,wBAAwB;CAC3B;AACD;IACI,aAAa;CAChB;AACD;IACI,aAAa;CAChB;AACD;MACM,eAAe;CACpB;AACD;IACI,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,WAAW;IACX,aAAa;IACb,+BAA+B;IAC/B,YAAY;IACZ,+BAA+B;CAClC;AACD;MACM,aAAa;MACb,kBAAkB;MAClB,mBAAmB;CACxB;AACD;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,0BAA0B;IAC1B,+BAA+B;YACvB,uBAAuB;CAClC;AACD;MACM,YAAY;MACZ,oBAAoB;MACpB,YAAY;UACR,QAAQ;MACZ,gCAAgC;CACrC;AACD;QACQ,cAAc;QACd,iBAAiB;CACxB;AACD;MACM,aAAa;MACb,eAAe;MACf,kBAAkB;CACvB;AACD;QACQ,mBAAmB;QACnB,iCAAiC;QACjC,gBAAgB;CACvB;AACD;UACU,aAAa;UACb,gBAAgB;CACzB;AACD;QACQ,mBAAmB;QACnB,iCAAiC;QACjC,gBAAgB;QAChB,qBAAqB;QACrB,qBAAqB;QACrB,cAAc;CACrB;AACD;UACU,oBAAoB;cAChB,YAAY;kBACR,QAAQ;UAChB,aAAa;UACb,gBAAgB;UAChB,iBAAiB;UACjB,wBAAwB;UACxB,oBAAoB;CAC7B;AACD;UACU,sBAAsB;UACtB,oBAAoB;cAChB,mBAAmB;kBACf,eAAe;UACvB,gBAAgB;CACzB",file:"editUser.vue",sourcesContent:["\n.content-wrapper[data-v-072d188a] {\n  height: 100%;\n  /*.el-dialog{\r\n            min-height:556px;\r\n        }*/\n}\n.content-wrapper .el-input[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .el-input__inner[data-v-072d188a] {\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.content-wrapper .el-select[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .box[data-v-072d188a] {\n    width: 360px;\n}\n.content-wrapper .box:hover .tool[data-v-072d188a] {\n      display: block;\n}\n.content-wrapper .tool[data-v-072d188a] {\n    display: none;\n    width: 290px;\n    position: absolute;\n    top: 100%;\n    left: 38px;\n    z-index: 100;\n    background: rgba(0, 0, 0, 0.8);\n    color: #fff;\n    border-radius: 5px 5px 5px 5px;\n}\n.content-wrapper .tool li[data-v-072d188a] {\n      height: 24px;\n      line-height: 24px;\n      padding-left: 10px;\n}\n.content-wrapper .flex-wrapper[data-v-072d188a] {\n    display: -ms-flexbox;\n    display: -webkit-box;\n    display: flex;\n    border: 1px solid #efefef;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.content-wrapper .flex-wrapper .table-left[data-v-072d188a] {\n      box-flex: 1;\n      -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n      border-right: 1px solid #efefef;\n}\n.content-wrapper .flex-wrapper .table-left .table-content[data-v-072d188a] {\n        height: 342px;\n        overflow-y: auto;\n}\n.content-wrapper .flex-wrapper .select-wrapper[data-v-072d188a] {\n      width: 224px;\n      overflow: auto;\n      max-height: 380px;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-header[data-v-072d188a] {\n        padding: 12px 12px;\n        border-bottom: 1px solid #efefef;\n        font-size: 13px;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-header span[data-v-072d188a] {\n          float: right;\n          cursor: pointer;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item[data-v-072d188a] {\n        padding: 12px 12px;\n        border-bottom: 1px solid #efefef;\n        font-size: 13px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item .span-left[data-v-072d188a] {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          width: 168px;\n          font-size: 12px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n}\n.content-wrapper .flex-wrapper .select-wrapper .select-item .span-right[data-v-072d188a] {\n          display: inline-block;\n          -webkit-box-flex: 0;\n              -ms-flex: 0 0 20px;\n                  flex: 0 0 20px;\n          cursor: pointer;\n}\n"],sourceRoot:""}])},417:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content-wrapper"},[r("div",{staticClass:"list-wrapper"},[r("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"1px"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"94px"}},[r("el-form-item",{attrs:{label:"用户账号：",prop:"loginName"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.loginName,callback:function(t){e.$set(e.ruleForm,"loginName",t)},expression:"ruleForm.loginName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名称：",prop:"fullName"}},[r("el-input",{model:{value:e.ruleForm.fullName,callback:function(t){e.$set(e.ruleForm,"fullName",t)},expression:"ruleForm.fullName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户编码：",prop:"empCode"}},[r("el-input",{model:{value:e.ruleForm.empCode,callback:function(t){e.$set(e.ruleForm,"empCode",t)},expression:"ruleForm.empCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态：",prop:"status"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("启用")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("禁用")]),e._v(" "),r("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("离职")])],1),e._v(" "),r("el-form-item",{attrs:{label:"用户属性：",prop:"attributeType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.attributeType,callback:function(t){e.$set(e.ruleForm,"attributeType",t)},expression:"ruleForm.attributeType"}},e._l(e.attributeArr,function(e){return r("el-option",{key:e.propertyCode,attrs:{label:e.propertyName,value:e.propertyCode}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"所属角色：",prop:"rolesName"}},[r("div",{staticClass:"box"},[e.multipleSelection.length?r("ul",{staticClass:"tool"},e._l(e.multipleSelection,function(t,a){return r("li",{key:a},[e._v(e._s(t.name))])}),0):e._e(),e._v(" "),r("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请点击右侧选择"},model:{value:e.ruleForm.rolesName,callback:function(t){e.$set(e.ruleForm,"rolesName",t)},expression:"ruleForm.rolesName"}})],1),e._v(" "),r("el-button",{staticStyle:{height:"32px",top:"5px","line-height":"16px",left:"365px",position:"absolute"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.getTree(1)}}},[e._v("\n          选择\n        ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"所属组织：",prop:"orgName"}},[r("div",{staticClass:"box"},[e.ruleForm.orgName?r("ul",{staticClass:"tool"}):e._e(),e._v(" "),r("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请点击右侧选择"},model:{value:e.ruleForm.orgName,callback:function(t){e.$set(e.ruleForm,"orgName",t)},expression:"ruleForm.orgName"}})],1),e._v(" "),r("el-button",{staticStyle:{height:"32px",top:"5px","line-height":"16px",left:"365px",position:"absolute"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.getTree(2)}}},[e._v("\n          选择\n        ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"数据权限：",prop:"deptName"}},[r("div",{staticClass:"box"},[e.deptNameArr.length?r("ul",{staticClass:"tool"},e._l(e.deptNameArr,function(t,a){return r("li",{key:a},[e._v(e._s(t.text?t.text:t.name))])}),0):e._e(),e._v(" "),r("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请点击右侧选择"},model:{value:e.ruleForm.deptName,callback:function(t){e.$set(e.ruleForm,"deptName",t)},expression:"ruleForm.deptName"}})],1),e._v(" "),r("el-button",{staticStyle:{height:"32px",top:"5px","line-height":"16px",left:"365px",position:"absolute"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.getTree(3)}}},[e._v("\n          选择\n        ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码：",prop:"phone"}},[r("el-input",{attrs:{placeholder:"此手机号作为验证码登录方式使用"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)],1),e._v(" "),r("div",{staticClass:"diaWindow targetTable"},[r("el-dialog",e._g(e._b({attrs:{title:e.title,visible:e.dialogVisible,width:"892px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},"el-dialog",e.$attrs,!1),e.$listeners),[r("div",{staticClass:"table-select p-10"},[r("div",{staticClass:"flex-wrapper"},[r("div",{staticClass:"table-left"},[r("div",{staticClass:"table-content"},[r("el-table",e._g(e._b({ref:"multipleTable",attrs:{"row-key":e.getRowKey,data:e.roleArr},on:{select:e.handleSelect,"select-all":e.handleSelect}},"el-table",e.$attrs,!1),e.$listeners),[r("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"角色名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])})],1)],1),e._v(" "),r("div",{staticClass:"p-t-10 b-t"},[r("el-pagination",{staticClass:"a-c p-b-10",attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total,prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)]),e._v(" "),r("div",{staticClass:"select-wrapper"},[r("div",{staticClass:"select-header"},[e._v("\n              已选"+e._s(e.multipleSelection.length)+"项\n              "),r("span",{on:{click:e.clearSelect}},[e._v("清空")])]),e._v(" "),e._l(e.multipleSelection,function(t,a){return r("div",{key:a,staticClass:"select-item"},[r("span",{staticClass:"span-left"},[e._v(e._s(t.name))]),e._v(" "),r("span",{staticClass:"span-right",on:{click:function(r){return e.deleteItem(a,t)}}},[r("i",{staticClass:"el-icon-close btn-color"})])])})],2)])]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.cancel(1)}}},[e._v("取 消")])],1)])],1),e._v(" "),r("div",{staticClass:"diaWindow treeDialog"},[r("el-dialog",{attrs:{title:"数据权限",visible:e.dialogVisible2,width:"448px"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[r("div",{staticClass:"divider"}),e._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"demo-input-suffix"},[e._v("\n          选择影院：\n          "),r("el-radio",{attrs:{label:"1"},on:{change:e.chooseOrg},model:{value:e.radioType,callback:function(t){e.radioType=t},expression:"radioType"}},[e._v("指定影院")]),e._v(" "),r("el-radio",{attrs:{label:"0"},on:{change:e.chooseOrg},model:{value:e.radioType,callback:function(t){e.radioType=t},expression:"radioType"}},[e._v("指定组织节点")])],1),e._v(" "),r("el-tree",{ref:"tree2",staticStyle:{height:"408px"},attrs:{data:e.deptArr,"node-key":"id","default-expand-all":"","show-checkbox":"","expand-on-click-node":!1,"highlight-current":!0,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var a=(t.node,t.data);return r("span",{staticClass:"custom-tree-node"},[r("span",{staticClass:"org-button"},[r("i",{staticClass:"iconfont",class:{"icon-neiye-zongbu":"总部"==a.text,"icon-neiye-zuzhi":0==a.isCinema,"icon-neiye-quyu":1==a.isCinema}},[e._v("\n                "+e._s(a.text)+"\n              ")])])])}}])})],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.ok2}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.cancel(2)}}},[e._v("取 消")])],1)])],1),e._v(" "),r("div",{staticClass:"diaWindow treeDialog"},[r("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible3,width:"448px"},on:{"update:visible":function(t){e.dialogVisible3=t},close:function(t){return e.cancel(3)}}},[r("div",{staticClass:"divider"}),e._v(" "),r("div",{staticClass:"content"},[r("el-tree",{ref:"tree",attrs:{data:e.orgArr,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0,props:e.defaultProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=(t.node,t.data);return r("span",{staticClass:"custom-tree-node"},[r("span",{staticClass:"org-button"},[r("i",{staticClass:"iconfont",class:{"icon-neiye-zongbu":"总部"==a.text,"icon-neiye-zuzhi":0==a.isCinema,"icon-neiye-quyu":1==a.isCinema}},[e._v("\n                "+e._s(a.text)+"\n              ")])])])}}])})],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.ok3}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.cancel(3)}}},[e._v("取 消")])],1)])],1)])},i=[],n={render:a,staticRenderFns:i};t.a=n}});