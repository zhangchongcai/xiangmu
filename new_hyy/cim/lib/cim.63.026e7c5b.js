webpackJsonpcim([63],{102:function(e,t,a){"use strict";function n(e){a(453)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(348),l=a(455),o=a(22),r=n,c=o(i.a,l.a,!1,r,null,null);t.default=c.exports},166:function(e,t,a){"use strict";t.a={props:{title:{type:String,default:"选择门店"},multiple:{type:Boolean,default:!1},check:{type:Boolean,default:!1},dialogFeedbackData:{type:[Array],default:function(){return[]}}},data:function(){return{selectRadio:"",cinemalDialog:!1,queryData:{cinemaName:"",page:1,pageSize:10},cinemalTotal:0,cinemalTableColumn:[{label:"门店名称",key:"name"},{label:"门店编码",key:"code"},{label:"城市地区",key:"areaName"}],tableData:[],selectedData:[],tableLoding:!1}},created:function(){},mounted:function(){this.init()},methods:{init:function(e){this.queryData.page=1,this.check||this.getMerCinemaList(this.queryData,e)},openCallBack:function(){this.multiple&&this.init("open"),this.check&&(this.tableData=this.dialogFeedbackData.slice(this.queryData.page-1,this.queryData.pageSize),this.cinemalTotal=this.dialogFeedbackData.length)},setCinemalTableChecked:function(){var e=this;this.$nextTick(function(){e.$refs.cinemalTable&&(e.$refs.cinemalTable.clearSelection(),e.dialogFeedbackData.length>0&&e.dialogFeedbackData.forEach(function(t){t.cinemaUid&&e.$refs.cinemalTable.toggleRowSelection(t,!0)}))})},handleDialog:function(e){this.cinemalDialog=e},getMerCinemaList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];this.tableLoding=!0,this.$cimList.merCinemaList(t).then(function(t){200==t.code&&("open"==a&&e.setCinemalTableChecked(),e.tableData=t.data.list.map(function(e){return e.cinemaUid=e.uid||e.id,e.uid=e.uid||e.id,e.extend=null,e}),e.cinemalTotal=t.data.total,e.multiple||(1==e.tableData.length?e.selectRadio=e.tableData[0].cinemaUid:e.selectRadio=e.dialogFeedbackData[0].cinemaUid,e.$emit("onSumit",e.tableData,"default"))),e.tableLoding=!1}).catch(function(t){e.tableLoding=!1})},handleCinemalDialogQuery:function(){var e=this;this.check?this.queryData.cinemaName?this.tableData=this.dialogFeedbackData.filter(function(t){return t.name.indexOf(e.queryData.cinemaName)>-1}):this.tableData=this.dialogFeedbackData:this.getMerCinemaList(this.queryData)},handleSubmit:function(){var e=this;this.multiple||(this.selectedData=this.tableData.filter(function(t){return t.cinemaUid==e.selectRadio})),this.$emit("onSumit",this.selectedData),this.handleDialog(!1)},handleSelectionCinemal:function(e){this.selectedData=e},deleteSelected:function(e,t){var a=this;this.$refs.cinemalTable.toggleRowSelection(e,!1),this.tableData.map(function(t){t.cinemaUid==e.cinemaUid&&a.$refs.cinemalTable.toggleRowSelection(t,!1)})},handleEmptyMaterials:function(){this.$refs.cinemalTable.clearSelection()},handleSizeChange:function(e){this.queryData.pageSize=e,this.check?this.tableData=this.dialogFeedbackData.slice(0,this.queryData.pageSize):this.getMerCinemaList(this.queryData)},handleCurrentChange:function(e){if(this.queryData.page=e,this.check){var t=(this.queryData.page-1)*this.queryData.pageSize;this.tableData=this.dialogFeedbackData.slice(t,t+this.queryData.pageSize)}else this.getMerCinemaList(this.queryData)}}}},167:function(e,t,a){"use strict";t.a={data:function(){return{pageSizes:[15,30,45],pageSize:15,pgLayout:"total, sizes, prev, pager, next, jumper",pgbackground:!0,defaultTableHeight:"610"}}}},170:function(e,t,a){"use strict";function n(e){a(171)}var i=a(166),l=a(173),o=a(22),r=n,c=o(i.a,l.a,!1,r,null,null);t.a=c.exports},171:function(e,t,a){var n=a(172);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(87)("5d4cd511",n,!0,{})},172:function(e,t,a){t=e.exports=a(86)(!0),t.push([e.i,'\n@charset "UTF-8";\n#cinema-dialog .el-radio__label {\n  display: none;\n}\n#cinema-dialog .query-btn {\n  margin-top: 6px;\n}\n#cinema-dialog .area-name span {\n  float: left;\n}\n#cinema-dialog .empty-box {\n  padding: 0 10px 10px 10px;\n  border: 1px solid #e5e5e5;\n  border-left: none;\n}\n#cinema-dialog .empty-box .selected-content {\n    padding: 10px 0;\n}\n#cinema-dialog .empty-box .empty-btn {\n    margin-top: 4px;\n}\n#cinema-dialog .empty-box .el-icon-close {\n    cursor: pointer;\n}\n#cinema-dialog .empty-box .title {\n    width: 85%;\n    overflow: hidden;\n    /*超出部分隐藏*/\n    white-space: nowrap;\n    /*不换行*/\n    text-overflow: ellipsis;\n    /*超出部分文字以...显示*/\n    font-size: 12px;\n}\n#cinema-dialog .empty-box .el-button {\n    padding-left: 0;\n    padding-right: 0;\n}\n#cinema-dialog .empty-box .empty-content {\n    height: 352px;\n    overflow-y: auto;\n    border-top: 1px solid #f5f5f5;\n    padding: 5px 0;\n}\n#cinema-dialog .empty-box .empty-content li {\n      padding: 6px 0;\n}\n',"",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cim/src/components/cinemalDialog/cinemaDialog.vue"],names:[],mappings:";AACA,iBAAiB;AACjB;EACE,cAAc;CACf;AACD;EACE,gBAAgB;CACjB;AACD;EACE,YAAY;CACb;AACD;EACE,0BAA0B;EAC1B,0BAA0B;EAC1B,kBAAkB;CACnB;AACD;IACI,gBAAgB;CACnB;AACD;IACI,gBAAgB;CACnB;AACD;IACI,gBAAgB;CACnB;AACD;IACI,WAAW;IACX,iBAAiB;IACjB,UAAU;IACV,oBAAoB;IACpB,OAAO;IACP,wBAAwB;IACxB,gBAAgB;IAChB,gBAAgB;CACnB;AACD;IACI,gBAAgB;IAChB,iBAAiB;CACpB;AACD;IACI,cAAc;IACd,iBAAiB;IACjB,8BAA8B;IAC9B,eAAe;CAClB;AACD;MACM,eAAe;CACpB",file:"cinemaDialog.vue",sourcesContent:['\n@charset "UTF-8";\n#cinema-dialog .el-radio__label {\n  display: none;\n}\n#cinema-dialog .query-btn {\n  margin-top: 6px;\n}\n#cinema-dialog .area-name span {\n  float: left;\n}\n#cinema-dialog .empty-box {\n  padding: 0 10px 10px 10px;\n  border: 1px solid #e5e5e5;\n  border-left: none;\n}\n#cinema-dialog .empty-box .selected-content {\n    padding: 10px 0;\n}\n#cinema-dialog .empty-box .empty-btn {\n    margin-top: 4px;\n}\n#cinema-dialog .empty-box .el-icon-close {\n    cursor: pointer;\n}\n#cinema-dialog .empty-box .title {\n    width: 85%;\n    overflow: hidden;\n    /*超出部分隐藏*/\n    white-space: nowrap;\n    /*不换行*/\n    text-overflow: ellipsis;\n    /*超出部分文字以...显示*/\n    font-size: 12px;\n}\n#cinema-dialog .empty-box .el-button {\n    padding-left: 0;\n    padding-right: 0;\n}\n#cinema-dialog .empty-box .empty-content {\n    height: 352px;\n    overflow-y: auto;\n    border-top: 1px solid #f5f5f5;\n    padding: 5px 0;\n}\n#cinema-dialog .empty-box .empty-content li {\n      padding: 6px 0;\n}\n'],sourceRoot:""}])},173:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{id:"cinema-dialog",width:e.multiple?"900px":"600px",title:e.title,visible:e.cinemalDialog},on:{"update:visible":function(t){e.cinemalDialog=t},open:e.openCallBack}},[a("el-form",{staticClass:"query-box",attrs:{inline:!0,model:e.queryData,"label-position":"left","label-suffix":":"}},[a("el-form-item",{attrs:{label:"门店名称"}},[a("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.queryData.cinemaName,callback:function(t){e.$set(e.queryData,"cinemaName",t)},expression:"queryData.cinemaName"}})],1),e._v(" "),a("el-button",{staticClass:"query-btn",attrs:{type:"primary"},on:{click:e.handleCinemalDialogQuery}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:e.multiple?19:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoding,expression:"tableLoding"}],ref:"cinemalTable",staticClass:"table-box",attrs:{data:e.tableData,"row-key":"cinemaUid",height:"421"},on:{"selection-change":e.handleSelectionCinemal}},[e.check?e._e():a("div",[e.multiple?a("el-table-column",{attrs:{type:"selection",width:"40","reserve-selection":""}}):a("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.cinemaUid},model:{value:e.selectRadio,callback:function(t){e.selectRadio=t},expression:"selectRadio"}})]}}],null,!1,1672665914)})],1),e._v(" "),e._l(e.cinemalTableColumn,function(t){return a("el-table-column",{key:t.key,attrs:{prop:t.key,label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row;return["areaName"==t.key?a("div",{staticClass:"area-name"},[i.provinceName?a("span",[e._v(e._s(i.provinceName))]):e._e(),e._v(" "),i.cityName?a("span",[e._v(e._s(i.cityName))]):e._e(),e._v(" "),i.areaName&&"null"!=i.areaName?a("span",[e._v(e._s(i.areaName))]):e._e()]):a("div",[e._v(e._s(i[t.key]))])]}}],null,!0)})})],2),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"","current-page":e.queryData.page,"page-size":e.queryData.pageSize,total:e.cinemalTotal,layout:"total, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),e.multiple?a("el-col",{attrs:{span:5}},[a("div",{staticClass:"empty-box"},[a("div",{staticClass:"clearfix"},[a("span",{staticClass:"selected-content left"},[e._v("已选门店")]),e._v(" "),a("el-button",{staticClass:"right empty-btn",attrs:{type:"text"},on:{click:e.handleEmptyMaterials}},[e._v("清 空")])],1),e._v(" "),a("ul",{staticClass:"empty-content"},e._l(e.selectedData,function(t){return a("li",{key:t.merCode,staticClass:"clearfix"},[a("span",{staticClass:"left title"},[e._v(e._s(t.cinemaName||t.name))]),e._v(" "),a("i",{staticClass:"el-icon-close right",on:{click:function(a){return e.deleteSelected(t,!1)}}})])}),0)])]):e._e()],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[e.check?a("div",[a("el-button",{on:{click:function(t){return e.handleDialog(!1)}}},[e._v("关 闭")])],1):a("div",[a("el-button",{attrs:{type:"primary mgr22"},on:{click:e.handleSubmit}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){return e.handleDialog(!1)}}},[e._v("取 消")])],1)])],1)},i=[],l={render:n,staticRenderFns:i};t.a=l},175:function(e,t,a){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e){for(var t;e.length;){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);a.obj[a.prop]=n}}return t},o=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(a[n]=e[n]);return a},r=function e(t,a,i){if(!a)return t;if("object"!=typeof a){if(Array.isArray(t))t.push(a);else{if("object"!=typeof t)return[t,a];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,a))&&(t[a]=!0)}return t}if("object"!=typeof t)return[t].concat(a);var l=t;return Array.isArray(t)&&!Array.isArray(a)&&(l=o(t,i)),Array.isArray(t)&&Array.isArray(a)?(a.forEach(function(a,l){n.call(t,l)?t[l]&&"object"==typeof t[l]?t[l]=e(t[l],a,i):t.push(a):t[l]=a}),t):Object.keys(a).reduce(function(t,l){var o=a[l];return n.call(t,l)?t[l]=e(t[l],o,i):t[l]=o,t},l)},c=function(e,t){return Object.keys(t).reduce(function(e,a){return e[a]=t[a],e},e)},s=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},u=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),a="",n=0;n<t.length;++n){var l=t.charCodeAt(n);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?a+=t.charAt(n):l<128?a+=i[l]:l<2048?a+=i[192|l>>6]+i[128|63&l]:l<55296||l>=57344?a+=i[224|l>>12]+i[128|l>>6&63]+i[128|63&l]:(n+=1,l=65536+((1023&l)<<10|1023&t.charCodeAt(n)),a+=i[240|l>>18]+i[128|l>>12&63]+i[128|l>>6&63]+i[128|63&l])}return a},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],r=Object.keys(o),c=0;c<r.length;++c){var s=r[c],u=o[s];"object"==typeof u&&null!==u&&-1===a.indexOf(u)&&(t.push({obj:o,prop:s}),a.push(u))}return l(t)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:o,assign:c,compact:d,decode:s,encode:u,isBuffer:m,isRegExp:p,merge:r}},176:function(e,t,a){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},188:function(e,t,a){"use strict";var n=a(189),i=a(190),l=a(176);e.exports={formats:l,parse:i,stringify:n}},189:function(e,t,a){"use strict";var n=a(175),i=a(176),l={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,r={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,a,i,l,o,c,s,u,d,p,m,f){var g=t;if("function"==typeof s)g=s(a,g);else if(g instanceof Date)g=p(g);else if(null===g){if(l)return c&&!f?c(a,r.encoder):a;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||n.isBuffer(g)){if(c){return[m(f?a:c(a,r.encoder))+"="+m(c(g,r.encoder))]}return[m(a)+"="+m(String(g))]}var h=[];if(void 0===g)return h;var y;if(Array.isArray(s))y=s;else{var b=Object.keys(g);y=u?b.sort(u):b}for(var v=0;v<y.length;++v){var A=y[v];o&&null===g[A]||(h=Array.isArray(g)?h.concat(e(g[A],i(a,A),i,l,o,c,s,u,d,p,m,f)):h.concat(e(g[A],a+(d?"."+A:"["+A+"]"),i,l,o,c,s,u,d,p,m,f)))}return h};e.exports=function(e,t){var a=e,o=t?n.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===o.delimiter?r.delimiter:o.delimiter,u="boolean"==typeof o.strictNullHandling?o.strictNullHandling:r.strictNullHandling,d="boolean"==typeof o.skipNulls?o.skipNulls:r.skipNulls,p="boolean"==typeof o.encode?o.encode:r.encode,m="function"==typeof o.encoder?o.encoder:r.encoder,f="function"==typeof o.sort?o.sort:null,g=void 0!==o.allowDots&&o.allowDots,h="function"==typeof o.serializeDate?o.serializeDate:r.serializeDate,y="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:r.encodeValuesOnly;if(void 0===o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var b,v,A=i.formatters[o.format];"function"==typeof o.filter?(v=o.filter,a=v("",a)):Array.isArray(o.filter)&&(v=o.filter,b=v);var D=[];if("object"!=typeof a||null===a)return"";var C;C=o.arrayFormat in l?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var k=l[C];b||(b=Object.keys(a)),f&&b.sort(f);for(var x=0;x<b.length;++x){var _=b[x];d&&null===a[_]||(D=D.concat(c(a[_],_,k,u,d,p?m:null,v,f,g,h,A,y)))}var w=D.join(s),B=!0===o.addQueryPrefix?"?":"";return w.length>0?B+w:""}},190:function(e,t,a){"use strict";var n=a(175),i=Object.prototype.hasOwnProperty,l={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var a={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,r=n.split(t.delimiter,o),c=0;c<r.length;++c){var s,u,d=r[c],p=d.indexOf("]="),m=-1===p?d.indexOf("="):p+1;-1===m?(s=t.decoder(d,l.decoder),u=t.strictNullHandling?null:""):(s=t.decoder(d.slice(0,m),l.decoder),u=t.decoder(d.slice(m+1),l.decoder)),i.call(a,s)?a[s]=[].concat(a[s]).concat(u):a[s]=u}return a},r=function(e,t,a){for(var n=t,i=e.length-1;i>=0;--i){var l,o=e[i];if("[]"===o)l=[],l=l.concat(n);else{l=a.plainObjects?Object.create(null):{};var r="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(r,10);!isNaN(c)&&o!==r&&String(c)===r&&c>=0&&a.parseArrays&&c<=a.arrayLimit?(l=[],l[c]=n):l[r]=n}n=l}return n},c=function(e,t,a){if(e){var n=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=l.exec(n),s=c?n.slice(0,c.index):n,u=[];if(s){if(!a.plainObjects&&i.call(Object.prototype,s)&&!a.allowPrototypes)return;u.push(s)}for(var d=0;null!==(c=o.exec(n))&&d<a.depth;){if(d+=1,!a.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!a.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+n.slice(c.index)+"]"),r(u,t,a)}};e.exports=function(e,t){var a=t?n.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"==typeof a.delimiter||n.isRegExp(a.delimiter)?a.delimiter:l.delimiter,a.depth="number"==typeof a.depth?a.depth:l.depth,a.arrayLimit="number"==typeof a.arrayLimit?a.arrayLimit:l.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"==typeof a.decoder?a.decoder:l.decoder,a.allowDots="boolean"==typeof a.allowDots?a.allowDots:l.allowDots,a.plainObjects="boolean"==typeof a.plainObjects?a.plainObjects:l.plainObjects,a.allowPrototypes="boolean"==typeof a.allowPrototypes?a.allowPrototypes:l.allowPrototypes,a.parameterLimit="number"==typeof a.parameterLimit?a.parameterLimit:l.parameterLimit,a.strictNullHandling="boolean"==typeof a.strictNullHandling?a.strictNullHandling:l.strictNullHandling,""===e||null===e||void 0===e)return a.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,a):e,r=a.plainObjects?Object.create(null):{},s=Object.keys(i),u=0;u<s.length;++u){var d=s[u],p=c(d,i[d],a);r=n.merge(r,p,a)}return n.compact(r)}},348:function(e,t,a){"use strict";var n=a(188),i=(a.n(n),a(167)),l=a(170);t.a={mixins:[i.a],data:function(){return{queryData:{cinemaUid:"",cinemaName:"",tername:"",code:"",status:"",mac:"",ip:"",page:1,pageSize:10},cinemaOptions:[],changeData:{tername:"",status:"",rackCode:"",placeUid:"",salePlaceEntity:{uid:""}},tableColumn:[{label:"门店名称",key:"cinemaName"},{label:"终端名称",key:"tername"},{label:"终端编码",key:"code"},{label:"硬件识别码",key:"mac"},{label:"计算机IP",key:"ip"},{label:"终端状态",key:"status",formatter:function(e,t,a){var n="";switch(e.status){case 0:n="无效";break;case 1:n="有效"}return n}},{label:"终端类型",key:"type"},{label:"扣减仓库/货架",key:"rackName"},{label:"销售地点",key:"placeName"}],tableData:[],storageRacks:[],salePlaces:[],tableLoding:!1,total:0,terminalStatusDialog:!1,dataListLoading:!1}},mounted:function(){this.init()},methods:{init:function(){this.onQuery()},onQuery:function(){this.getTerminalQueryPage(this.queryData)},getTerminalQueryPage:function(e){var t=this;this.tableLoding=!0,this.$cimList.terminalQueryPage(e).then(function(e){if(200==e.code){var a=[];a=e.data.records.map(function(e){return e.salePlaceEntity&&(e.placeName=e.salePlaceEntity.placeName,e.placeUid=e.salePlaceEntity.uid),e}),t.tableData=a,t.total=e.data.total,t.tableLoding=!1}else t.tableLoding=!1}).catch(function(){t.tableLoding=!1})},terminalUpdate:function(e){var t=this;this.$cimList.terminalUpdate(e).then(function(e){200==e.code&&t.onQuery()})},getSalePlaceAll:function(e){var t=this;this.$cimList.salePlaceAll(e).then(function(e){200==e.code&&(t.salePlaces=e.data)})},getTerminalRackAll:function(e){var t=this;this.$cimList.terminalRackAll(e).then(function(e){200==e.code&&(t.storageRacks=e.data)})},handleModification:function(e,t){var a=t.id,n=t.tername,i=t.status,l=t.placeUid,o=t.rackCode;t.rackName;this.getSalePlaceAll(),this.getTerminalRackAll(),this.changeData.id=a,this.changeData.tername=n,this.changeData.status=i.toString(),this.changeData.placeUid=l,this.changeData.rackCode=o,this.terminalStatusDialog=!0},handleChange:function(e){console.log(e)},handleModificationSubmit:function(){var e=this;this.changeData.salePlaceEntity.uid=this.changeData.placeUid;var t=this.storageRacks.find(function(t){return e.changeData.rackCode==t.code});t&&(this.changeData.rackName=t.name),this.terminalUpdate(this.changeData),this.terminalStatusDialog=!1},selectCinemalDialog:function(){this.$refs.myCinemalDialog.handleDialog(!0)},onCinemalSumit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0?(this.queryData.cinemaName=e[0].name,this.queryData.cinemaUid=e[0].cinemaUid):(this.queryData.cinemaName="",this.queryData.cinemaUid=""),console.log(e)},handleSizeChange:function(e){this.queryData.pageSize=e,this.onQuery()},handleCurrentChange:function(e){this.queryData.page=e,this.onQuery()}},components:{cinemalDialog:l.a}}},453:function(e,t,a){var n=a(454);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(87)("c02b1b4e",n,!0,{})},454:function(e,t,a){t=e.exports=a(86)(!0),t.push([e.i,"\n.select-input .el-input {\n  width: 70%;\n}\n.change-dialog .el-form--inline .el-form-item {\n  width: 100%;\n}\n.change-dialog .el-select {\n  width: 100%;\n}\n.change-dialog .el-form-item__content {\n  width: 65%;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/cim/src/views/cim/basicSettings/salesTerminal/index.vue"],names:[],mappings:";AACA;EACE,WAAW;CACZ;AACD;EACE,YAAY;CACb;AACD;EACE,YAAY;CACb;AACD;EACE,WAAW;CACZ",file:"index.vue",sourcesContent:["\n.select-input .el-input {\n  width: 70%;\n}\n.change-dialog .el-form--inline .el-form-item {\n  width: 100%;\n}\n.change-dialog .el-select {\n  width: 100%;\n}\n.change-dialog .el-form-item__content {\n  width: 65%;\n}\n"],sourceRoot:""}])},455:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"common-header sales-terminal-header"},[a("el-form",{attrs:{inline:!0,model:e.queryData,"label-position":"right","label-width":"100px","label-suffix":":"}},[a("el-form-item",{staticClass:"select-input",attrs:{label:"门店名称"}},[a("el-input",{attrs:{placeholder:"请选择门店"},model:{value:e.queryData.cinemaName,callback:function(t){e.$set(e.queryData,"cinemaName",t)},expression:"queryData.cinemaName"}},[a("i",{staticClass:"el-icon-close el-input__icon",attrs:{slot:"suffix"},on:{click:function(t){return e.onCinemalSumit()}},slot:"suffix"})]),e._v(" "),a("el-button",{on:{click:e.selectCinemalDialog}},[e._v("选择")])],1),e._v(" "),a("el-form-item",{attrs:{label:"终端名称"}},[a("el-input",{attrs:{placeholder:"请输内容","prefix-icon":"el-icon-search"},model:{value:e.queryData.tername,callback:function(t){e.$set(e.queryData,"tername",t)},expression:"queryData.tername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"终端编码"}},[a("el-input",{attrs:{placeholder:"请输内容","prefix-icon":"el-icon-search"},model:{value:e.queryData.code,callback:function(t){e.$set(e.queryData,"code",t)},expression:"queryData.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:e.queryData.status,callback:function(t){e.$set(e.queryData,"status",t)},expression:"queryData.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"停用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"硬件识别码"}},[a("el-input",{attrs:{placeholder:"请输内容","prefix-icon":"el-icon-search"},model:{value:e.queryData.mac,callback:function(t){e.$set(e.queryData,"mac",t)},expression:"queryData.mac"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP地址"}},[a("el-input",{attrs:{placeholder:"请输内容","prefix-icon":"el-icon-search"},model:{value:e.queryData.ip,callback:function(t){e.$set(e.queryData,"ip",t)},expression:"queryData.ip"}})],1),e._v(" "),a("el-form-item",{staticClass:"query-btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onQuery}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoding,expression:"tableLoding"}],attrs:{data:e.tableData,stripe:""}},[e._l(e.tableColumn,function(e){return a("el-table-column",{key:e.key,attrs:{prop:e.key,label:e.label,formatter:e.formatter}})}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.$index;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return t.stopPropagation(),e.handleModification(i,n)}}},[e._v("修改")])]}}])})],2),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":e.queryData.currentPage,"page-size":e.queryData.pageSize,background:e.pgbackground,"page-sizes":e.pageSizes,layout:e.pgLayout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{staticClass:"change-dialog",attrs:{title:"修改终端状态",visible:e.terminalStatusDialog,width:"400px"},on:{"update:visible":function(t){e.terminalStatusDialog=t}}},[a("el-form",{attrs:{inline:!0,model:e.changeData,"label-position":"left","label-width":"120px","label-suffix":":"}},[a("el-form-item",{attrs:{label:"终端名称"}},[a("el-input",{model:{value:e.changeData.tername,callback:function(t){e.$set(e.changeData,"tername",t)},expression:"changeData.tername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.changeData.status,callback:function(t){e.$set(e.changeData,"status",t)},expression:"changeData.status"}},[e._v("有效")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.changeData.status,callback:function(t){e.$set(e.changeData,"status",t)},expression:"changeData.status"}},[e._v("无效")])],1),e._v(" "),a("el-form-item",{attrs:{label:"扣减仓库/货架"}},[a("el-select",{model:{value:e.changeData.rackCode,callback:function(t){e.$set(e.changeData,"rackCode",t)},expression:"changeData.rackCode"}},e._l(e.storageRacks,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售地点"}},[a("el-select",{model:{value:e.changeData.placeUid,callback:function(t){e.$set(e.changeData,"placeUid",t)},expression:"changeData.placeUid"}},e._l(e.salePlaces,function(e){return a("el-option",{key:e.uid,attrs:{label:e.placeName,value:e.uid}})}),1)],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.terminalStatusDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleModificationSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("cinemal-dialog",{ref:"myCinemalDialog",on:{onSumit:e.onCinemalSumit}})],1)},i=[],l={render:n,staticRenderFns:i};t.a=l}});