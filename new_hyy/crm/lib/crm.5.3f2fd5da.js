webpackJsonpcrm([5],{167:function(e,t,o){"use strict";t.a={data:function(){return{stepList:this.stepData}},props:["stepData"],name:"fixStepTool",mounted:function(){var e=this;this.$nextTick(function(){document.querySelector(".content-wrapper").addEventListener("scroll",e.onScroll)})},methods:{stepPos:function(e){function t(){i<n?(i+=r,document.querySelector(".content-wrapper").scrollTop=i,setTimeout(t,10)):document.querySelector(".content-wrapper").scrollTop=n}function o(){i>n?(i-=r,document.querySelector(".content-wrapper").scrollTop=i,setTimeout(o,10)):document.querySelector(".content-wrapper").scrollTop=n}var n=this.stepList[e].scrollTop,i=document.querySelector(".content-wrapper").scrollTop,r=(n-i)/25;if(n>i)t();else{r=(i-n)/25,o()}},onScroll:function(){this.$eventHub.$emit("changeScroll")}}}},168:function(e,t,o){"use strict";function n(e){o(170)}var i=o(167),r=o(172),s=o(8),a=n,d=s(i.a,r.a,!1,a,null,null);t.a=d.exports},169:function(e,t,o){"use strict";t.a={data:function(){return{stepData:{stepEl:".el-collapse-item",stepList:[]}}},created:function(){this.$eventHub.$on("changeScroll",this.changeToolActive)},mounted:function(){var e=this;this.$nextTick(function(){e.calcScrollTop(e.stepData.stepEl,e.stepData.stepList)})},updated:function(){var e=this,t=this;window.setTimeout(function(){t.calcScrollTop(e.stepData.stepEl,t.stepData.stepList)},500)},methods:{calcScrollTop:function(e,t){var o=document.querySelectorAll(e),n=document.querySelector(".content-wrapper").scrollTop;0!=o.length&&t.forEach(function(e,i){o[i]&&(e.scrollTop=o[i].offsetTop,i>0?n<=e.scrollTop&&n>t[i-1].scrollTop?e.isactive=!0:e.isactive=!1:n<=e.scrollTop?e.isactive=!0:e.isactive=!1)})},changeToolActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stepData.stepList,t=document.querySelector(".content-wrapper").scrollTop;e.forEach(function(o,n){n>0?t<=o.scrollTop&&t>e[n-1].scrollTop?o.isactive=!0:o.isactive=!1:t<=o.scrollTop?o.isactive=!0:o.isactive=!1}),e.every(function(e){return!e.isactive})&&(e[e.length-1].isactive=!0)}}}},170:function(e,t,o){var n=o(171);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(132)("34085645",n,!0,{})},171:function(e,t,o){t=e.exports=o(131)(!0),t.push([e.i,"\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  right: 200px;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 5px;\n      height: 5px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 2px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/crm/src/components/fix-step-tool/fix-step-tool.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,SAAS;CACV;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;IAChB,gBAAgB;CACnB;AACD;MACM,WAAW;MACX,YAAY;MACZ,sBAAsB;MACtB,mBAAmB;MACnB,0BAA0B;MAC1B,mBAAmB;MACnB,mBAAmB;MACnB,UAAU;CACf;AACD;MACM,cAAc;MACd,eAAe;MACf,mBAAmB;MACnB,WAAW;MACX,UAAU;MACV,gBAAgB;CACrB;AACD;;MAEM,mBAAmB;MACnB,WAAW;MACX,aAAa;MACb,UAAU;MACV,cAAc;MACd,mBAAmB;MACnB,0BAA0B;CAC/B;AACD;MACM,aAAa;CAClB;AACD;IACI,eAAe;IACf,aAAa;IACb,kBAAkB;CACrB;AACD;MACM,aAAa;CAClB;AACD;MACM,cAAc;CACnB;AACD;MACM,sBAAsB;MACtB,kBAAkB;CACvB",file:"fix-step-tool.vue",sourcesContent:["\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  right: 200px;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 5px;\n      height: 5px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 2px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n"],sourceRoot:""}])},172:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fix-step-tool"},[o("ul",e._l(e.stepList,function(t,n){return o("li",{key:n,staticClass:"single-step",class:{isactive:t.isactive},on:{click:function(t){return e.stepPos(n)}}},[o("i",{staticClass:"fix-step-icon"}),e._v(" "),o("i",{staticClass:"iconfont icon-neiye-yemianquyuxuanze"}),e._v(" "),o("span",[e._v(e._s(t.name))]),e._v(" "),o("span",{staticClass:"connect-line"}),e._v(" "),n?e._e():o("span",{staticClass:"connect-line-first"})])}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},204:function(e,t,o){"use strict";var n=o(168),i=o(169);t.a={name:"AddDifferentIndustryGoods",data:function(){var e=this,t=new Date((new Date).toLocaleDateString()),o=new Date;o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);var n=new Date(o-864e5-1).addDays(3),i=/^[\u4e00-\u9fa50-9a-zA-Z\s\~\`\·\！\!\@\#\￥\%\^\……\&\*\（\）\——\-\+\=\【\】\{\}\|\、\\\：\；\:\;\“\”\‘\’\'\"\[\]\{\}\<\,\>\.\《\》\，\。\？\、\?\/\(\)\_]+$/,r=function(e,t,o){t.toString().trim()?i.test(t.toString().trim())?o():o(new Error("输入的名称含有不合法字符")):o(new Error("请输入商户名称"))},s=function(t,o,n){o.toString().trim()?i.test(o.toString().trim())?e.$crmList.goodsNameIsExist({goodsName:o.toString().trim(),goodsId:e.$route.query.goodsId?e.$route.query.goodsId:"",tenantId:e.$store.state.loginUser.consumerId}).then(function(t){t.isExist?n(new Error("该名称已存在，请更换其他名称")):(e.ruleForm.goodsName=o.toString().trim(),n())}).catch(function(e){return console.log(e)}):n(new Error("输入的名称含有不合法字符")):n(new Error("请输入商品名称"))},a=function(e,t,o){t||(t=""),""==t.toString().replace(/\s/g,"")&&o(new Error("请输入数字")),/^[1-9]\d*$/.test(t.toString().replace(/\s/g,""))||o(new Error("请输入正整数")),1*t.toString().replace(/\s/g,"")>99999999?o(new Error("最多不能超过8位数字")):o()},d=function(e,t,o){var n=/^(1[3|4|5|6|7|8|9]\d{9}\;)*(1[3|4|5|6|7|8|9]\d{9})$/;""==t.toString().trim()&&o(new Error("请输入预警手机号")),n.test(t.toString().trim())?o():o(new Error('请输入预警手机号,多个手机号用英文";"号隔开'))},l=function(e,t,o){var n=/^((([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6}\;))*(([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})))$/;""==t.toString().trim()&&o(new Error("请输入预警邮箱地址")),n.test(t.toString().trim())?o():o(new Error('请输入预警邮箱地址,多个邮箱地址用英文";"号隔开'))},c=function(t,o,n){e.ruleForm.timeNum||(e.ruleForm.timeNum=""),e.cooperationTime||(e.cooperationTime=[]),"fixed_type"==e.ruleForm.validityType&&(e.cooperationTime.length<2?n(new Error("请选择日期")):n()),"dynamic_type"==e.ruleForm.validityType&&(""==e.ruleForm.timeNum.toString().replace(/\s/g,"")&&n(new Error("请输入数字")),/^[1-9]\d*$/.test(e.ruleForm.timeNum.toString().replace(/\s/g,""))?n():n(new Error("请输入正整数")))},f=function(e,t,o){null==t&&(t=[{ticketPath:"",ticketNum:0}]),t[0].ticketNum>0?o():o(new Error("请上传优惠券"))};return{uploadHeaders:{Authorization:this.$store.state.loginToken,"Cpm-User-Token":this.$store.state.loginToken},activeNames:["1","2","3"],cooperationTime:[t,n],goodsTypeOptions:[],stepData:{stepEl:".el-collapse-item",stepList:[{name:"商品信息",isactive:!1},{name:"优惠券适用规则",isactive:!1},{name:"库存预警",isactive:!1}]},ruleForm:{tenantId:this.$store.state.loginUser.consumerId,goodsAttribute:this.$route.query.goodsAttribute,merchantName:"",pactNo:"",goodsName:"",goodsType:"",writeOffWay:"",costPrice:"",validityType:"fixed_type",timeNum:"",startTime:"",endTime:"",goodsTickets:[{ticketPath:"",ticketNum:0}],remark:"",imgPath:"",diffGoodsRule:{useTime:"",applyStores:"",appointmentReminder:""},diffGoodsWarning:{warningNum:"",warningMobileNums:"",warningEmail:""}},rules:{merchantName:[{max:50,message:"长度不可超过50个字符",trigger:"blur"},{required:!0,validator:r,trigger:"blur"}],pactNo:[{max:30,message:"长度不可超过30个字符",trigger:"blur"}],goodsName:[{max:30,message:"长度不可超过30个字符",trigger:"blur"},{required:!0,validator:s,trigger:"blur"}],goodsType:[{required:!0,message:"请选择商品类型",trigger:"change"}],writeOffWay:[{required:!0,message:"请选择核销方式",trigger:"change"}],costPrice:[{required:!0,validator:a,trigger:"blur"}],validityType:[{required:!0,validator:c,trigger:"blur"}],goodsTickets:[{required:!0,validator:f,trigger:"change"}],remark:[{max:500,message:"长度不可超过500个字符",trigger:"blur"},{required:!1,message:"",trigger:"blur"}],imgPath:[{required:!0,message:"请上传商品图片",trigger:"change"}],"diffGoodsRule.useTime":[{max:30,message:"长度不可超过30个字符",trigger:"blur"}],"diffGoodsRule.applyStores":[{max:500,message:"长度不可超过500个字符",trigger:"blur"}],"diffGoodsRule.appointmentReminder":[{max:50,message:"长度不可超过50个字符",trigger:"blur"}],"diffGoodsWarning.warningNum":[{required:!0,validator:a,trigger:"blur"}],"diffGoodsWarning.warningMobileNums":[{max:500,message:"长度不可超过500个字符",trigger:"blur"},{required:!0,validator:d,trigger:"blur"}],"diffGoodsWarning.warningEmail":[{max:500,message:"长度不可超过500个字符",trigger:"blur"},{required:!0,validator:l,trigger:"blur"}]}}},components:{fixStepTool:n.a},mixins:[i.a],watch:{"ruleForm.goodsTickets":{handler:function(e,t){e[0].ticketNum>0&&this.$refs.ruleForm.clearValidate("goodsTickets")},deep:!0}},filters:{},mounted:function(){var e=this;this.$crmList.diffCommodityTypeList({tenantId:this.$store.state.loginUser.consumerId,current:1,size:100}).then(function(t){e.goodsTypeOptions=t.records}),this.$route.query.goodsId&&this.$crmList.diffGoodsDetail({tenantId:this.$store.state.loginUser.consumerId,goodsId:this.$route.query.goodsId}).then(function(t){"fixed_type"==t.validityType?(e.ruleForm=t,e.$set(e,"cooperationTime",[new Date(t.startTime.replace(/-/g,"/")).formatDate("yyyy-MM-dd hh:mm:ss"),new Date(t.endTime.replace(/-/g,"/")).formatDate("yyyy-MM-dd hh:mm:ss")])):"dynamic_type"==t.validityType&&(e.ruleForm=t)})},methods:{changeTimeNum:function(e){this.$set(this.ruleForm,"timeNum",e)},fileUploadSuccess:function(e,t,o){200==e.code?(this.$message.success("导入成功!"),this.ruleForm.goodsTickets[0].ticketPath=e.data.path,this.ruleForm.goodsTickets[0].ticketNum=e.data.num):this.$message.error(e.msg)},beforeFileUpload:function(e){return"application/vnd.ms-excel"===e.type|"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?e.size>52428800?(this.error("文件附件不能大于50M，请重新选择上传"),!1):void 0:(this.error("文件格式不正确"),!1)},removeUploadFile:function(e,t){this.ruleForm.goodsTickets=[]},beforeAvatarUpload:function(e){var t=e.size/1024<200;return t||this.$message.error("图片大小不能超过 200k!"),t},imgUpload:function(e,t,o){e.data?(this.ruleForm.imgPath=e.data.url,this.$message.success("上传成功!")):this.$message.error(e.msg)},handleCancle:function(){this.$store.commit("tagNav/removeTagNav",this.$route),this.$router.push({path:"/member/differentIndustryGoods/list"})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var o=t.ruleForm;"fixed_type"==o.validityType?(o.startTime=new Date(t.cooperationTime[0].toString().replace(/-/g,"/")).formatDate("yyyy-MM-dd hh:mm:ss"),o.endTime=new Date(t.cooperationTime[1].toString().replace(/-/g,"/")).formatDate("yyyy-MM-dd hh:mm:ss"),o.timeNum=""):"dynamic_type"==o.validityType&&(o.startTime="",o.endTime="");for(var n=0;n<t.goodsTypeOptions.length;n++)o.goodsType==t.goodsTypeOptions[n].commodityTypeNo&&(o.goodsTypeName=t.goodsTypeOptions[n].commodityTypeName);t.$route.query.goodsId?t.$crmList.editDiffGoods(o).then(function(e){t.$message.success("修改成功"),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push({path:"/member/differentIndustryGoods/list"})}).catch(function(e){console.log(e)}):t.$crmList.addDiffGoods(o).then(function(e){t.$message.success("添加成功"),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push({path:"/member/differentIndustryGoods/list"})}).catch(function(e){console.log(e)})})}}}},288:function(e,t,o){var n=o(289);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(132)("03c3cb6c",n,!0,{})},289:function(e,t,o){t=e.exports=o(131)(!0),t.push([e.i,"\n._add-different-industry-goods {\n  width: 80%;\n}\n._add-different-industry-goods .different-industry-goods-content {\n    border: 0;\n}\n._add-different-industry-goods .different-industry-goods-content .el-form--label-left .el-form-item__label {\n      color: #666;\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-radio__label {\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-input {\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .unit {\n      font-size: 12px;\n      color: #666;\n}\n._add-different-industry-goods .different-industry-goods-content .el-input {\n      width: 360px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-textarea {\n      width: 97%;\n}\n._add-different-industry-goods .different-industry-goods-content .el-form-item {\n      margin-bottom: 22px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .el-form-item__error {\n        top: 40px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .ticket-preferential-restrictions-wrap .el-form-item__error {\n        top: 76px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .titcket-num {\n        width: 84px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .upload-demo {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: end;\n            -ms-flex-align: end;\n                align-items: flex-end;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .upload-demo .el-upload-list {\n          margin-left: 5px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .select-btn {\n        width: 92px;\n        height: 30px;\n        margin-left: 10px;\n        line-height: 30px;\n        background: #ffffff;\n        border: 1px solid #3b74ff;\n        border-radius: 4px;\n        font-size: 12px;\n        color: #3b74ff;\n        letter-spacing: 0;\n        text-align: center;\n        cursor: pointer;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .goods-tickets .el-form-item__error {\n        top: 36px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .remark {\n        margin-top: 24px;\n        margin-bottom: 22px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .remark .el-form-item__error {\n          top: 117px !important;\n          left: 0px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .imgPath .el-form-item__error {\n        top: 155px !important;\n        left: 0px;\n}\n._add-different-industry-goods .different-industry-goods-content .applicable-rules {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .applicable-rules .el-form-item__error {\n        top: 40px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .stock-early-warning {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .stock-early-warning .el-form-item__error {\n        top: 40px !important;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/crm/src/views/member/differentIndustryGoods/addDifferentIndustryGoods.vue"],names:[],mappings:";AACA;EACE,WAAW;CACZ;AACD;IACI,UAAU;CACb;AACD;MACM,YAAY;MACZ,gBAAgB;CACrB;AACD;MACM,gBAAgB;CACrB;AACD;MACM,gBAAgB;CACrB;AACD;MACM,gBAAgB;MAChB,YAAY;CACjB;AACD;MACM,aAAa;CAClB;AACD;MACM,WAAW;CAChB;AACD;MACM,oBAAoB;CACzB;AACD;MACM,gBAAgB;CACrB;AACD;QACQ,qBAAqB;CAC5B;AACD;QACQ,qBAAqB;CAC5B;AACD;QACQ,YAAY;QACZ,iBAAiB;QACjB,wBAAwB;QACxB,oBAAoB;CAC3B;AACD;QACQ,qBAAqB;QACrB,qBAAqB;QACrB,cAAc;QACd,uBAAuB;YACnB,oBAAoB;gBAChB,sBAAsB;CACrC;AACD;UACU,iBAAiB;CAC1B;AACD;QACQ,YAAY;QACZ,aAAa;QACb,kBAAkB;QAClB,kBAAkB;QAClB,oBAAoB;QACpB,0BAA0B;QAC1B,mBAAmB;QACnB,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,mBAAmB;QACnB,gBAAgB;CACvB;AACD;QACQ,qBAAqB;CAC5B;AACD;QACQ,iBAAiB;QACjB,+BAA+B;CACtC;AACD;UACU,sBAAsB;UACtB,UAAU;CACnB;AACD;QACQ,sBAAsB;QACtB,UAAU;CACjB;AACD;MACM,gBAAgB;CACrB;AACD;QACQ,qBAAqB;CAC5B;AACD;MACM,gBAAgB;CACrB;AACD;QACQ,qBAAqB;CAC5B",file:"addDifferentIndustryGoods.vue",sourcesContent:["\n._add-different-industry-goods {\n  width: 80%;\n}\n._add-different-industry-goods .different-industry-goods-content {\n    border: 0;\n}\n._add-different-industry-goods .different-industry-goods-content .el-form--label-left .el-form-item__label {\n      color: #666;\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-radio__label {\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-input {\n      font-size: 12px;\n}\n._add-different-industry-goods .different-industry-goods-content .unit {\n      font-size: 12px;\n      color: #666;\n}\n._add-different-industry-goods .different-industry-goods-content .el-input {\n      width: 360px;\n}\n._add-different-industry-goods .different-industry-goods-content .el-textarea {\n      width: 97%;\n}\n._add-different-industry-goods .different-industry-goods-content .el-form-item {\n      margin-bottom: 22px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .el-form-item__error {\n        top: 40px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .ticket-preferential-restrictions-wrap .el-form-item__error {\n        top: 76px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .titcket-num {\n        width: 84px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .upload-demo {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: end;\n            -ms-flex-align: end;\n                align-items: flex-end;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .upload-demo .el-upload-list {\n          margin-left: 5px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .select-btn {\n        width: 92px;\n        height: 30px;\n        margin-left: 10px;\n        line-height: 30px;\n        background: #ffffff;\n        border: 1px solid #3b74ff;\n        border-radius: 4px;\n        font-size: 12px;\n        color: #3b74ff;\n        letter-spacing: 0;\n        text-align: center;\n        cursor: pointer;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .goods-tickets .el-form-item__error {\n        top: 36px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .remark {\n        margin-top: 24px;\n        margin-bottom: 22px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .remark .el-form-item__error {\n          top: 117px !important;\n          left: 0px;\n}\n._add-different-industry-goods .different-industry-goods-content .goods-info .imgPath .el-form-item__error {\n        top: 155px !important;\n        left: 0px;\n}\n._add-different-industry-goods .different-industry-goods-content .applicable-rules {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .applicable-rules .el-form-item__error {\n        top: 40px !important;\n}\n._add-different-industry-goods .different-industry-goods-content .stock-early-warning {\n      padding: 0 15px;\n}\n._add-different-industry-goods .different-industry-goods-content .stock-early-warning .el-form-item__error {\n        top: 40px !important;\n}\n"],sourceRoot:""}])},290:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"_add-different-industry-goods"},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,size:"medium","label-width":"120px","label-position":"left"}},[o("el-collapse",{staticClass:"different-industry-goods-content",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"商品信息",name:"1"}},[o("div",{staticClass:"goods-info"},[o("el-form-item",{attrs:{label:"商家名称：",prop:"merchantName"}},[o("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.ruleForm.merchantName,callback:function(t){e.$set(e.ruleForm,"merchantName",t)},expression:"ruleForm.merchantName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"合同编号：",prop:"pactNo"}},[o("el-input",{attrs:{placeholder:"请输入商家合同编号"},model:{value:e.ruleForm.pactNo,callback:function(t){e.$set(e.ruleForm,"pactNo",t)},expression:"ruleForm.pactNo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品名称：",prop:"goodsName"}},[o("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.ruleForm.goodsName,callback:function(t){e.$set(e.ruleForm,"goodsName",t)},expression:"ruleForm.goodsName"}})],1),e._v(" "),o("el-form-item",{staticClass:"balance-insufficient",attrs:{label:"商品类型：",prop:"goodsType"}},[o("el-select",{attrs:{placeholder:"选择商品类型"},model:{value:e.ruleForm.goodsType,callback:function(t){e.$set(e.ruleForm,"goodsType",t)},expression:"ruleForm.goodsType"}},e._l(e.goodsTypeOptions,function(e){return o("el-option",{key:e.commodityTypeNo,attrs:{label:e.commodityTypeName,value:e.commodityTypeNo}})}),1)],1),e._v(" "),o("el-form-item",{staticClass:"balance-insufficient",attrs:{label:"核销方式：",prop:"writeOffWay"}},[o("el-select",{attrs:{placeholder:"选择优惠券核销方式"},model:{value:e.ruleForm.writeOffWay,callback:function(t){e.$set(e.ruleForm,"writeOffWay",t)},expression:"ruleForm.writeOffWay"}},[o("el-option",{attrs:{label:"线上获取，线上消费",value:"ONLINE_ONLINE"}}),e._v(" "),o("el-option",{attrs:{label:"线上获取，线下消费",value:"ONLINE_OFFLINE"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"成本价：",prop:"costPrice"}},[o("el-input",{attrs:{placeholder:"请输入单个商品的成本价"},model:{value:e.ruleForm.costPrice,callback:function(t){e.$set(e.ruleForm,"costPrice",t)},expression:"ruleForm.costPrice"}}),e._v(" 元\n          ")],1),e._v(" "),o("el-form-item",{staticClass:"ticket-preferential-restrictions-wrap",attrs:{label:"有效期：",prop:"validityType"}},[o("div",{staticClass:"ticket-preferential-restrictions-item"},[o("el-radio",{attrs:{label:"fixed_type"},model:{value:e.ruleForm.validityType,callback:function(t){e.$set(e.ruleForm,"validityType",t)},expression:"ruleForm.validityType"}},[e._v("固定型")]),e._v(" "),o("el-date-picker",{staticStyle:{width:"360px"},attrs:{disabled:!("fixed_type"==e.ruleForm.validityType),align:"right","unlink-panels":"",clearable:"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},model:{value:e.cooperationTime,callback:function(t){e.cooperationTime=t},expression:"cooperationTime"}})],1),e._v(" "),o("div",{staticClass:"ticket-preferential-restrictions-item"},[o("el-radio",{attrs:{label:"dynamic_type"},model:{value:e.ruleForm.validityType,callback:function(t){e.$set(e.ruleForm,"validityType",t)},expression:"ruleForm.validityType"}},[e._v("动态型")]),e._v(" "),o("el-input",{attrs:{value:"dynamic_type"==e.ruleForm.validityType?e.ruleForm.timeNum:"",placeholder:"请输入天数",disabled:!("dynamic_type"==e.ruleForm.validityType),size:"medium"},on:{input:e.changeTimeNum}}),e._v("\n              天\n            ")],1)]),e._v(" "),o("el-form-item",{staticClass:"goods-tickets",attrs:{label:"上传优惠券：",prop:"goodsTickets"}},[o("div",{staticStyle:{display:"flex"}},[o("div",{staticClass:"titcket-num"},[e._v(e._s(e.ruleForm.goodsTickets[0].ticketNum))]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{action:e.$store.state.default.apiConfig.baseURL+e.$store.state.crm.fileUploadUrl,"on-success":e.fileUploadSuccess,"show-file-list":!1,"before-upload":e.beforeFileUpload,name:"file",headers:e.uploadHeaders}},[o("div",{staticClass:"select-btn"},[o("em",[e._v("导入")])])])],1)]),e._v(" "),o("el-form-item",{staticClass:"remark",attrs:{label:"商品说明：",prop:"remark"}},[o("el-input",{attrs:{type:"textarea",resize:"none",rows:5,placeholder:"请输入商品文本介绍"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),o("el-form-item",{staticClass:"imgPath",attrs:{label:"商品图片：",prop:"imgPath"}},[o("div",{staticStyle:{float:"left"}},[o("label",{attrs:{for:"imgupload"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.imgPath,expression:"ruleForm.imgPath"}],staticStyle:{width:"148px",height:"148px"},attrs:{src:e.ruleForm.imgPath,alt:"商品图片"}})])]),e._v(" "),o("div",{style:e.ruleForm.imgPath?"float:left;margin-left:10px;margin-top:-5px;":""},[o("el-upload",{staticStyle:{"margin-top":"5px"},attrs:{"show-file-list":!1,action:e.$store.state.default.apiConfig.baseURL+e.$store.state.crm.imgAction,"list-type":"picture-card","before-upload":e.beforeAvatarUpload,accept:"image/*","on-success":e.imgUpload,multiple:!1,name:"file",data:{type:"equity_picture"},headers:e.uploadHeaders}},[o("i",{staticClass:"el-icon-plus"})])],1)])],1)]),e._v(" "),o("el-collapse-item",{attrs:{title:"优惠券适用规则",name:"2"}},[o("div",{staticClass:"applicable-rules"},[o("el-form-item",{attrs:{label:"可用时间：",prop:"diffGoodsRule.useTime"}},[o("el-input",{attrs:{placeholder:"请填写优惠券可用时间"},model:{value:e.ruleForm.diffGoodsRule.useTime,callback:function(t){e.$set(e.ruleForm.diffGoodsRule,"useTime",t)},expression:"ruleForm.diffGoodsRule.useTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"使用门店：",prop:"diffGoodsRule.applyStores"}},[o("el-input",{attrs:{placeholder:'请填写优惠券适用门店,多门店之间用英文";"隔开'},model:{value:e.ruleForm.diffGoodsRule.applyStores,callback:function(t){e.$set(e.ruleForm.diffGoodsRule,"applyStores",t)},expression:"ruleForm.diffGoodsRule.applyStores"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"预约提示：",prop:"diffGoodsRule.appointmentReminder"}},[o("el-input",{attrs:{placeholder:"请填写到店预约提醒"},model:{value:e.ruleForm.diffGoodsRule.appointmentReminder,callback:function(t){e.$set(e.ruleForm.diffGoodsRule,"appointmentReminder",t)},expression:"ruleForm.diffGoodsRule.appointmentReminder"}})],1)],1)]),e._v(" "),o("el-collapse-item",{attrs:{title:"库存预警",name:"3"}},[o("div",{staticClass:"stock-early-warning"},[o("el-form-item",{attrs:{label:"剩余库存：",prop:"diffGoodsWarning.warningNum"}},[o("el-input",{attrs:{placeholder:"请输入剩余多少库存触发预警"},model:{value:e.ruleForm.diffGoodsWarning.warningNum,callback:function(t){e.$set(e.ruleForm.diffGoodsWarning,"warningNum",t)},expression:"ruleForm.diffGoodsWarning.warningNum"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"预警手机号：",prop:"diffGoodsWarning.warningMobileNums"}},[o("el-input",{attrs:{placeholder:'请输入预警手机号,多个手机号用英文";"号隔开'},model:{value:e.ruleForm.diffGoodsWarning.warningMobileNums,callback:function(t){e.$set(e.ruleForm.diffGoodsWarning,"warningMobileNums",t)},expression:"ruleForm.diffGoodsWarning.warningMobileNums"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"预警邮箱地址：",prop:"diffGoodsWarning.warningEmail"}},[o("el-input",{attrs:{placeholder:'请输入预警邮箱地址,多个邮箱地址用英文";"号隔开'},model:{value:e.ruleForm.diffGoodsWarning.warningEmail,callback:function(t){e.$set(e.ruleForm.diffGoodsWarning,"warningEmail",t)},expression:"ruleForm.diffGoodsWarning.warningEmail"}})],1)],1)])],1),e._v(" "),o("el-form-item",{staticStyle:{textAlign:"center"}},[o("el-button",{staticClass:"_el-btn-custom _member-add-edit-save-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存\n      ")]),e._v(" "),o("el-button",{staticClass:"_el-btn-custom",on:{click:e.handleCancle}},[e._v("取消")])],1)],1),e._v(" "),o("fixStepTool",{staticClass:"_fixsteptool-member",attrs:{stepData:e.stepData.stepList}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},69:function(e,t,o){"use strict";function n(e){o(288)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(204),r=o(290),s=o(8),a=n,d=s(i.a,r.a,!1,a,null,null);t.default=d.exports}});