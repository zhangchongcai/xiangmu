webpackJsonpcrm([6],{209:function(e,t,r){"use strict";t.a={name:"creatCommodityType",data:function(){var e=this,t=/^[\u4e00-\u9fa50-9a-zA-Z\s\~\`\·\！\!\@\#\￥\%\^\……\&\*\（\）\——\-\+\=\【\】\{\}\|\、\\\：\；\:\;\“\”\‘\’\'\"\[\]\{\}\<\,\>\.\《\》\，\。\？\、\?\/\(\)\_]+$/;return{ruleForm:{commodityTypeName:"",remark:""},rules:{commodityTypeName:[{max:50,message:"长度不可超过20个字符",trigger:"blur"},{required:!0,validator:function(r,o,i){o.toString().trim()?t.test(o.toString().trim())?e.$crmList.diffCommodityTypeNameIsexist({typeName:o.toString().trim(),typeId:e.$route.query.typeId?e.$route.query.typeId:"",tenantId:e.$store.state.loginUser.consumerId}).then(function(t){t.isExist?i(new Error("该名称已存在，请更换其他名称")):(e.ruleForm.merchantName=o.toString().trim(),i())}).catch(function(e){return console.log(e)}):i(new Error("输入的名称含有不合法字符")):i(new Error("请输入商户名称"))},trigger:"blur"}]}}},methods:{getDetail:function(e){var t=this;this.$crmList.diffCommodityDetail({id:e,tenantId:this.$store.state.loginUser.consumerId}).then(function(e){t.ruleForm=e})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t.ruleForm;r.tenantId=t.$store.state.loginUser.consumerId,t.$route.query.typeId&&t.$crmList.diffCommodityTypeedit(r).then(function(e){t.$message.success("修改成功"),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push({path:"/member/otherCommodity/commodityList"})}).catch(function(e){return console.log(e)}),t.$route.query.typeId||t.$crmList.diffCommodityTypeAdd(r).then(function(e){t.$message.success("添加成功"),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push({path:"/member/otherCommodity/commodityList"})}).catch(function(e){return console.log(e)})})},resetForm:function(e){this.$store.commit("tagNav/removeTagNav",this.$route),this.$router.push({path:"/member/otherCommodity/commodityList"})}},created:function(){this.$route.query.typeId&&(this.ruleForm.id=this.$route.query.typeId,this.getDetail(this.$route.query.typeId))}}},303:function(e,t,r){var o=r(304);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(132)("5d4e1aa0",o,!0,{})},304:function(e,t,r){t=e.exports=r(131)(!0),t.push([e.i,"\n.creatCommodityType {\n  padding-top: 34px;\n}\n.creatCommodityType .el-input {\n    width: 360px;\n}\n.creatCommodityType .el-textarea {\n    width: 360px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/crm/src/views/member/otherCommodity/creatCommodityType.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;IACI,aAAa;CAChB;AACD;IACI,aAAa;CAChB",file:"creatCommodityType.vue",sourcesContent:["\n.creatCommodityType {\n  padding-top: 34px;\n}\n.creatCommodityType .el-input {\n    width: 360px;\n}\n.creatCommodityType .el-textarea {\n    width: 360px;\n}\n"],sourceRoot:""}])},305:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"creatCommodityType"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"商品类型名称：",prop:"commodityTypeName"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:e.ruleForm.commodityTypeName,callback:function(t){e.$set(e.ruleForm,"commodityTypeName",t)},expression:"ruleForm.commodityTypeName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",maxlength:"500",resize:"none",rows:5},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),r("el-form-item",{staticStyle:{textAlign:"center",marginTop:"50px"}},[r("el-button",{staticClass:"_el-btn-custom _member-add-edit-save-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{staticClass:"_el-btn-custom",on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)],1)},i=[],m={render:o,staticRenderFns:i};t.a=m},70:function(e,t,r){"use strict";function o(e){r(303)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(209),m=r(305),n=r(8),a=o,s=n(i.a,m.a,!1,a,null,null);t.default=s.exports}});