webpackJsonpcrm([13],{151:function(t,n,e){"use strict";function i(t){e(318)}Object.defineProperty(n,"__esModule",{value:!0});var s=e(214),o=e(320),a=e(8),l=i,r=a(s.a,o.a,!1,l,null,null);n.default=r.exports},167:function(t,n,e){"use strict";n.a={data:function(){return{stepList:this.stepData}},props:["stepData"],name:"fixStepTool",mounted:function(){var t=this;this.$nextTick(function(){document.querySelector(".content-wrapper").addEventListener("scroll",t.onScroll)})},methods:{stepPos:function(t){function n(){s<i?(s+=o,document.querySelector(".content-wrapper").scrollTop=s,setTimeout(n,10)):document.querySelector(".content-wrapper").scrollTop=i}function e(){s>i?(s-=o,document.querySelector(".content-wrapper").scrollTop=s,setTimeout(e,10)):document.querySelector(".content-wrapper").scrollTop=i}var i=this.stepList[t].scrollTop,s=document.querySelector(".content-wrapper").scrollTop,o=(i-s)/25;if(i>s)n();else{o=(s-i)/25,e()}},onScroll:function(){this.$eventHub.$emit("changeScroll")}}}},168:function(t,n,e){"use strict";function i(t){e(170)}var s=e(167),o=e(172),a=e(8),l=i,r=a(s.a,o.a,!1,l,null,null);n.a=r.exports},169:function(t,n,e){"use strict";n.a={data:function(){return{stepData:{stepEl:".el-collapse-item",stepList:[]}}},created:function(){this.$eventHub.$on("changeScroll",this.changeToolActive)},mounted:function(){var t=this;this.$nextTick(function(){t.calcScrollTop(t.stepData.stepEl,t.stepData.stepList)})},updated:function(){var t=this,n=this;window.setTimeout(function(){n.calcScrollTop(t.stepData.stepEl,n.stepData.stepList)},500)},methods:{calcScrollTop:function(t,n){var e=document.querySelectorAll(t),i=document.querySelector(".content-wrapper").scrollTop;0!=e.length&&n.forEach(function(t,s){e[s]&&(t.scrollTop=e[s].offsetTop,s>0?i<=t.scrollTop&&i>n[s-1].scrollTop?t.isactive=!0:t.isactive=!1:i<=t.scrollTop?t.isactive=!0:t.isactive=!1)})},changeToolActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stepData.stepList,n=document.querySelector(".content-wrapper").scrollTop;t.forEach(function(e,i){i>0?n<=e.scrollTop&&n>t[i-1].scrollTop?e.isactive=!0:e.isactive=!1:n<=e.scrollTop?e.isactive=!0:e.isactive=!1}),t.every(function(t){return!t.isactive})&&(t[t.length-1].isactive=!0)}}}},170:function(t,n,e){var i=e(171);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(132)("34085645",i,!0,{})},171:function(t,n,e){n=t.exports=e(131)(!0),n.push([t.i,"\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  right: 200px;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 5px;\n      height: 5px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 2px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/crm/src/components/fix-step-tool/fix-step-tool.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,SAAS;CACV;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;IAChB,gBAAgB;CACnB;AACD;MACM,WAAW;MACX,YAAY;MACZ,sBAAsB;MACtB,mBAAmB;MACnB,0BAA0B;MAC1B,mBAAmB;MACnB,mBAAmB;MACnB,UAAU;CACf;AACD;MACM,cAAc;MACd,eAAe;MACf,mBAAmB;MACnB,WAAW;MACX,UAAU;MACV,gBAAgB;CACrB;AACD;;MAEM,mBAAmB;MACnB,WAAW;MACX,aAAa;MACb,UAAU;MACV,cAAc;MACd,mBAAmB;MACnB,0BAA0B;CAC/B;AACD;MACM,aAAa;CAClB;AACD;IACI,eAAe;IACf,aAAa;IACb,kBAAkB;CACrB;AACD;MACM,aAAa;CAClB;AACD;MACM,cAAc;CACnB;AACD;MACM,sBAAsB;MACtB,kBAAkB;CACvB",file:"fix-step-tool.vue",sourcesContent:["\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  right: 200px;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 5px;\n      height: 5px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 2px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n"],sourceRoot:""}])},172:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fix-step-tool"},[e("ul",t._l(t.stepList,function(n,i){return e("li",{key:i,staticClass:"single-step",class:{isactive:n.isactive},on:{click:function(n){return t.stepPos(i)}}},[e("i",{staticClass:"fix-step-icon"}),t._v(" "),e("i",{staticClass:"iconfont icon-neiye-yemianquyuxuanze"}),t._v(" "),e("span",[t._v(t._s(n.name))]),t._v(" "),e("span",{staticClass:"connect-line"}),t._v(" "),i?t._e():e("span",{staticClass:"connect-line-first"})])}),0)])},s=[],o={render:i,staticRenderFns:s};n.a=o},173:function(t,n,e){"use strict";function i(t){return t||0==t?t.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;"):"-"}n.a=i},214:function(t,n,e){"use strict";var i=e(168),s=e(169),o=e(173);n.a={name:"seeOwnrightsCard",data:function(){return{stopStartDialog:!1,detailData:{},equityID:this.$route.query.equityId,activeNames:["1","2","3"],stepData:{stepEl:".el-collapse-item",stepList:[{name:"权益信息",isactive:!1},{name:"商品信息",isactive:!1},{name:"权益发放规则",isactive:!1}]}}},components:{fixStepTool:i.a},created:function(){this.getDetail()},mixins:[s.a],methods:{formateRemark:function(t){return Object(o.a)(t)},handleSureChangeStatus:function(){var t=this;this.stopStartDialog=!1;var n=(this.detailData,{status:"start",id:this.detailData.id,tenantId:this.$store.state.loginUser.consumerId});this.$crmList.diffEquityStatus(n).then(function(){t.$message({type:"success",message:"已启用!"}),t.$store.commit("tagNav/removeTagNav",t.$route),t.$router.push({path:"/member/otherRights/otherRightsList"})}).catch(function(t){return console.log(t)})},handleStarted:function(){this.stopStartDialog=!0},handleCancle:function(){this.$store.commit("tagNav/removeTagNav",this.$route),this.$router.push({path:"/member/otherRights/otherRightsList"})},getDetail:function(){var t=this,n={diffEquityId:this.equityID,tenantId:this.$store.state.loginUser.consumerId};this.$crmList.getdiffEquityDetail(n).then(function(n){t.detailData=n}).catch(function(t){console.log(t)})}},watch:{equityID:function(t){this.getDetail(t)}},filters:{ruleStr:function(t){var n="";return"grant_day"==t.grantType?n="每天":"grant_unlimited"==t.grantType?n="不限":"grant_week"==t.grantType?n="每周":"grant_month"==t.grantType&&(n="每月"),"周期:"+n+"  "+(t.grantNum?"份数"+t.grantNum:"")},goodsList:function(t){var n=[];return t?(t.map(function(t,e){n.push(t.goodsName+" 数量："+t.grantNum)}),n.join(",")):""},filterEmpty:function(t){return t||"-"}}}},318:function(t,n,e){var i=e(319);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(132)("fe4e3788",i,!0,{})},319:function(t,n,e){n=t.exports=e(131)(!0),n.push([t.i,"\n.see-ownrights-card .detail-btn-wrap {\n  width: 100%;\n  text-align: center;\n}\n.owner-ship-detail {\n  overflow: hidden;\n}\n.owner-ship-detail .scorll-right .single-step:nth-of-type(2) {\n    display: none;\n}\n.owner-ship-detail .is-not-show {\n    display: none;\n}\n.owner-ship-detail .owner-ship-detail-content {\n    border: 0;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-info {\n      padding: 0 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .ticket-discount {\n      width: 55%;\n      padding: 0 15px 15px;\n      border: 1px solid #f5f5f5;\n      border-radius: 5px;\n      margin-bottom: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .sales-discount {\n      padding: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .birthday-coupons {\n      padding: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .birthday-coupons .gift-voucher-wrap .cash-coupon-title {\n        width: 260px;\n        font-size: 12px;\n        color: #333333;\n        font-weight: bold;\n        padding: 15px 0 0 0;\n        border-bottom: 1px dashed #f5f5f5;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner,\n    .owner-ship-detail .owner-ship-detail-content .item-inner-img {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: baseline;\n          -ms-flex-align: baseline;\n              align-items: baseline;\n      font-size: 12px;\n      color: #666666;\n      margin-top: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner .lable-name,\n      .owner-ship-detail .owner-ship-detail-content .item-inner-img .lable-name {\n        width: 100px;\n        display: inline-block;\n        font-size: 12px;\n        color: #666666;\n        line-height: 1.3;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img {\n      -webkit-box-align: start;\n          -ms-flex-align: start;\n              align-items: flex-start;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .have-img {\n        display: inline-block;\n        width: 148px;\n        height: 148px;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .have-img img {\n          width: 100%;\n          height: 100%;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .no-img {\n        display: inline-block;\n        width: 148px;\n        height: 148px;\n        background: #f5f5f5;\n        font-size: 12px;\n        text-align: center;\n        line-height: 148px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/crm/src/views/member/otherRights/otherRightsDetail.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;IACI,cAAc;CACjB;AACD;IACI,cAAc;CACjB;AACD;IACI,UAAU;CACb;AACD;MACM,gBAAgB;CACrB;AACD;MACM,WAAW;MACX,qBAAqB;MACrB,0BAA0B;MAC1B,mBAAmB;MACnB,oBAAoB;CACzB;AACD;MACM,cAAc;CACnB;AACD;MACM,cAAc;CACnB;AACD;QACQ,aAAa;QACb,gBAAgB;QAChB,eAAe;QACf,kBAAkB;QAClB,oBAAoB;QACpB,kCAAkC;CACzC;AACD;;MAEM,qBAAqB;MACrB,qBAAqB;MACrB,cAAc;MACd,4BAA4B;UACxB,yBAAyB;cACrB,sBAAsB;MAC9B,gBAAgB;MAChB,eAAe;MACf,iBAAiB;CACtB;AACD;;QAEQ,aAAa;QACb,sBAAsB;QACtB,gBAAgB;QAChB,eAAe;QACf,iBAAiB;CACxB;AACD;MACM,yBAAyB;UACrB,sBAAsB;cAClB,wBAAwB;CACrC;AACD;QACQ,sBAAsB;QACtB,aAAa;QACb,cAAc;CACrB;AACD;UACU,YAAY;UACZ,aAAa;CACtB;AACD;QACQ,sBAAsB;QACtB,aAAa;QACb,cAAc;QACd,oBAAoB;QACpB,gBAAgB;QAChB,mBAAmB;QACnB,mBAAmB;CAC1B",file:"otherRightsDetail.vue",sourcesContent:["\n.see-ownrights-card .detail-btn-wrap {\n  width: 100%;\n  text-align: center;\n}\n.owner-ship-detail {\n  overflow: hidden;\n}\n.owner-ship-detail .scorll-right .single-step:nth-of-type(2) {\n    display: none;\n}\n.owner-ship-detail .is-not-show {\n    display: none;\n}\n.owner-ship-detail .owner-ship-detail-content {\n    border: 0;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-info {\n      padding: 0 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .ticket-discount {\n      width: 55%;\n      padding: 0 15px 15px;\n      border: 1px solid #f5f5f5;\n      border-radius: 5px;\n      margin-bottom: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .sales-discount {\n      padding: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .birthday-coupons {\n      padding: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .equity-rules .birthday-coupons .gift-voucher-wrap .cash-coupon-title {\n        width: 260px;\n        font-size: 12px;\n        color: #333333;\n        font-weight: bold;\n        padding: 15px 0 0 0;\n        border-bottom: 1px dashed #f5f5f5;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner,\n    .owner-ship-detail .owner-ship-detail-content .item-inner-img {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: baseline;\n          -ms-flex-align: baseline;\n              align-items: baseline;\n      font-size: 12px;\n      color: #666666;\n      margin-top: 15px;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner .lable-name,\n      .owner-ship-detail .owner-ship-detail-content .item-inner-img .lable-name {\n        width: 100px;\n        display: inline-block;\n        font-size: 12px;\n        color: #666666;\n        line-height: 1.3;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img {\n      -webkit-box-align: start;\n          -ms-flex-align: start;\n              align-items: flex-start;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .have-img {\n        display: inline-block;\n        width: 148px;\n        height: 148px;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .have-img img {\n          width: 100%;\n          height: 100%;\n}\n.owner-ship-detail .owner-ship-detail-content .item-inner-img .no-img {\n        display: inline-block;\n        width: 148px;\n        height: 148px;\n        background: #f5f5f5;\n        font-size: 12px;\n        text-align: center;\n        line-height: 148px;\n}\n"],sourceRoot:""}])},320:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"see-ownrights-card"},[e("div",{staticClass:"owner-ship-detail"},[e("el-collapse",{staticClass:"owner-ship-detail-content",model:{value:t.activeNames,callback:function(n){t.activeNames=n},expression:"activeNames"}},[e("el-collapse-item",{attrs:{title:"权益信息",name:"1"}},[e("div",{staticClass:"equity-info"},[e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("权益名称：")]),t._v(t._s(t._f("filterEmpty")(t.detailData.equityName)))]),t._v(" "),e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("权益类型：")]),t._v(t._s(t._f("filterEmpty")(t.detailData.equityTypeName)))]),t._v(" "),"consumer_type"==t.detailData.equityType?e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("权益类别：")]),t._v(t._s(t._f("filterEmpty")(t.detailData.equityCategoryName)))]):t._e(),t._v(" "),e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("权益说明：")]),t._v(" "),e("span",{staticStyle:{"font-size":"12px"},domProps:{innerHTML:t._s(t.formateRemark(t.detailData.equityRemark))}})]),t._v(" "),e("div",{staticClass:"item-inner-img"},[e("label",{staticClass:"lable-name"},[t._v("icon：")]),t._v(" "),t.detailData.logoPic?e("span",{staticClass:"have-img"},[e("img",{attrs:{src:t.detailData.logoPic,alt:"icon"}})]):e("span",{staticClass:"no-img"},[t._v("暂无图标")])])])]),t._v(" "),e("el-collapse-item",{attrs:{title:"权益规则",name:"2"}},[e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("已选商品：")]),t._v(t._s(t._f("goodsList")(t.detailData.goods)))])]),t._v(" "),e("el-collapse-item",{attrs:{title:"权益发放规则",name:"3"}},[e("div",{staticClass:"item-inner"},[e("label",{staticClass:"lable-name"},[t._v("间隔周期与份数：")]),t._v(t._s(t._f("ruleStr")(t.detailData)))])])],1),t._v(" "),e("div",{class:"consumer_type"!=t.detailData.equityType?"scorll-right":""},[e("fixStepTool",{staticClass:"_fixsteptool-member",attrs:{stepData:t.stepData.stepList}})],1)],1),t._v(" "),e("div",{staticClass:"detail-btn-wrap"},["unstart"==t.detailData.status?e("el-button",{staticClass:"_el-btn-custom",attrs:{type:"primary"},on:{click:t.handleStarted}},[t._v("启用")]):t._e(),t._v(" "),e("el-button",{staticClass:"_el-btn-custom",on:{click:t.handleCancle}},[t._v("关闭")])],1),t._v(" "),e("el-dialog",{staticClass:"_member-tip-dialog-custom-style",attrs:{title:"",visible:t.stopStartDialog,width:"320px","show-close":!1},on:{"update:visible":function(n){t.stopStartDialog=n}}},[e("i",{staticClass:"iconfont icon-danchuang-tishi _member-tip-dialog-icon"}),t._v(" "),e("span",{staticClass:"_member-tip-dialog-desc"},[t._v("确定要"+t._s("start"==t.detailData.status?"停用":"启用")+" "+t._s(t.detailData.equityName)+" 吗？")]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"_el-btn-custom _member-add-edit-save-btn",attrs:{type:"primary"},on:{click:t.handleSureChangeStatus}},[t._v("确定")]),t._v(" "),e("el-button",{staticClass:"_el-btn-custom _member-add-edit-save-btn",on:{click:function(n){t.stopStartDialog=!1}}},[t._v("取消")])],1)])],1)},s=[],o={render:i,staticRenderFns:s};n.a=o}});