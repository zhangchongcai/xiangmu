webpackJsonpctm([61],{228:function(e,t,n){"use strict";function a(e){n(771)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(423),o=n(773),l=n(3),d=a,s=l(i.a,o.a,!1,d,"data-v-2200deee",null);t.default=s.exports},423:function(e,t,n){"use strict";var a=n(41),i=n.n(a),o=[{label:"票价",value:"nonMemberTicket"},{label:"会员价",value:"memberTicket"},{label:"影厅名称",value:"hallName"},{label:" 总座位数",value:"seatNum"},{label:"剩余座位数",value:"leftSeatNum"}];t.a={data:function(){return{displayTemplateVo:{backgroundColor:"",noticeTextSize:"",columnList:[]},cities:o,options1:[],options2:[],value:"",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",fileList:[],chooseList:[]}},methods:{ossUpdata:function(e){var t=this;console.log(e);var n=this.$loading({lock:!0,text:"图片上传中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a=new FormData;a.append("file",e.file),a.append("moduleName","plan_display"),console.log(a),this.$ctmList.ossUpdata(a).then(function(a){200===a.code&&a.data?(t.fileList.unshift({cinemaUid:t.$route.query.cinemaUid,url:a.data,picName:e.file.name,picType:1,seq:1,tCode:t.$route.query.templateCode,tcode:t.$route.query.templateCode}),t.savePhoto(a.data,e.file.name),setTimeout(function(){n.close(),t.$message("图片上传成功")},1e3),console.log(t.fileList)):t.error(a.msg)})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传影院LOGO大小不能超过 2MB!"),t},save:function(){var e=this,t=this.$loading({lock:!0,text:"保存中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.fileList.forEach(function(e,t){e.seq=t+1}),this.$ctmList.saveSwiperSet(i()({},{displayTemplateVo:this.displayTemplateVo},{advertisePicList:this.fileList})).then(function(n){console.log(n),200===n.code&&n.msg?(e.getList(),e.getPhoto(),setTimeout(function(){t.close(),e.$message("保存成功"),e.$router.push("manageList")},1e3)):e.error(n.msg)})},savePhoto:function(e,t){var n=this,a={cinemaUid:this.$route.query.cinemaUid,picType:1,tCode:this.$route.query.templateCode,url:e,picName:t};this.$ctmList.savePhoto(i()({},a)).then(function(e){console.log(e),200===e.code&&e.data?n.getPhoto():n.error(e.msg)})},getList:function(){var e=this,t={templateCode:this.$route.query.templateCode,cinemaUid:this.$route.query.cinemaUid};this.$ctmList.getSwiperSet(i()({},t)).then(function(t){console.log(t),200===t.code&&t.data?(e.displayTemplateVo=t.data.displayTemplates,e.options1=t.data.ticketTypeList,e.options2=t.data.ticketTypeList):e.error(t.msg)})},getPhoto:function(){var e=this,t={templateCode:this.$route.query.templateCode,cinemaUid:this.$route.query.cinemaUid};this.$ctmList.getPhotoList(i()({},t)).then(function(t){console.log(t),200===t.code&&t.data?e.fileList=t.data:e.error(t.msg)})},selectPhoto:function(e){var t=this;console.log(e),e.forEach(function(e){e.id&&t.chooseList.unshift(e.id)})},deletePhoto:function(e){var t=this;if(console.log(e),!e.length)return void this.$message("请先选择要删除的图片");this.$ctmList.deletePhoto(e).then(function(e){200===e.code&&e.data?(t.$message(e.msg),t.getPhoto()):t.error(e.msg)})},deleteThat:function(){this.deletePhoto(this.chooseList)},deleteThis:function(e){console.log(e),e.id?this.deletePhoto([e.id]):(this.$message("操作成功"),this.fileList.splice(e.$index,1))},upThis:function(e,t){if(console.log(e,t),t>0){var n=this.fileList[t-1];this.fileList.splice(t-1,1),this.fileList.splice(t,0,n)}},downThis:function(e,t){if(t+1===this.fileList.length)alert("已经是最后一条，不可下移");else{var n=this.fileList[t+1];this.fileList.splice(t+1,1),this.fileList.splice(t,0,n)}}},created:function(){this.getList(),this.getPhoto()},watch:{"$route.query.saleBillFlowUid":function(){this.getDetail()}}}},771:function(e,t,n){var a=n(772);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(157)("61d75f7d",a,!0,{})},772:function(e,t,n){t=e.exports=n(156)(!0),t.push([e.i,'\n.el-button--primary[data-v-2200deee] {\n  width: 80px;\n  padding: 8px;\n}\n[data-v-2200deee] .el-upload-list {\n  display: none;\n}\n.el-form[data-v-2200deee] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n.el-form .el-row .el-form-item[data-v-2200deee] {\n    margin-bottom: 0;\n}\n[data-v-2200deee] cell img {\n  width: 100%;\n  height: 220px;\n}\n.messageWord[data-v-2200deee] {\n  word-break: break-all;\n}\n.can_click[data-v-2200deee] {\n  margin-right: 10px;\n  cursor: pointer;\n  color: #3b74ff;\n}\n.table_div[data-v-2200deee],\n.searchAdition[data-v-2200deee] {\n  margin-bottom: 20px;\n}\n.title_btn[data-v-2200deee] {\n  padding: 8px 12px;\n  float: right;\n  margin-left: 12px;\n  height: 32px;\n}\n.title_btn span[data-v-2200deee] {\n    font-size: 12px;\n}\n.div_title[data-v-2200deee] {\n  padding: 1em;\n  line-height: 32px;\n}\n.div_title[data-v-2200deee]::after {\n    content: "";\n    display: block;\n    clear: both;\n}\n.div_title[data-v-2200deee]::before {\n    display: inline-block;\n    width: 2px;\n    height: 10px;\n    background-color: #192850;\n    margin-right: 10px;\n}\n.div_title .el-icon-arrow-down[data-v-2200deee]:before {\n    margin-right: 5px;\n}\n.el-form-item__label[data-v-2200deee],\n.el-form-item__content span[data-v-2200deee] {\n  font-size: 12px;\n}\n.text[data-v-2200deee] {\n  font-size: 14px;\n}\n.item[data-v-2200deee] {\n  margin-bottom: 18px;\n}\n.clearfix[data-v-2200deee]:before,\n.clearfix[data-v-2200deee]:after {\n  display: table;\n  content: "";\n}\n.clearfix[data-v-2200deee]:after {\n  clear: both;\n}\n.content .like_ul[data-v-2200deee] {\n  padding: 8px 8px 0;\n}\n.content .el-form-item[data-v-2200deee] {\n  margin: 0;\n}\n.el-collapse-item__arrow[data-v-2200deee] {\n  margin: 0 8px 0;\n}\n.el-collapse-item__header[data-v-2200deee] {\n  display: inline-block;\n  border-bottom: none;\n  position: relative;\n  padding: 7px 0;\n  font-size: 14px;\n  color: #333;\n}\n.el-collapse-item__header[data-v-2200deee]::after {\n    left: 0;\n    bottom: 0;\n    width: 968px;\n    height: 1px;\n    content: "";\n    position: absolute;\n    background-color: #ebeef5;\n    z-index: 1;\n}\n.el-form-item[data-v-2200deee] {\n  width: auto;\n}\n.el-date-editor .el-range-separator[data-v-2200deee] {\n  line-height: 24px;\n}\n.el-date-editor .el-range__icon[data-v-2200deee] {\n  line-height: 24px;\n}\n.el-date-editor--daterange.el-input__inner[data-v-2200deee] {\n  width: 256px;\n}\n.el-date-table td span[data-v-2200deee] {\n  border-radius: 0;\n}\n.like-lable[data-v-2200deee] {\n  color: #606266;\n  padding: 0 12px 0 0;\n  width: 100px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  white-space: nowrap;\n  text-align: right;\n}\n.search-time[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.el-input--suffix[data-v-2200deee] {\n  width: 177px;\n}\n.search-btn[data-v-2200deee] {\n  margin-left: 30px;\n}\n.div_photo[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  padding: 1em;\n}\n.div_photo .photo_name[data-v-2200deee] {\n    font-size: 16px;\n    line-height: 24px;\n    margin: 0 12px;\n}\n.div_photo img[data-v-2200deee] {\n    margin: 0 12px;\n}\n.p_photo[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.bottom-handler-tool[data-v-2200deee] {\n  height: 64px;\n  width: 100%;\n  z-index: 999;\n  bottom: 0;\n  right: 0;\n}\n.bottom-handler-tool .btn-area[data-v-2200deee] {\n    width: 500px;\n    margin: 0 auto;\n    height: 64px;\n    text-align: center;\n    padding-top: 16px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n',"",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ctm/src/views/filmShow/editor.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,+BAA+B;UACvB,uBAAuB;EAC/B,iBAAiB;CAClB;AACD;IACI,iBAAiB;CACpB;AACD;EACE,YAAY;EACZ,cAAc;CACf;AACD;EACE,sBAAsB;CACvB;AACD;EACE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;CAChB;AACD;;EAEE,oBAAoB;CACrB;AACD;EACE,kBAAkB;EAClB,aAAa;EACb,kBAAkB;EAClB,aAAa;CACd;AACD;IACI,gBAAgB;CACnB;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;IACI,YAAY;IACZ,eAAe;IACf,YAAY;CACf;AACD;IACI,sBAAsB;IACtB,WAAW;IACX,aAAa;IACb,0BAA0B;IAC1B,mBAAmB;CACtB;AACD;IACI,kBAAkB;CACrB;AACD;;EAEE,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,oBAAoB;CACrB;AACD;;EAEE,eAAe;EACf,YAAY;CACb;AACD;EACE,YAAY;CACb;AACD;EACE,mBAAmB;CACpB;AACD;EACE,UAAU;CACX;AACD;EACE,gBAAgB;CACjB;AACD;EACE,sBAAsB;EACtB,oBAAoB;EACpB,mBAAmB;EACnB,eAAe;EACf,gBAAgB;EAChB,YAAY;CACb;AACD;IACI,QAAQ;IACR,UAAU;IACV,aAAa;IACb,YAAY;IACZ,YAAY;IACZ,mBAAmB;IACnB,0BAA0B;IAC1B,WAAW;CACd;AACD;EACE,YAAY;CACb;AACD;EACE,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,aAAa;CACd;AACD;EACE,iBAAiB;CAClB;AACD;EACE,eAAe;EACf,oBAAoB;EACpB,aAAa;EACb,+BAA+B;UACvB,uBAAuB;EAC/B,oBAAoB;EACpB,kBAAkB;CACnB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;EACE,aAAa;CACd;AACD;EACE,kBAAkB;CACnB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,yBAAyB;MACrB,sBAAsB;UAClB,wBAAwB;EAChC,aAAa;CACd;AACD;IACI,gBAAgB;IAChB,kBAAkB;IAClB,eAAe;CAClB;AACD;IACI,eAAe;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,mBAAmB;UACf,0BAA0B;CACnC;AACD;EACE,aAAa;EACb,YAAY;EACZ,aAAa;EACb,UAAU;EACV,SAAS;CACV;AACD;IACI,aAAa;IACb,eAAe;IACf,aAAa;IACb,mBAAmB;IACnB,kBAAkB;IAClB,+BAA+B;YACvB,uBAAuB;CAClC",file:"editor.vue",sourcesContent:['\n.el-button--primary[data-v-2200deee] {\n  width: 80px;\n  padding: 8px;\n}\n[data-v-2200deee] .el-upload-list {\n  display: none;\n}\n.el-form[data-v-2200deee] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  overflow: hidden;\n}\n.el-form .el-row .el-form-item[data-v-2200deee] {\n    margin-bottom: 0;\n}\n[data-v-2200deee] cell img {\n  width: 100%;\n  height: 220px;\n}\n.messageWord[data-v-2200deee] {\n  word-break: break-all;\n}\n.can_click[data-v-2200deee] {\n  margin-right: 10px;\n  cursor: pointer;\n  color: #3b74ff;\n}\n.table_div[data-v-2200deee],\n.searchAdition[data-v-2200deee] {\n  margin-bottom: 20px;\n}\n.title_btn[data-v-2200deee] {\n  padding: 8px 12px;\n  float: right;\n  margin-left: 12px;\n  height: 32px;\n}\n.title_btn span[data-v-2200deee] {\n    font-size: 12px;\n}\n.div_title[data-v-2200deee] {\n  padding: 1em;\n  line-height: 32px;\n}\n.div_title[data-v-2200deee]::after {\n    content: "";\n    display: block;\n    clear: both;\n}\n.div_title[data-v-2200deee]::before {\n    display: inline-block;\n    width: 2px;\n    height: 10px;\n    background-color: #192850;\n    margin-right: 10px;\n}\n.div_title .el-icon-arrow-down[data-v-2200deee]:before {\n    margin-right: 5px;\n}\n.el-form-item__label[data-v-2200deee],\n.el-form-item__content span[data-v-2200deee] {\n  font-size: 12px;\n}\n.text[data-v-2200deee] {\n  font-size: 14px;\n}\n.item[data-v-2200deee] {\n  margin-bottom: 18px;\n}\n.clearfix[data-v-2200deee]:before,\n.clearfix[data-v-2200deee]:after {\n  display: table;\n  content: "";\n}\n.clearfix[data-v-2200deee]:after {\n  clear: both;\n}\n.content .like_ul[data-v-2200deee] {\n  padding: 8px 8px 0;\n}\n.content .el-form-item[data-v-2200deee] {\n  margin: 0;\n}\n.el-collapse-item__arrow[data-v-2200deee] {\n  margin: 0 8px 0;\n}\n.el-collapse-item__header[data-v-2200deee] {\n  display: inline-block;\n  border-bottom: none;\n  position: relative;\n  padding: 7px 0;\n  font-size: 14px;\n  color: #333;\n}\n.el-collapse-item__header[data-v-2200deee]::after {\n    left: 0;\n    bottom: 0;\n    width: 968px;\n    height: 1px;\n    content: "";\n    position: absolute;\n    background-color: #ebeef5;\n    z-index: 1;\n}\n.el-form-item[data-v-2200deee] {\n  width: auto;\n}\n.el-date-editor .el-range-separator[data-v-2200deee] {\n  line-height: 24px;\n}\n.el-date-editor .el-range__icon[data-v-2200deee] {\n  line-height: 24px;\n}\n.el-date-editor--daterange.el-input__inner[data-v-2200deee] {\n  width: 256px;\n}\n.el-date-table td span[data-v-2200deee] {\n  border-radius: 0;\n}\n.like-lable[data-v-2200deee] {\n  color: #606266;\n  padding: 0 12px 0 0;\n  width: 100px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  white-space: nowrap;\n  text-align: right;\n}\n.search-time[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.el-input--suffix[data-v-2200deee] {\n  width: 177px;\n}\n.search-btn[data-v-2200deee] {\n  margin-left: 30px;\n}\n.div_photo[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  padding: 1em;\n}\n.div_photo .photo_name[data-v-2200deee] {\n    font-size: 16px;\n    line-height: 24px;\n    margin: 0 12px;\n}\n.div_photo img[data-v-2200deee] {\n    margin: 0 12px;\n}\n.p_photo[data-v-2200deee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.bottom-handler-tool[data-v-2200deee] {\n  height: 64px;\n  width: 100%;\n  z-index: 999;\n  bottom: 0;\n  right: 0;\n}\n.bottom-handler-tool .btn-area[data-v-2200deee] {\n    width: 500px;\n    margin: 0 auto;\n    height: 64px;\n    text-align: center;\n    padding-top: 16px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n'],sourceRoot:""}])},773:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cinemaList"},[n("div",{staticClass:"searchAdition"},[e._m(0),e._v(" "),n("el-form",{attrs:{size:"small","label-width":"100px"},model:{value:e.displayTemplateVo,callback:function(t){e.displayTemplateVo=t},expression:"displayTemplateVo"}},[n("el-form-item",{attrs:{label:"模板风格:"}},[n("el-radio",{attrs:{label:"balckBgc"},model:{value:e.displayTemplateVo.backgroundColor,callback:function(t){e.$set(e.displayTemplateVo,"backgroundColor",t)},expression:"displayTemplateVo.backgroundColor"}},[e._v("TV黑")]),e._v(" "),n("el-radio",{attrs:{label:"redBgc"},model:{value:e.displayTemplateVo.backgroundColor,callback:function(t){e.$set(e.displayTemplateVo,"backgroundColor",t)},expression:"displayTemplateVo.backgroundColor"}},[e._v("TV红")]),e._v(" "),n("el-radio",{attrs:{label:"blueBgc"},model:{value:e.displayTemplateVo.backgroundColor,callback:function(t){e.$set(e.displayTemplateVo,"backgroundColor",t)},expression:"displayTemplateVo.backgroundColor"}},[e._v("TV蓝")]),e._v(" "),n("el-radio",{attrs:{label:"greenBgc"},model:{value:e.displayTemplateVo.backgroundColor,callback:function(t){e.$set(e.displayTemplateVo,"backgroundColor",t)},expression:"displayTemplateVo.backgroundColor"}},[e._v("TV绿")])],1),e._v(" "),n("el-row",{staticStyle:{height:"48px"}},[n("el-col",{attrs:{span:16}},[n("el-form-item",{attrs:{label:"要显示的字段:"}},[n("el-checkbox-group",{model:{value:e.displayTemplateVo.columnList,callback:function(t){e.$set(e.displayTemplateVo,"columnList",t)},expression:"displayTemplateVo.columnList"}},e._l(e.cities,function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1)],1)],1),e._v(" "),n("el-row",{staticStyle:{height:"48px"}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"票价使用:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.displayTemplateVo.memberTicket,callback:function(t){e.$set(e.displayTemplateVo,"memberTicket",t)},expression:"displayTemplateVo.memberTicket"}},e._l(e.options1,function(e){return n("el-option",{key:e.$index,attrs:{label:e.ticketTypeName,value:e.ticketTypeUid}})}),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"会员价使用:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.displayTemplateVo.nonMemberTicket,callback:function(t){e.$set(e.displayTemplateVo,"nonMemberTicket",t)},expression:"displayTemplateVo.nonMemberTicket"}},e._l(e.options2,function(e){return n("el-option",{key:e.$index,attrs:{label:e.ticketTypeName,value:e.ticketTypeUid}})}),1)],1)],1)],1)],1)],1),e._v(" "),e._e(),e._v(" "),n("div",[e._m(2),e._v(" "),n("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入内容"},model:{value:e.displayTemplateVo.notice,callback:function(t){e.$set(e.displayTemplateVo,"notice",t)},expression:"displayTemplateVo.notice"}})],1),e._v(" "),n("div",{staticStyle:{height:"80px",background:"transparent"}}),e._v(" "),n("div",{staticClass:"bottom-handler-tool"},[n("div",{staticClass:"btn-area"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push("manageList")}}},[e._v("取消")])],1)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"div_title"},[n("i",{staticClass:"el-icon-arrow-down"},[e._v("基础设置")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"div_title"},[n("i",{staticClass:"el-icon-arrow-down"},[e._v("图片管理（轮播图片）")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"div_title"},[n("i",{staticClass:"el-icon-arrow-down"},[e._v("文字公告")])])}],o={render:a,staticRenderFns:i};t.a=o}});