webpackJsonpctm([59],{226:function(e,t,a){"use strict";function n(e){a(765)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(421),l=a(767),s=a(3),o=n,r=s(i.a,l.a,!1,o,"data-v-5d0761b7",null);t.default=r.exports},421:function(e,t,a){"use strict";var n=a(72);a.n(n);t.a={components:{singleCinema:n.singleCinema},data:function(){return{singleCinemaVisible:!1,singleCinemaType:2,innerData:{id:""},cinemaName:"",page:1,pageSize:10,cinemaUid:"",code:"",status:"",type:"",total:0,tableColumn:[{label:"影院名称",key:"cinemaName"},{label:"终端编号",key:"code"},{label:"注册时间",key:"createTime"},{label:"终端类型",key:" type",formatter:function(e,t,a){var n="";switch(e.type){case 1:n="排期展示";break;case 2:n="语音播报";break;case 3:n="TMS";break;case 4:n="广告"}return n}},{label:"终端状态",key:"status",formatter:function(e,t,a){var n="";switch(e.status){case 0:n="停用";break;case 1:n="启用"}return n}}],tableData:[]}},methods:{search:function(){this.getList()},getList:function(){var e=this,t={cinemaUid:this.cinemaUid,code:this.code,current:this.page,size:this.pageSize,status:this.status,type:this.type};this.$ctmList.terminalList(t).then(function(t){200===t.code?(e.total=t.data.total,e.tableData=t.data.list):e.error(t.msg)})},changeTerminal:function(e){var t=this,a=1==e.status?"0":"1",n={id:e.id,status:a};this.$ctmList.openTerminal(n).then(function(e){200===e.code?t.getList():t.error(e.msg)})},callBackSingle:function(e){this.cinemaUid=e.data.id,this.cinemaName=e.data.name;try{this.cinemaName=this.cinemaName.length>10?this.cinemaName.substring(0,9)+"...":this.cinemaName}catch(e){}this.innerData.id=e.data.id,this.singleCinemaVisible=e.framedialogVisible},getUserInfo:function(){var e=this;this.$ctmList.getUserInfo().then(function(t){200===t.code?(e.cinemaName=t.data.cinemaName,e.cinemaUid=t.data.cinemaUid,e.innerData.id=Number(t.data.cinemaUid),e.getList()):e.error(t.msg)})},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()}},created:function(){this.getList(),this.cinemaName="全部影院"}}},765:function(e,t,a){var n=a(766);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(157)("54929db8",n,!0,{})},766:function(e,t,a){t=e.exports=a(156)(!0),t.push([e.i,"\n.el-button--primary[data-v-5d0761b7] {\n  padding: 9px 32px;\n}\n.cinemaList[data-v-5d0761b7] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 100%;\n}\n.cinemaList .search-form[data-v-5d0761b7] {\n    background: #f5f5f5;\n    padding: 16px 24px;\n    margin-bottom: 10px;\n}\n.cinemaList .search-form[data-v-5d0761b7] .el-input__inner {\n      width: 176px;\n}\n.el-form-item[data-v-5d0761b7] {\n  width: 300px;\n  margin-bottom: 8px;\n}\n.change-dialog .el-form--inline .el-form-item[data-v-5d0761b7] {\n  width: 100%;\n}\n.change-dialog .el-form-item__content[data-v-5d0761b7] {\n  width: 70%;\n}\n.zd-box button[data-v-5d0761b7] {\n  float: right;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ctm/src/views/filmShow/list.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,+BAA+B;UACvB,uBAAuB;EAC/B,YAAY;CACb;AACD;IACI,oBAAoB;IACpB,mBAAmB;IACnB,oBAAoB;CACvB;AACD;MACM,aAAa;CAClB;AACD;EACE,aAAa;EACb,mBAAmB;CACpB;AACD;EACE,YAAY;CACb;AACD;EACE,WAAW;CACZ;AACD;EACE,aAAa;CACd",file:"list.vue",sourcesContent:["\n.el-button--primary[data-v-5d0761b7] {\n  padding: 9px 32px;\n}\n.cinemaList[data-v-5d0761b7] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 100%;\n}\n.cinemaList .search-form[data-v-5d0761b7] {\n    background: #f5f5f5;\n    padding: 16px 24px;\n    margin-bottom: 10px;\n}\n.cinemaList .search-form[data-v-5d0761b7] .el-input__inner {\n      width: 176px;\n}\n.el-form-item[data-v-5d0761b7] {\n  width: 300px;\n  margin-bottom: 8px;\n}\n.change-dialog .el-form--inline .el-form-item[data-v-5d0761b7] {\n  width: 100%;\n}\n.change-dialog .el-form-item__content[data-v-5d0761b7] {\n  width: 70%;\n}\n.zd-box button[data-v-5d0761b7] {\n  float: right;\n}\n"],sourceRoot:""}])},767:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"cinemaList"},[a("el-form",{staticClass:"demo-form-inline search-form",attrs:{inline:!0,"label-position":"right","label-width":"100px","label-suffix":":"}},[a("el-form-item",{attrs:{label:"影院名称"}},[a("el-button",{staticStyle:{width:"176px",height:"32px"},on:{click:function(t){e.singleCinemaVisible=!0,e.$refs.frameSingleCinema.listAuthCommCinemas()}}},[e._v("\n          "+e._s(e.cinemaName))])],1),e._v(" "),a("el-form-item",{attrs:{label:"终端编号"}},[a("el-input",{attrs:{placeholder:"请输内容",maxlength:"12"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"停用",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"终端类型"}},[a("el-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"排期展示",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"语音播报",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"TMS",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"广告",value:"4"}})],1)],1),e._v(" "),a("el-button",{staticStyle:{margin:"5px"},attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("div",[a("el-table",{attrs:{data:e.tableData,stripe:""}},[e._l(e.tableColumn,function(e){return a("el-table-column",{key:e.key,attrs:{prop:e.key,label:e.label,formatter:e.formatter}})}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return t.stopPropagation(),e.changeTerminal(n)}}},[e._v(e._s(1==n.status?"停用":"启用"))])]}}])})],2),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("singleCinema",{ref:"frameSingleCinema",attrs:{framedialogVisible:e.singleCinemaVisible,type:e.singleCinemaType,innerData:e.innerData},on:{"update:framedialogVisible":function(t){e.singleCinemaVisible=t},"update:framedialog-visible":function(t){e.singleCinemaVisible=t},callBackSingle:e.callBackSingle}},[a("div",{attrs:{slot:"footerId"},slot:"footerId"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$refs.frameSingleCinema.confirmData(),e.singleCinemaVisible=!1}}},[e._v("确\n        定")]),e._v(" "),a("el-button",{on:{click:function(t){e.singleCinemaVisible=!1}}},[e._v("取 消")])],1)])],1)},i=[],l={render:n,staticRenderFns:i};t.a=l}});