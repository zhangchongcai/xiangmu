webpackJsonpctm([43],{171:function(e,o,n){"use strict";function i(e){n(480)}Object.defineProperty(o,"__esModule",{value:!0});var r=n(347),t=n(482),l=n(3),s=i,c=l(r.a,t.a,!1,s,null,null);o.default=c.exports},347:function(e,o,n){"use strict";o.a={name:"Main",data:function(){return{type:"add",rules:{name:[{required:!0,message:"请输入分区类型名称",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"change"}]},formLabelWidth:"120px",dialogVisible:!1,ruleForm:{name:"",color:""},uid:"",colorBox:["rgba(255, 110, 60,0.3)","rgba(21, 179, 234,0.3)","rgba(255, 167, 47,0.3)","rgba(126, 211, 33,0.3)","rgba(255, 141, 18,0.3)","rgba(235, 40, 202,0.3)","rgba(139, 77, 255,0.3)","rgba(27, 218, 92,0.3)","rgba(252, 82, 148,0.3)","rgba(0, 223, 239,0.3)"],regionTypeList:[],colorBoxData:[]}},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(o){o&&("add"===e.type?e.saveRegionType():"edit"===e.type&&e.updateRegionType({color:e.ruleForm.color,name:e.ruleForm.name,uid:e.uid}))})},editRegionType:function(e){var o=this;this.type="edit";var n=this.regionTypeList.filter(function(o,n){return n!==e}),i=this.colorBox.filter(function(e){var o=!0;return n.some(function(n){if(e===n.color)return o=!1,!0}),o});this.colorBoxData=i.map(function(n){return{color:n,isSelected:n===o.regionTypeList[e].color}}),this.ruleForm.name=this.regionTypeList[e].name,this.ruleForm.color=this.regionTypeList[e].color,this.uid=this.regionTypeList[e].uid,this.dialogVisible=!0,this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate()},deleteRegionType:function(e){var o=this;this.$confirm("是否确认删除该类型？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.delRegionType(e)}).catch(function(e){console.log(e)})},delRegionType:function(e){var o=this;this.$ctmList.delRegionType({regionTypeUid:e}).then(function(e){console.log(e),200===e.code?(o.success("删除成功！"),o.getRegionTypeList()):o.error(e.msg)}).catch(function(e){console.log(e)})},handleColorPicker:function(e){this.colorBoxData.forEach(function(e){e.isSelected=!1}),this.colorBoxData[e].isSelected=!0,this.ruleForm.color=this.colorBoxData[e].color,console.log(this.ruleForm,"this.ruleForm")},addManageType:function(){var e=this;if(!(this.regionTypeList.length>9)){this.type="add";var o=this.colorBox.filter(function(o){var n=!0;return e.regionTypeList.some(function(e){if(o===e.color)return n=!1,!0}),n});this.colorBoxData=o.map(function(e){return{color:e,isSelected:!1}}),this.ruleForm.name="",this.ruleForm.color="",this.dialogVisible=!0,this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate()}},saveRegionType:function(){var e=this;this.$ctmList.saveRegionType(this.ruleForm).then(function(o){console.log(o),200===o.code?(e.$refs.ruleForm.resetFields(),e.dialogVisible=!1,e.success("保存成功！"),e.getRegionTypeList()):e.error(o.msg)}).catch(function(e){console.log(e)})},updateRegionType:function(e){var o=this;this.$ctmList.updateRegionType(e).then(function(e){console.log(e),200===e.code?(o.$refs.ruleForm.resetFields(),o.dialogVisible=!1,o.success("保存成功！"),o.getRegionTypeList()):o.error(e.msg)}).catch(function(e){console.log(e)})},getRegionTypeList:function(){var e=this;this.$ctmList.getRegionTypeList().then(function(o){console.log(o),200===o.code?e.regionTypeList=o.data:e.error(o.msg)}).catch(function(e){console.log(e)})}},mounted:function(){this.getRegionTypeList()}}},480:function(e,o,n){var i=n(481);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(157)("70032359",i,!0,{})},481:function(e,o,n){o=e.exports=n(156)(!0),o.push([e.i,"\n.regionType {\n  width: 1000px;\n}\n.regionType .regionTypeList {\n    float: left;\n    margin: 0 100px 50px 0;\n    border: 1px solid #d9d9d9;\n    border-radius: 6px;\n    overflow: hidden;\n}\n.regionType .regionTypeList .el-icon-edit {\n      cursor: pointer;\n}\n.regionType .regionTypeList .deleteButton {\n      display: none;\n}\n.regionType .regionTypeList:hover .deleteButton {\n    display: inline;\n    color: #3b74ff;\n    cursor: pointer;\n}\n.regionType .add-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 200px;\n    height: 150px;\n    line-height: 150px;\n    text-align: center;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.regionType .el-dialog .color-picker {\n    float: left;\n    padding: 10px;\n    margin-right: 10px;\n    border-radius: 4px;\n    border: 1px solid transparent;\n    cursor: pointer;\n}\n.regionType .el-dialog .color-picker .el-icon-check {\n      color: white;\n      font-size: 16px;\n      font-weight: bold;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      -webkit-transform: translate3d(-50%, -50%, 0);\n              transform: translate3d(-50%, -50%, 0);\n}\n.regionType .el-dialog .color-picker-border {\n    border: 1px solid #3b74ff;\n}\n.regionType .disabled {\n    color: #c0c4cc;\n    cursor: not-allowed;\n    background-color: #fff;\n    border-color: #ebeef5;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ctm/src/views/regionTypeManage/Main.vue"],names:[],mappings:";AACA;EACE,cAAc;CACf;AACD;IACI,YAAY;IACZ,uBAAuB;IACvB,0BAA0B;IAC1B,mBAAmB;IACnB,iBAAiB;CACpB;AACD;MACM,gBAAgB;CACrB;AACD;MACM,cAAc;CACnB;AACD;IACI,gBAAgB;IAChB,eAAe;IACf,gBAAgB;CACnB;AACD;IACI,gBAAgB;IAChB,eAAe;IACf,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,mBAAmB;IACnB,2BAA2B;IAC3B,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,cAAc;IACd,mBAAmB;IACnB,mBAAmB;IACnB,8BAA8B;IAC9B,gBAAgB;CACnB;AACD;MACM,aAAa;MACb,gBAAgB;MAChB,kBAAkB;MAClB,mBAAmB;MACnB,SAAS;MACT,UAAU;MACV,8CAA8C;cACtC,sCAAsC;CACnD;AACD;IACI,0BAA0B;CAC7B;AACD;IACI,eAAe;IACf,oBAAoB;IACpB,uBAAuB;IACvB,sBAAsB;CACzB",file:"Main.vue",sourcesContent:["\n.regionType {\n  width: 1000px;\n}\n.regionType .regionTypeList {\n    float: left;\n    margin: 0 100px 50px 0;\n    border: 1px solid #d9d9d9;\n    border-radius: 6px;\n    overflow: hidden;\n}\n.regionType .regionTypeList .el-icon-edit {\n      cursor: pointer;\n}\n.regionType .regionTypeList .deleteButton {\n      display: none;\n}\n.regionType .regionTypeList:hover .deleteButton {\n    display: inline;\n    color: #3b74ff;\n    cursor: pointer;\n}\n.regionType .add-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 200px;\n    height: 150px;\n    line-height: 150px;\n    text-align: center;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.regionType .el-dialog .color-picker {\n    float: left;\n    padding: 10px;\n    margin-right: 10px;\n    border-radius: 4px;\n    border: 1px solid transparent;\n    cursor: pointer;\n}\n.regionType .el-dialog .color-picker .el-icon-check {\n      color: white;\n      font-size: 16px;\n      font-weight: bold;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      -webkit-transform: translate3d(-50%, -50%, 0);\n              transform: translate3d(-50%, -50%, 0);\n}\n.regionType .el-dialog .color-picker-border {\n    border: 1px solid #3b74ff;\n}\n.regionType .disabled {\n    color: #c0c4cc;\n    cursor: not-allowed;\n    background-color: #fff;\n    border-color: #ebeef5;\n}\n"],sourceRoot:""}])},482:function(e,o,n){"use strict";var i=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("section",{staticClass:"regionType clearfix"},[n("el-dialog",{attrs:{title:"add"===e.type?"新建分区类型":"编辑分区类型",visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[n("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":e.formLabelWidth}},[n("el-form-item",{attrs:{label:"分区类型名称",prop:"name"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.ruleForm.name,callback:function(o){e.$set(e.ruleForm,"name",o)},expression:"ruleForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"可选代表颜色",prop:"color"}},e._l(e.colorBoxData,function(o,i){return n("div",{key:o.color,class:[{"color-picker-border":o.isSelected},"color-picker"],on:{click:function(o){return e.handleColorPicker(i)}}},[n("div",{style:{position:"relative",width:"20px",height:"20px",borderRadius:"4px",background:o.color}},[n("i",{directives:[{name:"show",rawName:"v-show",value:o.isSelected,expression:"item.isSelected"}],staticClass:"el-icon-check"})])])}),0)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保 存")]),e._v(" "),n("el-button",{on:{click:function(o){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),e._l(e.regionTypeList,function(o,i){return n("div",{key:i,staticClass:"regionTypeList"},[n("div",{style:{width:"200px",height:"100px",background:o.color}}),e._v(" "),n("div",{staticStyle:{width:"180px",height:"50px","line-height":"50px",padding:"0 10px"}},[n("span",[e._v(e._s(o.name))]),e._v(" "),n("span",{staticStyle:{float:"right"}},["普通区"!==o.name?n("i",{staticClass:"el-icon-edit",on:{click:function(o){return e.editRegionType(i)}}}):e._e()])])])})],2)},r=[],t={render:i,staticRenderFns:r};o.a=t}});