webpackJsonpctm([28],{179:function(e,i,t){"use strict";function n(e){t(547)}Object.defineProperty(i,"__esModule",{value:!0});var a=t(366),o=t(549),l=t(3),s=n,c=l(a.a,o.a,!1,s,null,null);i.default=c.exports},232:function(e,i,t){"use strict";i.a={data:function(){return{stepList:this.stepData}},props:["stepData"],name:"fixStepTool",mounted:function(){var e=this;this.$nextTick(function(){document.querySelector(".content-wrapper").addEventListener("scroll",e.onScroll)})},methods:{stepPos:function(e){function i(){a<n?(a+=l,document.querySelector(".content-wrapper").scrollTop=a,setTimeout(i,10)):document.querySelector(".content-wrapper").scrollTop=n}function t(){a>n?(a-=l,document.querySelector(".content-wrapper").scrollTop=a,setTimeout(t,10)):document.querySelector(".content-wrapper").scrollTop=n}var n=this.stepList[e].scrollTop,a=document.querySelector(".content-wrapper").scrollTop,o=document.querySelector(".el-container").offsetHeight-document.querySelector(".content-wrapper").offsetHeight-this.getStyle(document.querySelector(".el-main"),"paddingBottom").split("px")[0];n-=o;var l=(n-a)/25;if(n>a)i();else{l=(a-n)/25,t()}},onScroll:function(){this.$eventHub.$emit("changeScroll")},getStyle:function(e,i){return e.currentStyle?e.currentStyle[i]:getComputedStyle(e,!1)[i]}},computed:{right:function(){return document.body.offsetWidth>1440?document.body.offsetWidth>1540?"200px":200-document.body.offsetWidth+1440+"px":"80px"}},destroyed:function(){document.querySelector(".content-wrapper").removeEventListener("scroll",this.onScroll)}}},233:function(e,i,t){"use strict";function n(e){t(234)}var a=t(232),o=t(236),l=t(3),s=n,c=l(a.a,o.a,!1,s,null,null);i.a=c.exports},234:function(e,i,t){var n=t(235);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(157)("61f8b482",n,!0,{})},235:function(e,i,t){i=e.exports=t(156)(!0),i.push([e.i,"\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 4px;\n      height: 4px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 1px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ctm/src/components/fix-step-tool/fix-step-tool.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,eAAe;EACf,SAAS;CACV;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;IACnB,YAAY;IACZ,gBAAgB;IAChB,gBAAgB;CACnB;AACD;MACM,WAAW;MACX,YAAY;MACZ,sBAAsB;MACtB,mBAAmB;MACnB,0BAA0B;MAC1B,mBAAmB;MACnB,mBAAmB;MACnB,UAAU;CACf;AACD;MACM,cAAc;MACd,eAAe;MACf,mBAAmB;MACnB,WAAW;MACX,UAAU;MACV,gBAAgB;CACrB;AACD;;MAEM,mBAAmB;MACnB,WAAW;MACX,aAAa;MACb,UAAU;MACV,cAAc;MACd,mBAAmB;MACnB,0BAA0B;CAC/B;AACD;MACM,aAAa;CAClB;AACD;IACI,eAAe;IACf,aAAa;IACb,kBAAkB;CACrB;AACD;MACM,aAAa;CAClB;AACD;MACM,cAAc;CACnB;AACD;MACM,sBAAsB;MACtB,kBAAkB;CACvB",file:"fix-step-tool.vue",sourcesContent:["\n.fix-step-tool {\n  position: fixed;\n  z-index: 99999;\n  top: 25%;\n}\n.fix-step-tool .single-step {\n    height: 16px;\n    line-height: 16px;\n    margin-bottom: 46px;\n    position: relative;\n    color: #666;\n    font-size: 12px;\n    cursor: pointer;\n}\n.fix-step-tool .single-step .fix-step-icon {\n      width: 4px;\n      height: 4px;\n      display: inline-block;\n      border-radius: 50%;\n      background-color: #bcbcbc;\n      margin-right: 18px;\n      position: relative;\n      top: -2px;\n}\n.fix-step-tool .single-step .icon-neiye-yemianquyuxuanze {\n      display: none;\n      color: #3b74ff;\n      position: relative;\n      left: -5px;\n      top: -3px;\n      font-size: 16px;\n}\n.fix-step-tool .single-step .connect-line,\n    .fix-step-tool .single-step .connect-line-first {\n      position: absolute;\n      width: 1px;\n      height: 46px;\n      left: 2px;\n      bottom: -45px;\n      border-radius: 20%;\n      background-color: #bcbcbc;\n}\n.fix-step-tool .single-step .connect-line-first {\n      bottom: 16px;\n}\n.fix-step-tool .single-step.isactive {\n    color: #3b74ff;\n    height: 24px;\n    line-height: 24px;\n}\n.fix-step-tool .single-step.isactive .connect-line-first {\n      bottom: 24px;\n}\n.fix-step-tool .single-step.isactive .fix-step-icon {\n      display: none;\n}\n.fix-step-tool .single-step.isactive .icon-neiye-yemianquyuxuanze {\n      display: inline-block;\n      margin-right: 8px;\n}\n"],sourceRoot:""}])},236:function(e,i,t){"use strict";var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"fix-step-tool",style:{right:e.right}},[t("ul",e._l(e.stepList,function(i,n){return t("li",{key:n,staticClass:"single-step",class:{isactive:i.isactive},on:{click:function(i){return e.stepPos(n)}}},[t("i",{staticClass:"fix-step-icon"}),e._v(" "),t("i",{staticClass:"iconfont icon-neiye-yemianquyuxuanze"}),e._v(" "),t("span",[e._v(e._s(i.name))]),e._v(" "),t("span",{staticClass:"connect-line"}),e._v(" "),n?e._e():t("span",{staticClass:"connect-line-first"})])}),0)])},a=[],o={render:n,staticRenderFns:a};i.a=o},237:function(e,i,t){"use strict";i.a={data:function(){return{stepData:{stepEl:".el-collapse-item",stepList:[]}}},created:function(){this.$eventHub.$on("changeScroll",this.changeToolActive)},mounted:function(){var e=this;this.$nextTick(function(){e.calcScrollTop(e.stepData.stepEl,e.stepData.stepList)})},updated:function(){var e=this,i=this;document.querySelectorAll(this.stepData.stepEl).length&&window.setTimeout(function(){i.calcScrollTop(e.stepData.stepEl,i.stepData.stepList)},500)},methods:{calcScrollTop:function(e,i){var t=document.querySelectorAll(e),n=document.querySelector(".content-wrapper").scrollTop;t&&t.length&&i.forEach(function(e,a){e.scrollTop=t[a].offsetTop,a>0?n<=e.scrollTop&&n>i[a-1].scrollTop?e.isactive=!0:e.isactive=!1:n<=e.scrollTop?e.isactive=!0:e.isactive=!1})},changeToolActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stepData.stepList,i=document.querySelector(".content-wrapper").scrollTop;e.forEach(function(t,n){n>0?i<=t.scrollTop&&i>e[n-1].scrollTop?t.isactive=!0:t.isactive=!1:i<=t.scrollTop?t.isactive=!0:t.isactive=!1}),e.every(function(e){return!e.isactive})&&(e[e.length-1].isactive=!0)}},destroyed:function(){this.$eventHub.$off("changeScroll")}}},366:function(e,i,t){"use strict";var n=t(41),a=t.n(n),o=t(77),l=t.n(o),s=t(37),c=t.n(s),r=t(233),p=t(237),m=t(38);i.a={data:function(){return{activ:"",active1:"",active2:"",active:"",fuhao:"≤",pd:!1,checkList:[],ifCheck:[],hidden:"hide",tableData:[],rulers:0,pricing:0,pricing1:0,activeList:[{idx:0,occupancyMax:null,occupancyMin:null,time:null,price:null,type:0}],options:[{value:0,label:"不执行分区定价"},{value:1,label:"执行分区定价"}],options1:[{value:0,label:"不执行动态调价"},{value:1,label:"执行动态调价"}],opt1:[{value:0,label:"出票价+N元"},{value:1,label:"出票价-N元"},{value:2,label:"出票价打折%"}],disVersionList2:[{idx:0,label:"上座率动态调价"},{idx:1,label:"开映前多少小时动态调价"}],planUid:"",referer:"",curPlanDate:"",nextPlanDate:"",year:"",month:"",day:"",planHour:"",planMinute:"",copyMinute:"",cinemaUid:"",timeInterval:null,langValue:"",langArr:[],startTime:"00",sectionPrice:"1",isEditMode:!0,activeNames:["1","2","3"],activeTab:"first",stepData:{stepEl:".el-collapse-item",stepList:[{name:"基础信息",isactive:!1},{name:"价格体系",isactive:!1},{name:"分账信息",isactive:!1}]},movieData:{},hallData:null,showPlanDate:"",showPlanTime:"",timeRange:{selectableRange:"9:00:00 - 9:59:59"},mustRightSeat:"",permitDiscount:"",permitSaleBox:"",pricePlanDialog:!1,planName:"",hallTypeData:[],issueTypeData:[],issueTypeValue:"",hallTypeCode:"",selectPlanData:{programUid:"",programName:"",isShow:!1,data:[]},curPage:1,pageSize:10,total:0,importPlanData:[],ticketData:[],channelData:[],channelSel:[],checked:!0,checked2:!0,movieTypeCheckAll:!1,isIndeterminate:!0,movieTypeCheckList:[],ticketChannelList:[],leaveFlag:!0,ruleForm:{price:"",rate:""},rules:{price:[{validator:function(e,i,t){setTimeout(function(){if(i<=0||i>999.99||!/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(i))return t(new Error("最低票价必须大于0小于1000的数字，且小数位不能超过2位!"));t()},100)},trigger:"blur"}],rate:[{validator:function(e,i,t){if(i<0||i>100||!/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(i))return t(new Error("分账比例必须输入范围为0-100,允许2位小数!"));t()},trigger:"blur"}]},vieCinemaList:[],priceContrast:[],tipBox:{width:0,height:0},currentRow:null,hasNoVieCinema:!1,fixedWidth:""}},mixins:[p.a],created:function(){this.getRegionTypeList()},mounted:function(){this.fixedWidth=document.querySelector(".content-wrapper").offsetWidth,this.dataInit()},methods:{dateAdd:function(e){e=e.slice(0,10),e=new Date(e),e=+e-864e5,e=new Date(e);var i=e.getMonth()+1;i<10&&(i="0"+i);var t=e.getDate();return t<10&&(t="0"+t),e.getFullYear()+"-"+i+"-"+t},priceChange1:function(e,i){var t=this,n=parseFloat(e);if(n<0&&(this.ticketData[i].price=this.ruleForm.price,this.$message({message:"不得小于0",type:"warning"})),n>999.99&&(this.ticketData[i].price=this.ruleForm.price,this.$message({message:"不得高于999.99",type:"warning"})),1==this.pricing&&1==this.pricing1){var a=!0;this.activeList.forEach(function(o){t.tableData.forEach(function(l){if(a&&null!=l.price)if(0==o.type){var s=1*e+1*o.price+1*l.price;s<t.ruleForm.price?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):s>999.99?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):s<=999.99&&s>=t.ruleForm.price&&(t.ticketData[i].price=n.toFixed(2))}else if(0==o.type){var s=1*e+1*o.price+-1*l.price;s<t.ruleForm.price?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):s>999.99?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):s<=999.99&&s>=t.ruleForm.price&&(t.ticketData[i].price=n.toFixed(2))}})})}else if(1==this.pricing)this.tableData.forEach(function(a){if(null!=a.price){var o=1*e+1*a.price;o<t.ruleForm.price?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"})):o>999.99?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"})):o<=999.99&&o>=t.ruleForm.price&&(t.ticketData[i].price=n.toFixed(2))}});else if(1==this.pricing1){var a=!0;this.activeList.forEach(function(o){if(0==o.type){if(a){var l=1*e+1*o.price;l<t.ruleForm.price?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):l>999.99?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):l<=999.99&&l>=t.ruleForm.price&&(t.ticketData[i].price=n.toFixed(2))}}else if(1==o.type&&a){var l=1*e+-1*o.price;l<t.ruleForm.price?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):l>999.99?(t.ticketData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):l<=999.99&&l>=t.ruleForm.price&&(t.ticketData[i].price=n.toFixed(2))}})}else 1*e<this.ruleForm.price?(this.ticketData[i].price=this.ruleForm.price,this.$message({message:"票价不得小于最低票价",type:"warning"})):this.ticketData[i].price=n.toFixed(2)},priceChange2:function(e,i){var t=this,n=parseFloat(e);if(n<0&&(this.channelData[i].price=this.ruleForm.price,this.$message({message:"不得小于0",type:"warning"})),n>999.99&&(this.channelData[i].price=this.ruleForm.price,this.$message({message:"不得高于999.99",type:"warning"})),1==this.pricing&&1==this.pricing1){var a=!0;this.activeList.forEach(function(o){t.tableData.forEach(function(l){if(a&&null!=l.price)if(0==o.type){var s=1*e+1*o.price+1*l.price;s<t.ruleForm.price?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):s>999.99?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):s<=999.99&&s>=t.ruleForm.price&&(t.channelData[i].price=n.toFixed(2))}else if(0==o.type){var s=1*e+1*o.price+-1*l.price;s<t.ruleForm.price?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):s>999.99?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):s<=999.99&&s>=t.ruleForm.price&&(t.channelData[i].price=n.toFixed(2))}})})}else if(1==this.pricing)this.tableData.forEach(function(a){if(null!=a.price){var o=1*e+1*a.price;o<t.ruleForm.price?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"})):o>999.99?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"})):o<=999.99&&o>=t.ruleForm.price&&(t.channelData[i].price=n.toFixed(2))}});else if(1==this.pricing1){var a=!0;this.activeList.forEach(function(o){if(0==o.type){if(a){var l=1*e+1*o.price;l<t.ruleForm.price?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):l>999.99?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):l<=999.99&&l>=t.ruleForm.price&&(t.channelData[i].price=n.toFixed(2))}}else if(1==o.type&&a){var l=1*e+-1*o.price;l<t.ruleForm.price?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1):l>999.99?(t.channelData[i].price=t.ruleForm.price,t.$message({message:"总和不得高于999.99",type:"warning"}),a=!1):l<=999.99&&l>=t.ruleForm.price&&(t.channelData[i].price=n.toFixed(2))}})}else 1*e<this.ruleForm.price?(this.channelData[i].price=this.ruleForm.price,this.$message({message:"票价不得小于最低票价",type:"warning"})):this.channelData[i].price=n.toFixed(2)},del:function(e){this.$delete(this.disVersionList1,e)},delRuler:function(e){this.activeList.length>1&&this.$delete(this.activeList,e),this.active="",this.active1="",this.activ="",this.active2="",1==this.activeList.length?this.fuhao="≤":this.fuhao="＜"},add:function(){var e=this.disVersionList1.length,i=e+1;this.$set(this.disVersionList1,e,{idx:e,label:"第"+i+"周"})},addRuler:function(){var e=this.activeList.length?this.activeList.length:0,i=!0;0==this.ifCheck[0]&&(null==this.activeList[1*e-1].occupancyMin&&(this.activ=1*e-1,1*e-1==0&&(this.activ="0"),i=!1),null==this.activeList[1*e-1].occupancyMax&&(this.active=1*e-1,1*e-1==0&&(this.active="0"),i=!1)),1!=this.ifCheck[0]&&1!=this.ifCheck[1]||null==this.activeList[1*e-1].time&&(this.active2=1*e-1,1*e-1==0&&(this.active2="0"),i=!1),null==this.activeList[1*e-1].price&&(this.active1=1*e-1,1*e-1==0&&(this.active1="0"),i=!1),i&&this.$set(this.activeList,e,{idx:e,occupancyMax:null,occupancyMin:0!=e?this.activeList[1*e-1].occupancyMax:null,type:0,time:null}),1==this.activeList.length?this.fuhao="≤":this.fuhao="＜"},checklist:function(e){var i=[],t=e;this.disVersionList2.forEach(function(e,n){t.forEach(function(t,n){e.idx==t&&i.push(e.idx)})}),this.ifCheck=i},changeNumer:function(e,i){if(this.activeList[i].occupancyMax&&1*e>1*this.activeList[i].occupancyMax)return this.activeList[i].occupancyMin=null,void this.$message({message:"最小上座率需小于最大上座率",type:"warning"});var t=parseFloat(e);if(t<0)return void(this.activeList[i].occupancyMin=null);this.activeList[i].occupancyMin=t.toFixed(1)},changeNumer1:function(e,i){if(this.activeList[i].occupancyMin&&1*e<=1*this.activeList[i].occupancyMin)return this.activeList[i].occupancyMax=null,this.$message({message:"最大上座率需大于最小上座率",type:"warning"}),void(this.activeList[1*i+1]&&(this.activeList[1*i+1].occupancyMin=null));var t=parseFloat(e);if(t<0)return this.activeList[i].occupancyMax=null,this.$message({message:"不得小于0",type:"warning"}),void(this.activeList[1*i+1]&&(this.activeList[1*i+1].occupancyMin=null));this.activeList[1*i+1]&&(this.activeList[1*i+1].occupancyMin=t.toFixed(1),this.activeList[1*i+1].occupancyMin>=this.activeList[1*i+1].occupancyMax&&(this.activeList[1*i+1].occupancyMax=null)),this.active="",this.activeList[i].occupancyMax=t.toFixed(1)},changeNumer2:function(e,i){var t=this,n=parseFloat(e);if(n<0)return this.activeList[i].price=null,void this.$message({message:"不得小于0",type:"warning"});if(n>999.99)return this.activeList[i].price=null,void this.$message({message:"不得高于999.99",type:"warning"});if(this.ticketData.length>0){var a=!0;this.ticketData.forEach(function(o){if(o.switchStatus)if(1==t.pricing){var l=!0;t.tableData.forEach(function(s){if(l)if(0==t.activeList[i].type){var c=1*e+1*o.price+1*s.price;c<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null),c>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null):t.ruleForm.price<=c&&c<=999.99&&(t.activeList[i].price=n.toFixed(2),t.active1="")}else if(1==t.activeList[i].type){var c=-1*e+1*o.price+1*s.price;c<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null),c>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null):c>=t.ruleForm.price&&c<=999.99&&(t.activeList[i].price=n.toFixed(2),t.active1="")}})}else if(0==t.activeList[i].type){var s=1*e+1*o.price;s<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1,t.activeList[i].price=null),s>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),a=!1,t.activeList[i].price=null):s>=t.ruleForm.price&&s<=999.99&&(a=!1,t.activeList[i].price=n.toFixed(2),t.active1="")}else if(1==t.activeList[i].type){var s=-1*e+1*o.price;s<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1,t.activeList[i].price=null),s>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),a=!1,t.activeList[i].price=null):s<=999.99&&s>=t.ruleForm.price&&(console.log(1),t.activeList[i].price=n.toFixed(2),t.active1="")}else t.activeList[i].price=n.toFixed(2),t.active1=""})}else this.activeList[i].price=n.toFixed(2),this.active1="";if(this.channelData.length>0){var a=!0;this.channelData.forEach(function(o){if(o.switchStatus)if(1==t.pricing){var l=!0;t.tableData.forEach(function(s){if(l)if(0==t.activeList[i].type){var c=1*e+1*o.price+1*s.price;c<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null),c>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null):t.ruleForm.price<=c&&c<=999.99&&(t.activeList[i].price=n.toFixed(2),t.active1="")}else if(1==t.activeList[i].type){var c=-1*e+1*o.price+1*s.price;c<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null),c>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),l=!1,a=!1,t.activeList[i].price=null):c>=t.ruleForm.price&&c<=999.99&&(t.activeList[i].price=n.toFixed(2),t.active1="")}})}else if(0==t.activeList[i].type){var s=1*e+1*o.price;s<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1,t.activeList[i].price=null),s>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),a=!1,t.activeList[i].price=null):s>=t.ruleForm.price&&s<=999.99&&(a=!1,t.activeList[i].price=n.toFixed(2),t.active1="")}else if(1==t.activeList[i].type){var s=-1*e+1*o.price;s<t.ruleForm.price&&(t.$message({message:"总和不得小于最低票价",type:"warning"}),a=!1,t.activeList[i].price=null),s>999.99?(t.$message({message:"总和不得超过999.99",type:"warning"}),a=!1,t.activeList[i].price=null):s<=999.99&&s>=t.ruleForm.price&&(console.log(1),t.activeList[i].price=n.toFixed(2),t.active1="")}else t.activeList[i].price=n.toFixed(2),t.active1=""})}else this.activeList[i].price=n.toFixed(2),this.active1=""},changeTime:function(e,i){var t=parseFloat(e);if(t<0)return void(this.activeList[i].time=null);this.active2="",this.activeList[i].time=t.toFixed(1)},dynamicPrice:function(e){this.pricing1=e,1==e?this.hidde="show":0==e&&(this.hidde="hide",this.activeList=[{idx:0,occupancyMax:null,occupancyMin:null,time:null,price:null,type:0}])},zoningPricing:function(e){1==e?(this.hidden="show",this.pricing=e):0==e&&(this.hidden="hide",this.pricing=e)},getRegionTypeList:function(){var e=this;this.$ctmList.getRegionTypeList().then(function(i){200==i.code&&(e.tableData=i.data,e.tableData.forEach(function(i){e.$set(i,"price",0),e.$set(i,"regionTypeUid",i.uid),e.$delete(i,"uid")}))}).catch(function(){console.log("哪里出错了，检擦一下哥哥")})},priceChang:function(e,i){var t=this,n=parseFloat(e);e>=999.99&&(this.$message({message:"最高不得超过999.99",type:"warning"}),this.tableData[i].price=0),this.ticketData.length>0?this.ticketData.forEach(function(a){a.switchStatus&&(1==t.pricing1?t.activeList.forEach(function(o){null!=o.price&&(0==o.type?1*o.price+1*a.price+1*e>999.99?(t.$message({message:"最高不得超过999.99",type:"warning"}),t.tableData[i].price=0):1*o.price+1*a.price+1*e<t.ruleForm.price?(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2):1==o.type?-1*o.price+1*a.price+1*e<t.ruleForm.price&&(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2))}):1*a.price+1*e>999.99?(t.$message({message:"最高不得超过999.99",type:"warning"}),t.tableData[i].price=0):1*a.price+1*e<t.ruleForm.price?(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2))}):this.tableData[i].price=n.toFixed(2),this.channelData.length>0?this.channelData.forEach(function(a){a.switchStatus&&(1==t.pricing1?t.activeList.forEach(function(o){null!=o.price&&(0==o.type?1*o.price+1*a.price+1*e>999.99?(t.$message({message:"最高不得超过999.99",type:"warning"}),t.tableData[i].price=0):1*o.price+1*a.price+1*e<t.ruleForm.price?(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2):1==o.type?-1*o.price+1*a.price+1*e<t.ruleForm.price&&(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2))}):1*a.price+1*e>999.99?(t.$message({message:"最高不得超过999.99",type:"warning"}),t.tableData[i].price=0):1*a.price+1*e<t.ruleForm.price?(t.$message({message:"总和不得低于最低票价",type:"warning"}),t.tableData[i].price=0):t.tableData[i].price=n.toFixed(2))}):this.tableData[i].price=n.toFixed(2)},dataInit:function(){this.isEditMode=!!this.$route.query.mode&&"edit"==this.$route.query.mode,this.planUid=this.$route.query.uid?this.$route.query.uid:"",this.referer=this.$route.query.referer?decodeURIComponent(this.$route.query.referer):"",this.getmoviePlanDetail()},getPlanList:function(){var e=this;Object(m.d)({planDate:this.year+"-"+this.month+"-"+this.day,cinemaUid:this.movieData.cinemaUid}).then(function(i){if(200!=i.code)return e.error(i.msg);var t=i.data.filter(function(i){return i.hallUid==e.movieData.hallUid&&i.planUid!=e.planUid});t.forEach(function(i){i.showTimeStart=i.startTime.split(":")[0]<6?e.nextPlanDate+" "+i.startTime:e.curPlanDate+" "+i.startTime,i.showTimeEnd=i.endTime.split(":")[0]<6?e.nextPlanDate+" "+i.endTime:e.curPlanDate+" "+i.endTime}),e.hallData=t})},getmoviePlanDetail:function(){var e=this;Object(m.R)({planUid:this.planUid}).then(function(i){if(200!=i.code)return e.error(i.msg);if(200==i.code&&i.data){if(e.pricing=i.data.useRegionPrice,e.pricing1=i.data.useAdjustmentPrice,i.data.priceAdjustmentList.length>0&&(1==i.data.priceAdjustmentList[0].useOccupancyFlag&&0==i.data.priceAdjustmentList[0].useStartTimeFlag?(e.ifCheck=["0"],e.checkList=[0]):1==i.data.priceAdjustmentList[0].useStartTimeFlag&&0==i.data.priceAdjustmentList[0].useOccupancyFlag?(e.ifCheck=["1"],e.checkList=[1]):1==i.data.priceAdjustmentList[0].useOccupancyFlag&&1==i.data.priceAdjustmentList[0].useStartTimeFlag&&(e.ifCheck=["0","1"],e.checkList=[0,1]),e.activeList=i.data.priceAdjustmentList,1==e.activeList.length?e.fuhao="≤":e.fuhao="＜",e.activeList.forEach(function(i){1==i.adjustmentType?i.price>0?e.$set(i,"type",0):i.price<0&&(e.$set(i,"type",1),e.$set(i,"price",-1*i.price)):2==i.adjustmentType&&e.$set(i,"type",2),null!=i.percentage&&e.$set(i,"price",i.percentage),null!=i.price&&(e.$set(i,"price",i.price),i.price=i.price.toFixed(2)),(i.occupancyMin||0==i.occupancyMin)&&(i.occupancyMin=i.occupancyMin.toFixed(1)),i.occupancyMax&&(i.occupancyMax=i.occupancyMax.toFixed(1)),i.time&&(i.time=i.time.toFixed(1))})),i.data.priceRegionList.length>0){e.pricing=1;var t=i.data.priceRegionList;console.log(t),e.tableData.forEach(function(i){t.forEach(function(t){if(i.regionTypeUid==t.regionTypeUid){if(e.$set(t,"color",i.color),e.$set(t,"name",i.name),t.price)var n=t.price.toFixed(2);e.$set(t,"price",n||0)}})}),e.tableData=t}var n=i.data,a=n.dateShowFirst,o=n.dateShowOff,l=n.disVersion,s=n.hallName,r=n.minPrice,p=n.movieLanguage,d=n.movieName,u=n.mustRightSeat,A=n.planTime,h=n.priceProgramName,f=n.publisherRate,v=n.timeLong,g=n.approveStatus,b=n.permitDiscount,C=n.permitSaleBox,x=n.movieUid,_=n.cinemaUid,B=n.hallUid,y=n.joinFlag,w=n.movieCode,k=n.priceProgramUid,D=n.planTimeEnd,F=n.hallTypeCode,M=n.disVersionCode,S=n.saleStatus,L=n.soldSeatCount,T=n.planInfoMovieTimeVoList,z=n.useAdjustmentPrice,P=n.useRegionPrice,$=n.priceAdjustmentList,Y=n.priceRegionList;e.movieData={dateShowFirst:a,dateShowOff:o,disVersion:l,hallName:s,minPrice:r,movieLanguage:p,movieName:d,mustRightSeat:u,planTime:A,priceProgramName:h,publisherRate:f,timeLong:v,approveStatus:g,permitDiscount:b,permitSaleBox:C,movieUid:x,priceProgramUid:k,planTimeEnd:D,cinemaUid:_,hallUid:B,joinFlag:y,movieCode:w,hallTypeCode:F,disVersionCode:M,saleStatus:S,soldSeatCount:L,planInfoMovieTimeVoList:T,useAdjustmentPrice:z,useRegionPrice:P,priceAdjustmentList:$,priceRegionList:Y},e.notAllowChangeTime=0!=L,Object(m.K)({cinemaUid:e.movieData.cinemaUid}).then(function(i){if(200!=i.code)return e.error(i.msg);200==i.code&&i.data&&(i.data.length||(e.hasNoVieCinema=!0))}),e.year=A.includes("T")?A.split("T")[0].split("-")[0]:A.split(" ")[0].split("-")[0],e.month=A.includes("T")?A.split("T")[0].split("-")[1]:A.split(" ")[0].split("-")[1],e.day=A.includes("T")?A.split("T")[0].split("-")[2]:A.split(" ")[0].split("-")[2],e.planHour=A.includes("T")?A.split("T")[1].split(":")[0]:A.split(" ")[1].split(":")[0],e.curPlanDate=e.planHour<6?e.dateAdd(A):e.formatDateTime(new Date(A).getTime(),1),e.nextPlanDate=e.formatDateTime(new Date(e.curPlanDate).getTime()+864e5,1),e.planMinute=A.includes("T")?A.split("T")[1].split(":")[1]:A.split(" ")[1].split(":")[1],e.copyMinute=e.planMinute,e.mustRightSeat=!!u,e.permitDiscount=!!b,e.permitSaleBox=!!C,e.getTimeLine(),e.getPlanList(),e.showPlanDate=e.isEditMode?e.year+"年"+e.month+"月"+e.day+"日"+e.planHour+"时":e.year+"年"+e.month+"月"+e.day+"日"+e.planHour+"时"+e.planMinute+"分",e.mustRightSeat=!!u,e.getSchPlanLang({movieUid:e.movieData.movieUid}),e.ruleForm.price=r,e.ruleForm.rate=f,e.hallTypeCode=F;var Q=[],U=[];i.data.ticketList.forEach(function(e){i.data.baseTicketList.every(function(i){return i.uid!=e.uidBaseClass})?U.push(e):Q.push(e)}),U.forEach(function(e){e.baseFlag=1,e.switchStatus="SALE"==e.saleStatus});var E=JSON.parse(c()(i.data.baseTicketList)).concat(U);E.forEach(function(i,t){Q.some(function(t){if(t.uidBaseClass==i.uid)return i.price=t.price,1*t.price<1*e.ruleForm.price&&(i.price=e.ruleForm.price),i.addFee=t.addFee,i.switchStatus="SALE"==t.saleStatus,!0}),i.addFee||(i.addFee=0),e.isEditMode&&(i.price&&1*i.price!=0||(i.price=e.ruleForm.price),null==i.baseFlag&&(i.baseFlag=1)),i.price||(i.price=0),i.addFee=parseFloat(i.addFee).toFixed(2),i.price=parseFloat(i.price).toFixed(2),i.name||(i.name=i.ticketName),i.switchStatus||(i.switchStatus=0==i.baseFlag),i.saveUid=i.uid?i.uid:i.uidBaseClass}),e.isEditMode||(E=E.filter(function(e){return 0!=e.price})),e.ticketData=E;var N=[],I=[];i.data.channelList.forEach(function(e){i.data.baseChannelList.every(function(i){return i.uid!=e.uidChannel})?I.push(e):N.push(e)});var V=JSON.parse(c()(i.data.baseChannelList)).concat(I.map(function(e){return e.switchStatus="SALE"==e.saleStatus,e}));V.forEach(function(i){N.some(function(t){if(t.uidChannel==i.uid)return i.addFee=t.addFee,i.price=t.price,1*t.price<1*e.ruleForm.price&&(i.price=e.ruleForm.price),i.cinemaFee=t.cinemaFee,i.feeFg=t.feeFg,i.switchStatus="SALE"==t.saleStatus,!0}),e.isEditMode&&(i.price&&1*i.price!=0||(i.price=e.ruleForm.price),null==i.baseFlag&&(i.baseFlag=1)),i.price||(i.price=0),i.addFee||(i.addFee=0),i.cinemaFee||(i.cinemaFee=0),i.feeFg||(i.feeFg=0),i.netSaleAddPrice||(i.netSaleAddPrice=0),i.price=parseFloat(i.price).toFixed(2),i.addFee=parseFloat(i.addFee).toFixed(2),i.netSaleAddPrice=parseFloat(i.netSaleAddPrice).toFixed(2),i.cinemaFee=parseFloat(i.cinemaFee).toFixed(2),i.name||(i.name=i.channelName),i.switchStatus||(i.switchStatus=!1),i.saveUid=i.uidChannel?i.uidChannel:i.uid}),e.isEditMode||(V=V.filter(function(e){return 0!=e.price})),e.channelData=V,e.vieCinemaList=i.data.nearestMovieList.length?i.data.nearestMovieList[0].movieTickets:[],i.data.nearestMovieList&&i.data.nearestMovieList.length||(i.data.nearestMovieList=[{avgPrice:0,channelCode:"maoyan_movie_schedule",channelName:"猫眼",ctmChannelCode:"MTUSER",movieTickets:[]},{avgPrice:0,channelCode:"nuomi_movie_schedule",channelName:"糯米",ctmChannelCode:"BDUSER",movieTickets:[]}]),i.data.nearestMovieList.forEach(function(i){e.channelData.some(function(e){if(e.saveUid==i.ctmChannelCode&&e.switchStatus)return i.myPrice=e.price,!0}),i.myPrice||(i.myPrice=0)}),i.data.nearestMovieList.forEach(function(e){var i=[];i.push(e.myPrice),e.movieTickets.forEach(function(e){i.push(e.price)}),i.sort(function(e,i){return e-i}),i.length>1&&(e.myPrice==i[0]?e.order="low":e.myPrice==i[i.length-1]&&(e.order="top"),e.movieTickets.forEach(function(e){e.price==i[0]?e.order="low":e.price==i[i.length-1]&&(e.order="top")}))}),e.priceContrast=i.data.nearestMovieList,e.priceContrast.lenth}})},getTimeLine:function(){var e=this;Object(m.W)({uidCinema:this.movieData.cinemaUid}).then(function(i){if(200!=i.code)return e.error(i.msg);200==i.code&&i.data&&(e.timeInterval=i.data.timeInterval)})},getSchPlanLang:function(e){var i=this;Object(m.M)(e).then(function(e){if(200!=e.code)return i.error(e.msg);e.data&&200==e.code&&(i.langArr=e.data,i.langValue=i.movieData.movieLanguage)})},tabClick:function(e){var i=this;"2"==e.index&&this.$nextTick(function(){var e=900-document.querySelector(".price-system .price-ref-table").offsetWidth,t=document.querySelector(".price-system .price-ref-table").offsetHeight;i.tipBox={width:e,height:t}})},timeChange:function(e){var i=this;if(!this.timeInterval)return this.planMinute=this.copyMinute,this.error("暂未获取到排片时间间隔,请稍后再试");if(!this.hallData)return this.planMinute=this.copyMinute,this.error("暂未获取到当前影厅排片数据,请稍后再试");if(e<0||e>=60||!/^\+?[0-9][0-9]*$/.test(e))return this.planMinute=this.copyMinute,this.error("必须为0-59之间的整数");var t=new Date(this.year+"-"+this.month+"-"+this.day+" "+this.planHour+":"+e).getTime(),n=t+60*this.movieData.timeLong*1e3;return this.hallData.some(function(e){return t<new Date(e.showTimeEnd).getTime()+60*i.timeInterval*1e3&&n>new Date(e.showTimeEnd).getTime()||n>new Date(e.showTimeStart).getTime()-60*i.timeInterval*1e3&&t<new Date(e.showTimeStart).getTime()})?(this.planMinute=this.copyMinute,this.error("放映时间区间无法容纳该放映计划，请重新设置放映时间!")):this.curPlanDate!=this.formatDateTime(n,1)&&n>new Date(this.formatDateTime(this.nextPlanDate+" 06:00",0)).getTime()?(this.planMinute=this.copyMinute,this.error("放映结束时间不能超过次日早上6点!")):this.checkTimeRight(t).planError?(this.planMinute=this.copyMinute,this.error("放映时间不在上下映时间内!")):this.checkTimeInfoRight(t).planError?(this.planMinute=this.copyMinute,this.error("放映时间不在允许的时间内!")):(this.movieData.planTime=this.formatDateTime(t,0),this.movieData.planTimeEnd=this.formatDateTime(n,0),this.planMinute=e<10?"0"+e:""+e,void(this.copyMinute=this.planMinute))},formatDateTime:function(e,i){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var o=t.getDate();o=o<10?"0"+o:o;var l=t.getHours();l=l<10?"0"+l:l;var s=t.getMinutes();return s=s<10?"0"+s:s,0==i?n+"-"+a+"-"+o+" "+l+":"+s:1==i?n+"-"+a+"-"+o:2==i?l+":"+s:n+"-"+a+"-"+o+" "+l+":"+s},showPricePlanDialog:function(){this.pricePlanDialog=!0,this.importPricePlan()},importPricePlan:function(e){var i=this;this.curPage=e||1,Object(m.V)({cinemaUid:this.movieData.cinemaUid,movieUid:this.movieData.movieUid,movieVersionCode:this.movieData.disVersionCode,planDateTime:this.movieData.planTime,priceProgramName:this.planName,pageSize:this.pageSize,currentPage:this.curPage,hallTypeCode:this.hallTypeCode}).then(function(e){if(200!=e.code)return i.error(e.msg);200==e.code&&e.data&&(i.total=e.data.total,e.data.list.forEach(function(e){e.hallType||(e.hallType="适用全部影厅")}),i.importPlanData=e.data.list)})},selectedRow:function(e){this.currentRow=e},handleCurrentChange:function(e){this.importPricePlan(e)},movieTypeAllChange:function(e){this.movieTypeCheckList=e?this.movieType.map(function(e,i){return i}):[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var i=e.length;this.movieTypeCheckAll=i===this.movieType.length,this.isIndeterminate=i>0&&i<this.movieType.length},tableSelRule:function(e,i){return!!e.price},toFixed:function(){var e=this.ruleForm.price;Number(e)&&(this.ruleForm.price=Number(e).toFixed(2))},tableFixed:function(e){var i=this.ticketData[e.$index].price,t=this.ticketData[e.$index].addFee;this.ticketData[e.$index].price=Number(i).toFixed(2),this.ticketData[e.$index].addFee=Number(t).toFixed(2)},cichannelToFixed:function(e){var i=this.channelData[e.$index].price,t=this.channelData[e.$index].addFee,n=this.channelData[e.$index].netSaleAddPrice;this.channelData[e.$index].price=Number(i).toFixed(2),this.channelData[e.$index].addFee=Number(t).toFixed(2),this.channelData[e.$index].netSaleAddPrice=Number(n).toFixed(2)},closeDialogCb:function(){this.planName="",this.curPage=1,this.importPlanData=[]},selectSinglePlan:function(){var e=this;if(!this.currentRow)return this.pricePlanDialog=!1;this.selectPlanData.data=this.currentRow,Object(m.Z)({uid:this.selectPlanData.data.uid}).then(function(i){if(200!=i.code)return e.error(i.msg);if(200==i.code&&i.data&&(e.selectPlanData.isShow||(e.selectPlanData.isShow=!0),e.movieData.priceProgramName=i.data.ciPriceProgram.name,e.selectPlanData.programName=i.data.ciPriceProgram.name,e.selectPlanData.programUid=i.data.ciPriceProgram.uid,e.ticketData.forEach(function(t){i.data.ttVoList&&i.data.ttVoList.length&&i.data.ttVoList.forEach(function(i){console.log(i.feeFlag,i.price),t.saveUid==i.ttUid&&i.movieVersionName==e.movieData.disVersion&&(t.price=i.feeFlag?i.price+Number(e.ruleForm.price):i.price,t.switchStatus=!0)}),t.price||(t.price=0),t.addFee||(t.addFee=0),t.price=parseFloat(t.price).toFixed(2),t.addFee=parseFloat(t.addFee).toFixed(2)}),e.channelData.forEach(function(e){i.data.ciPriceSaleChannelVoList&&i.data.ciPriceSaleChannelVoList.length&&(e.switchStatus=i.data.ciPriceSaleChannelVoList.some(function(i){return i.uid==e.saveUid})),e.price=0}),e.channelData.forEach(function(t){i.data.priceNetSale&&i.data.priceNetSale.length&&i.data.priceNetSale.forEach(function(i){i.movieVersionName==e.movieData.disVersion&&t.switchStatus&&(console.log(i.feeFlag,i.price),t.price=i.feeFlag?i.price+Number(e.ruleForm.price):i.price)}),t.price||(t.price=0),t.price=parseFloat(t.price).toFixed(2)}),e.permitDiscount=!!i.data.ciPriceProgram.permitDiscount,e.permitSaleBox=!!i.data.ciPriceProgram.permitSaleBox,e.pricePlanDialog=!1,e.pricing=i.data.useRegionPrice,e.pricing1=i.data.useAdjustmentPrice,1==e.activeList.length?e.fuhao="≤":e.fuhao="＜",i.data.priceAdjustmentList.length>0&&(1==i.data.priceAdjustmentList[0].useOccupancyFlag&&0==i.data.priceAdjustmentList[0].useStartTimeFlag?(e.ifCheck=["0"],e.checkList=[0]):1==i.data.priceAdjustmentList[0].useStartTimeFlag&&0==i.data.priceAdjustmentList[0].useOccupancyFlag?(e.ifCheck=["1"],e.checkList=[1]):1==i.data.priceAdjustmentList[0].useOccupancyFlag&&1==i.data.priceAdjustmentList[0].useStartTimeFlag&&(e.ifCheck=["0","1"],e.checkList=[0,1]),e.activeList=i.data.priceAdjustmentList,e.activeList.forEach(function(i){i.uid&&e.$delete(i,"uid"),1==i.adjustmentType?i.price>0?e.$set(i,"type",0):i.price<0&&(e.$set(i,"type",1),e.$set(i,"price",-1*i.price)):2==i.adjustmentType&&e.$set(i,"type",2),null!=i.percentage&&e.$set(i,"price",i.percentage),null!=i.price&&(e.$set(i,"price",i.price),i.price=i.price.toFixed(2)),i.time&&(i.time=i.time.toFixed(1)),(i.occupancyMin||0==i.occupancyMin)&&(i.occupancyMin=i.occupancyMin.toFixed(1)),i.occupancyMax&&(i.occupancyMax=i.occupancyMax.toFixed(1))})),i.data.priceRegionList.length>0)){e.pricing=1;var t=i.data.priceRegionList;e.tableData.forEach(function(i){e.$delete(i,"uid"),t.forEach(function(t){if(i.regionTypeUid==t.regionTypeUid){if(t.price)var n=t.price.toFixed(2);e.$set(i,"price",n||null)}})})}})},toPricePlanDetail:function(e){this.$router.push({path:"/ticket/ticketPrice_Plan/Scan",query:{id:e}})},cancelHandle:function(){var e=this;this.$confirm("检测到未保存的内容，是否在离开页面前保存修改？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"保存",cancelButtonText:"放弃修改"}).then(function(){e.savePlan()}).catch(function(i){"cancel"==i&&(e.leaveFlag=!1,e.$store.commit("tagNav/removeTagNav",{name:e.$route.name,path:e.$route.path,title:e.$route.meta.title,query:e.$route.query}),e.referer?e.$router.push({path:e.referer}):e.$router.push({path:"layout",query:{date:e.curPlanDate}}))})},savePlan:function(){var e=this,i=new l.a(function(i,t){e.ruleForm.price<=0||e.ruleForm.price>999.99||!/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(e.ruleForm.price)?t("最低票价必须大于0且整数位小于1000的数字，且小数位不能超过2位!"):i()}),t=new l.a(function(i,t){e.ruleForm.rate<0||e.ruleForm.rate>100||!/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/.test(e.ruleForm.rate)?t("分账比例必须输入范围为0-100,允许2位小数!"):i()}),n=new l.a(function(i,t){var n=e.ticketData.filter(function(e){return e.switchStatus}).find(function(i){return Number(i.price)<Number(e.ruleForm.price)}),a=e.ticketData.filter(function(e){return e.switchStatus}).find(function(e){return e.price>999.99});n||a?t(n?"票类"+n.name+"的票价低于最低票价， 请修改重试":"票类"+a.name+"的票价不在1-1000以内， 请修改重试"):i()}),a=new l.a(function(i,t){var n=e.channelData.filter(function(e){return e.switchStatus}).find(function(i){return Number(i.price)<Number(e.ruleForm.price)}),a=e.channelData.filter(function(e){return e.switchStatus}).find(function(e){return Number(e.price)>999.99});n||a?t(n?"渠道"+n.name+"的票价低于最低票价， 请修改重试":"渠道"+a.name+"的票价不在1-1000以内， 请修改重试"):i()});l.a.all([i,t,n,a]).then(function(){e.submitPlan()}).catch(function(i){e.error(i)})},submitPlan:function(){var e=this;this.pd=!0,this.ticketData.forEach(function(e){e.switchStatus||(e.price=0)}),this.channelData.forEach(function(e){e.switchStatus||(e.price=0)});var i=this.movieData,t=i.cinemaUid,n=i.hallUid,o=i.joinFlag,l=i.movieCode,s=i.planTimeEnd,c=this.curPlanDate,r=this.movieData.planTime,p=this.ruleForm.price,d=this.ruleForm.rate,u=this.permitSaleBox?1:0,A=this.mustRightSeat?1:0,h=this.permitDiscount?1:0,f=this.langValue,v=this.planUid,g=this.selectPlanData.isShow?this.selectPlanData.programName:this.movieData.priceProgramName,b=this.selectPlanData.isShow?this.selectPlanData.programUid:this.movieData.priceProgramUid,C=this.ticketData.filter(function(e){return e.price>0}).map(function(e){return{addFee:e.addFee,baseFlag:e.baseFlag,price:e.price,ticketName:e.name,uidBaseClass:e.saveUid,saleStatus:e.switchStatus?"SALE":"NOT_SALE"}}),x=this.channelData.filter(function(e){return e.price>0}).map(function(e){return{addFee:e.addFee,channelName:e.name,cinemaFee:e.cinemaFee,feeFg:0,price:e.price,uidChannel:e.saveUid,saleStatus:e.switchStatus?"SALE":"NOT_SALE"}});if(0==this.ifCheck[0]&&1==this.ifCheck[1])var _=1,B=1;else if(1==this.ifCheck[0])var B=1,_=0;else if(0==this.ifCheck[0])var _=1,B=0;else var _=0,B=0;this.activeList.forEach(function(i,t){e.$set(i,"useOccupancyFlag",_),e.$set(i,"useStartTimeFlag",B),0==i.type?(e.$set(i,"adjustmentType",1),e.$set(i,"price",1*i.price)):1==i.type?(e.$set(i,"adjustmentType",1),e.$set(i,"price",-1*i.price)):2==i.type&&(e.$set(i,"adjustmentType",2),e.$set(i,"percentage",1*i.price),e.$delete(i,"price"))});var y=this.activeList,w=this.tableData,k=this.pricing,D=this.pricing1;0==D&&(y=[]),0==k&&(w=[]);var F={priceAdjustmentList:y,priceRegionList:w,useRegionPrice:k,useAdjustmentPrice:D,cinemaUid:t,hallUid:n,joinFlag:o,movieCode:l,movieLanguage:f,mustRightSeat:A,permitDiscount:h,permitSaleBox:u,planUid:v,priceProgramName:g,priceProgramUid:b,planTimeEnd:s,planDate:c,planTimeStart:r,minPrice:p,rate:d,schPlanBaseTicketVoList:C,schPlanFavTicketVoList:x},M=(this.activeList.length&&this.activeList.length,!0);console.log(this.activeList),this.activeList.forEach(function(i,t){0==e.ifCheck[0]&&(null==i.occupancyMin&&(M=!1,e.activ=t,0==t&&(e.activ="0")),null==i.occupancyMax&&(M=!1,e.active=t,0==t&&(e.active="0"))),1!=e.ifCheck[0]&&1!=e.ifCheck[1]||null==i.time&&(M=!1,e.active2=t,0==t&&(e.active2="0")),null==i.price&&(M=!1,e.active1=t,0==t&&(e.active1="0"))}),M?Object(m._20)({list:"STOP"==this.movieData.saleStatus?[a()(F,{isNeedApprove:1})]:[a()(F,{isNeedApprove:0})]}).then(function(i){if(200!=i.code)return e.error(i.msg);if(200==i.code&&i.data){if(i.data.length)return e.warning("部分排片保存不成功, 请单独选择价格方案");e.success("保存成功, 即将跳转至排片详情"),e.leaveFlag=!1,setTimeout(function(){e.$store.commit("tagNav/removeTagNav",{name:e.$route.name,path:e.$route.path,title:e.$route.meta.title,query:e.$route.query}),e.referer?e.$router.push({path:e.referer}):e.$router.push({path:"layout",query:{date:e.curPlanDate}}),e.pd=!1},1e3)}}):this.pd=!1},closePage:function(){this.$store.commit("tagNav/removeTagNav",{name:this.$route.name,path:this.$route.path,title:this.$route.meta.title,query:this.$route.query}),this.referer?this.$router.push({path:this.referer}):this.$router.push({path:"layout",query:{date:this.curPlanDate}})},setVieCinema:function(){this.$router.push({path:"/analysis/group/cinema/manage"})},checkTimeRight:function(e){return{planError:e>=new Date(this.movieData.dateShowOff).getTime()||e<new Date(this.movieData.dateShowFirst).getTime(),errorType:e>=new Date(this.movieData.dateShowOff).getTime()?"超过影片下线日期，不能编排放映计划":e<new Date(this.movieData.dateShowFirst).getTime()?"未到影片首映日期，不能编排放映计划":""}},checkTimeInfoRight:function(e){var i=this.formatDateTime(e,1);return{planError:!!this.movieData.planInfoMovieTimeVoList&&(!!this.movieData.planInfoMovieTimeVoList.length&&!this.movieData.planInfoMovieTimeVoList.some(function(t){return new Date(i).getTime()>=new Date(""+t.startDate).getTime()&&new Date(i).getTime()<=new Date(t.endDate).getTime()&&e>=new Date(i+" "+t.startTime).getTime()&&e<=new Date(i+" "+t.endTime).getTime()})),errorType:"不在影片允许的排片时间内"}}},components:{fixStepTool:r.a},computed:{}}},547:function(e,i,t){var n=t(548);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(157)("7da79e7f",n,!0,{})},548:function(e,i,t){i=e.exports=t(156)(!0),i.push([e.i,"\n.el-message.hyy-toast {\n  min-width: 192px;\n  min-height: 48px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  background: rgba(51, 51, 51, 0.8);\n  padding: 12px 48px;\n  border-radius: 4px;\n}\n.el-message.hyy-toast > i {\n    width: 16px;\n    height: 16px;\n    color: #fff;\n    margin-right: 10px;\n}\n.el-message.hyy-toast > p {\n    font-size: 16px;\n    line-height: 22px;\n}\n.movie-plan_detail {\n  padding-bottom: 30px;\n}\n.movie-plan_detail .redBorder input {\n    border: 1px solid red;\n}\n.movie-plan_detail .basic-info {\n    margin-left: 30px;\n}\n.movie-plan_detail .basic-info .el-form-item {\n      margin-bottom: 14px;\n}\n.movie-plan_detail .basic-info .el-form-item__label {\n      font-size: 12px;\n      text-align: left;\n}\n.movie-plan_detail .basic-info .el-select,\n    .movie-plan_detail .basic-info .el-textarea,\n    .movie-plan_detail .basic-info .el-input__inner {\n      width: 360px;\n}\n.movie-plan_detail .basic-info .cinema-stock-edit-text {\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info .separate-accounts-date,\n    .movie-plan_detail .basic-info .separate-accounts-price,\n    .movie-plan_detail .basic-info .separate-accounts-action {\n      display: inline-block;\n}\n.movie-plan_detail .basic-info .canal-pirce-input .el-input {\n      width: 48px;\n      height: 20px;\n}\n.movie-plan_detail .basic-info .canal-pirce-input .el-input .el-input__inner {\n        width: 100%;\n        height: 100%;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        padding: 0 0 0 10px;\n}\n.movie-plan_detail .basic-info .el-form-item__content {\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info.movie-info .el-form {\n      width: 1000px;\n      overflow: hidden;\n}\n.movie-plan_detail .basic-info.movie-info .movie-time .plan-minute {\n      width: 40px;\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info.movie-info .movie-time .plan-minute .el-input__inner {\n        width: 40px;\n        padding: 0 5px;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select {\n      position: relative;\n      top: -2px;\n      width: 200px;\n      height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select .el-input__inner {\n        width: 200px;\n        height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select .el-input {\n        width: 200px;\n        height: 30px;\n        line-height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .el-form-item {\n      float: left;\n      width: 40%;\n      height: 34px;\n}\n.movie-plan_detail .basic-info.movie-info .el-date-editor {\n      width: 120px;\n}\n.movie-plan_detail .basic-info.movie-info .el-date-editor .el-input__inner {\n        width: 120px;\n}\n.movie-plan_detail .basic-info.price-system {\n      position: relative;\n}\n.movie-plan_detail .basic-info.price-system .export-priceplan-btn {\n        position: absolute;\n        left: 800px;\n        top: 0;\n        z-index: 999;\n}\n.movie-plan_detail .basic-info.price-system .el-tabs {\n        width: 900px;\n}\n.movie-plan_detail .basic-info.price-system .el-button {\n        padding: 0;\n        width: 92px;\n        height: 32px;\n        line-height: 32px;\n}\n.movie-plan_detail .basic-info.price-system .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__inner {\n        width: 12px;\n        height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input {\n        width: 12px;\n        height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input.is-checked {\n          width: 12px;\n          height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input.is-checked .el-checkbox__inner::after {\n            top: 0;\n            left: 3px;\n            -webkit-transform: rotate(45deg) scaleY(0.8);\n                    transform: rotate(45deg) scaleY(0.8);\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__label {\n        display: inline-block;\n        height: 20px;\n        line-height: 20px;\n        font-size: 12px;\n        color: #666;\n        padding-left: 4px;\n        vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox {\n        margin-right: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox + .el-checkbox {\n        margin-left: 0;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-title {\n        font-size: 12px;\n        color: #333;\n        margin-bottom: 16px;\n        height: 16px;\n        line-height: 16px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-title span {\n          font-size: 12px;\n          color: #666;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area {\n        position: relative;\n        padding-top: 25px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip {\n          position: absolute;\n          right: 0px;\n          top: 0;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div {\n            display: inline-block;\n            height: 16px;\n            line-height: 16px;\n            margin-right: 12px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div .color-block {\n              display: inline-block;\n              width: 10px;\n              height: 10px;\n              margin-right: 8px;\n              background-color: #FF8900;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div:nth-child(2) .color-block {\n              background-color: #3B74FF;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .cell .top {\n          color: #FF8900;\n          font-weight: 800;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .cell .low {\n          color: #3B74FF;\n          font-weight: 800;\n}\n.movie-plan_detail .basic-info.price-system .el-table {\n        width: 900px !important;\n        margin-bottom: 4px;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-col .caret-wrapper {\n          top: 15px;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-th {\n          max-width: 100px;\n          display: -webkit-inline-box;\n          display: -ms-inline-flexbox;\n          display: inline-flex;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: column;\n                  flex-direction: column;\n          -webkit-box-align: left;\n              -ms-flex-align: left;\n                  align-items: left;\n          padding: 0;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-th .cinema-info {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            color: #333;\n            font-size: 12px;\n            margin-bottom: 3px;\n            height: 16px;\n            line-height: 16px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select {\n          margin-right: 10px;\n          width: 150px;\n          height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input__suffix {\n            right: 0;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-select__caret {\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input__inner {\n            width: 150px;\n            height: 20px;\n            padding-right: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input {\n            width: 150px;\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .rmb-hover {\n            position: absolute;\n            left: 10px;\n            top: 2px;\n            font-size: 12px;\n            font-style: normal;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .el-input__inner {\n            width: 150px;\n            height: 20px;\n            padding-left: 20px;\n            padding-right: 0px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .el-input {\n            width: 80px;\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .table-rule {\n        color: #3f3f3f;\n        font-size: 12px;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .prcie-promise {\n        font-size: 12px;\n        margin-bottom: 8px;\n        -webkit-columns: #666;\n           -moz-columns: #666;\n                columns: #666;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .prcie-promise span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu {\n        width: 432px;\n        position: relative;\n        margin-top: 10px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          color: #666;\n          font-size: 12px;\n          height: 20px;\n          line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input span {\n            display: inline-block;\n            font-size: 12px;\n            width: 72px;\n            height: 20px;\n            line-height: 20px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input em {\n            display: inline-block;\n            height: 20px;\n            line-height: 20px;\n            margin-right: 6px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input .el-input {\n            width: 48px;\n            height: 20px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input .el-input .el-input__inner {\n              font-size: 12px;\n              line-height: 20px;\n              height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox-group {\n        display: inline-block;\n}\n.movie-plan_detail .basic-info.price-system .check-all-type {\n        margin-right: 12px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .cell span {\n        display: inline-block;\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .cell .input-con {\n        width: 120px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .el-select .el-input {\n        width: 150px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .el-select .el-input .el-input__inner {\n          width: 150px;\n          padding-right: 20px;\n          font-size: 12px;\n          color: #666;\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema {\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        border: 1px solid #E5E5E5;\n        background-color: #fff;\n        position: relative;\n        float: left;\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema .center-tip {\n          width: 300px;\n          text-align: center;\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          -webkit-transform: translate(-50%, -50%);\n                  transform: translate(-50%, -50%);\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema .center-tip .p1 {\n            font-size: 14px;\n            color: #666666;\n            margin-bottom: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .button-new-tag {\n      width: 105px;\n      height: 32px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding: 0;\n}\n.movie-plan_detail .basic-info.zone-add-price .button-new-tag span {\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con {\n      width: 360px;\n      height: 36px;\n      background-color: #f5f5f5;\n      padding: 0 12px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      border-radius: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag {\n        height: 20px;\n        line-height: 20px;\n        background-color: #fff;\n        color: #666;\n        border-color: #bcbcbc;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag .el-tag__close {\n          color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag .el-tag__close:hover {\n            background-color: #fff;\n            color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .item-tip {\n      color: #666;\n      font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .el-radio-group {\n      margin-bottom: 14px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con {\n      margin-bottom: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-radio__original {\n        color: #666;\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-radio__label {\n        font-size: 12px;\n        color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-button {\n        width: 90px;\n        height: 20px;\n        padding: 0;\n        margin-left: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .el-table {\n      width: 615px !important;\n}\n.movie-plan_detail .basic-info.float-price .dib-l,\n    .movie-plan_detail .basic-info.float-price .dib-r {\n      display: inline-block;\n      vertical-align: middle;\n}\n.movie-plan_detail .basic-info.float-price .dib-l .el-input, .movie-plan_detail .basic-info.float-price .dib-l .el-input__inner,\n      .movie-plan_detail .basic-info.float-price .dib-r .el-input,\n      .movie-plan_detail .basic-info.float-price .dib-r .el-input__inner {\n        width: 64px;\n        height: 32px;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule {\n      color: #3b74ff;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule span {\n        cursor: pointer;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule .iconfont {\n        margin-right: 5px;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form {\n      width: 1000px;\n      overflow: visible;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form-item {\n      float: left;\n      width: 40%;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form-item.is-error {\n        height: 58px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price {\n      color: #666;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price span {\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price .el-input, .movie-plan_detail .basic-info.checkout-account .separate-accounts-price .el-input__inner {\n        width: 120px;\n        height: 24px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date {\n      margin-left: -12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date span {\n        font-size: 12px;\n        color: #666666;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date .el-date-editor--daterange.el-input__inner {\n        vertical-align: middle;\n        width: 196px;\n        height: 32px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date .el-date-editor--daterange.el-input__inner .el-input__inner {\n          height: 32px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action {\n      margin-left: 6px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button {\n        width: 40px;\n        height: 32px;\n        border: 1px solid #3b74ff;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        color: #3b74ff;\n        vertical-align: middle;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button--mini {\n        padding: 10px 5px 8px;\n}\n.movie-plan_detail .bottom-handler-tool {\n    height: 64px;\n    position: fixed;\n    z-index: 999;\n    bottom: 0;\n    right: 0;\n    background-color: #f5f5f5;\n}\n.movie-plan_detail .bottom-handler-tool .btn-area {\n      width: 500px;\n      margin: 0 auto;\n      height: 64px;\n      text-align: center;\n      padding-top: 16px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .search-wrap {\n    display: inline-block;\n    margin-right: 10px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .search-wrap span {\n      color: #666;\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-input {\n    width: 120px;\n    height: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-input .el-input__inner {\n      width: 100%;\n      height: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding: 0 0 0 10px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select {\n    margin-right: 10px;\n    width: 120px;\n    height: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__suffix {\n      right: 0;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-select__caret {\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__inner {\n      width: 120px;\n      height: 20px;\n      padding-right: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input {\n      width: 120px;\n      height: 20px;\n      line-height: 20px;\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__icon {\n      line-height: 20px;\n}\n.movie-plan_detail .show {\n    display: block;\n}\n.movie-plan_detail .show .el-input__inner {\n      width: 80px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding-right: 0;\n}\n.movie-plan_detail .show .el-select {\n      width: 120px;\n}\n.movie-plan_detail .show .el-select .el-input__inner {\n        width: 120px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/ctm/src/views/moviePlan/planEdit/detail.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,+BAA+B;UACvB,uBAAuB;EAC/B,YAAY;EACZ,kCAAkC;EAClC,mBAAmB;EACnB,mBAAmB;CACpB;AACD;IACI,YAAY;IACZ,aAAa;IACb,YAAY;IACZ,mBAAmB;CACtB;AACD;IACI,gBAAgB;IAChB,kBAAkB;CACrB;AACD;EACE,qBAAqB;CACtB;AACD;IACI,sBAAsB;CACzB;AACD;IACI,kBAAkB;CACrB;AACD;MACM,oBAAoB;CACzB;AACD;MACM,gBAAgB;MAChB,iBAAiB;CACtB;AACD;;;MAGM,aAAa;CAClB;AACD;MACM,gBAAgB;MAChB,YAAY;CACjB;AACD;;;MAGM,sBAAsB;CAC3B;AACD;MACM,YAAY;MACZ,aAAa;CAClB;AACD;QACQ,YAAY;QACZ,aAAa;QACb,+BAA+B;gBACvB,uBAAuB;QAC/B,oBAAoB;CAC3B;AACD;MACM,gBAAgB;MAChB,YAAY;CACjB;AACD;MACM,cAAc;MACd,iBAAiB;CACtB;AACD;MACM,YAAY;MACZ,gBAAgB;MAChB,YAAY;CACjB;AACD;QACQ,YAAY;QACZ,eAAe;QACf,aAAa;QACb,kBAAkB;CACzB;AACD;MACM,mBAAmB;MACnB,UAAU;MACV,aAAa;MACb,aAAa;CAClB;AACD;QACQ,aAAa;QACb,aAAa;CACpB;AACD;QACQ,aAAa;QACb,aAAa;QACb,kBAAkB;CACzB;AACD;MACM,YAAY;MACZ,WAAW;MACX,aAAa;CAClB;AACD;MACM,aAAa;CAClB;AACD;QACQ,aAAa;CACpB;AACD;MACM,mBAAmB;CACxB;AACD;QACQ,mBAAmB;QACnB,YAAY;QACZ,OAAO;QACP,aAAa;CACpB;AACD;QACQ,aAAa;CACpB;AACD;QACQ,WAAW;QACX,YAAY;QACZ,aAAa;QACb,kBAAkB;CACzB;AACD;UACU,gBAAgB;CACzB;AACD;QACQ,YAAY;QACZ,aAAa;CACpB;AACD;QACQ,YAAY;QACZ,aAAa;CACpB;AACD;UACU,YAAY;UACZ,aAAa;CACtB;AACD;YACY,OAAO;YACP,UAAU;YACV,6CAA6C;oBACrC,qCAAqC;CACxD;AACD;QACQ,sBAAsB;QACtB,aAAa;QACb,kBAAkB;QAClB,gBAAgB;QAChB,YAAY;QACZ,kBAAkB;QAClB,uBAAuB;CAC9B;AACD;QACQ,mBAAmB;CAC1B;AACD;QACQ,eAAe;CACtB;AACD;QACQ,gBAAgB;QAChB,YAAY;QACZ,oBAAoB;QACpB,aAAa;QACb,kBAAkB;CACzB;AACD;UACU,gBAAgB;UAChB,YAAY;CACrB;AACD;QACQ,mBAAmB;QACnB,kBAAkB;CACzB;AACD;UACU,mBAAmB;UACnB,WAAW;UACX,OAAO;CAChB;AACD;YACY,sBAAsB;YACtB,aAAa;YACb,kBAAkB;YAClB,mBAAmB;YACnB,gBAAgB;CAC3B;AACD;cACc,sBAAsB;cACtB,YAAY;cACZ,aAAa;cACb,kBAAkB;cAClB,0BAA0B;CACvC;AACD;cACc,0BAA0B;CACvC;AACD;UACU,eAAe;UACf,iBAAiB;CAC1B;AACD;UACU,eAAe;UACf,iBAAiB;CAC1B;AACD;QACQ,wBAAwB;QACxB,mBAAmB;CAC1B;AACD;UACU,UAAU;CACnB;AACD;UACU,iBAAiB;UACjB,4BAA4B;UAC5B,4BAA4B;UAC5B,qBAAqB;UACrB,6BAA6B;UAC7B,8BAA8B;cAC1B,2BAA2B;kBACvB,uBAAuB;UAC/B,wBAAwB;cACpB,qBAAqB;kBACjB,kBAAkB;UAC1B,WAAW;CACpB;AACD;YACY,iBAAiB;YACjB,wBAAwB;YACxB,oBAAoB;YACpB,YAAY;YACZ,gBAAgB;YAChB,mBAAmB;YACnB,aAAa;YACb,kBAAkB;CAC7B;AACD;UACU,mBAAmB;UACnB,aAAa;UACb,aAAa;CACtB;AACD;YACY,SAAS;CACpB;AACD;YACY,gBAAgB;CAC3B;AACD;YACY,aAAa;YACb,aAAa;YACb,oBAAoB;CAC/B;AACD;YACY,aAAa;YACb,aAAa;YACb,kBAAkB;YAClB,gBAAgB;CAC3B;AACD;UACU,mBAAmB;UACnB,sBAAsB;UACtB,gBAAgB;CACzB;AACD;YACY,mBAAmB;YACnB,WAAW;YACX,SAAS;YACT,gBAAgB;YAChB,mBAAmB;CAC9B;AACD;YACY,aAAa;YACb,aAAa;YACb,mBAAmB;YACnB,mBAAmB;CAC9B;AACD;YACY,YAAY;YACZ,aAAa;YACb,kBAAkB;YAClB,gBAAgB;CAC3B;AACD;QACQ,eAAe;QACf,gBAAgB;QAChB,aAAa;QACb,kBAAkB;CACzB;AACD;QACQ,gBAAgB;QAChB,mBAAmB;QACnB,sBAAsB;WACnB,mBAAmB;gBACd,cAAc;QACtB,aAAa;QACb,kBAAkB;CACzB;AACD;UACU,gBAAgB;CACzB;AACD;QACQ,aAAa;QACb,mBAAmB;QACnB,iBAAiB;CACxB;AACD;UACU,mBAAmB;UACnB,SAAS;UACT,UAAU;UACV,YAAY;UACZ,gBAAgB;UAChB,aAAa;UACb,kBAAkB;CAC3B;AACD;YACY,sBAAsB;YACtB,gBAAgB;YAChB,YAAY;YACZ,aAAa;YACb,kBAAkB;YAClB,uBAAuB;CAClC;AACD;YACY,sBAAsB;YACtB,aAAa;YACb,kBAAkB;YAClB,kBAAkB;YAClB,uBAAuB;CAClC;AACD;YACY,YAAY;YACZ,aAAa;YACb,uBAAuB;CAClC;AACD;cACc,gBAAgB;cAChB,kBAAkB;cAClB,aAAa;CAC1B;AACD;QACQ,sBAAsB;CAC7B;AACD;QACQ,mBAAmB;CAC1B;AACD;QACQ,sBAAsB;QACtB,gBAAgB;CACvB;AACD;QACQ,aAAa;CACpB;AACD;QACQ,aAAa;CACpB;AACD;UACU,aAAa;UACb,oBAAoB;UACpB,gBAAgB;UAChB,YAAY;CACrB;AACD;QACQ,+BAA+B;gBACvB,uBAAuB;QAC/B,0BAA0B;QAC1B,uBAAuB;QACvB,mBAAmB;QACnB,YAAY;CACnB;AACD;UACU,aAAa;UACb,mBAAmB;UACnB,mBAAmB;UACnB,SAAS;UACT,UAAU;UACV,yCAAyC;kBACjC,iCAAiC;CAClD;AACD;YACY,gBAAgB;YAChB,eAAe;YACf,mBAAmB;CAC9B;AACD;MACM,aAAa;MACb,aAAa;MACb,+BAA+B;cACvB,uBAAuB;MAC/B,WAAW;CAChB;AACD;QACQ,gBAAgB;CACvB;AACD;MACM,aAAa;MACb,aAAa;MACb,0BAA0B;MAC1B,gBAAgB;MAChB,+BAA+B;cACvB,uBAAuB;MAC/B,mBAAmB;CACxB;AACD;QACQ,aAAa;QACb,kBAAkB;QAClB,uBAAuB;QACvB,YAAY;QACZ,sBAAsB;CAC7B;AACD;UACU,YAAY;CACrB;AACD;YACY,uBAAuB;YACvB,YAAY;CACvB;AACD;MACM,YAAY;MACZ,gBAAgB;CACrB;AACD;MACM,oBAAoB;CACzB;AACD;MACM,mBAAmB;CACxB;AACD;QACQ,YAAY;QACZ,gBAAgB;CACvB;AACD;QACQ,gBAAgB;QAChB,YAAY;CACnB;AACD;QACQ,YAAY;QACZ,aAAa;QACb,WAAW;QACX,iBAAiB;CACxB;AACD;UACU,gBAAgB;CACzB;AACD;MACM,wBAAwB;CAC7B;AACD;;MAEM,sBAAsB;MACtB,uBAAuB;CAC5B;AACD;;;QAGQ,YAAY;QACZ,aAAa;CACpB;AACD;MACM,eAAe;CACpB;AACD;QACQ,gBAAgB;CACvB;AACD;QACQ,kBAAkB;CACzB;AACD;MACM,cAAc;MACd,kBAAkB;CACvB;AACD;MACM,YAAY;MACZ,WAAW;CAChB;AACD;QACQ,aAAa;CACpB;AACD;MACM,YAAY;CACjB;AACD;QACQ,gBAAgB;CACvB;AACD;QACQ,aAAa;QACb,aAAa;CACpB;AACD;MACM,mBAAmB;CACxB;AACD;QACQ,gBAAgB;QAChB,eAAe;CACtB;AACD;QACQ,uBAAuB;QACvB,aAAa;QACb,aAAa;CACpB;AACD;UACU,aAAa;CACtB;AACD;MACM,iBAAiB;CACtB;AACD;QACQ,YAAY;QACZ,aAAa;QACb,0BAA0B;QAC1B,+BAA+B;gBACvB,uBAAuB;QAC/B,eAAe;QACf,uBAAuB;CAC9B;AACD;UACU,gBAAgB;CACzB;AACD;QACQ,sBAAsB;CAC7B;AACD;IACI,aAAa;IACb,gBAAgB;IAChB,aAAa;IACb,UAAU;IACV,SAAS;IACT,0BAA0B;CAC7B;AACD;MACM,aAAa;MACb,eAAe;MACf,aAAa;MACb,mBAAmB;MACnB,kBAAkB;MAClB,+BAA+B;cACvB,uBAAuB;CACpC;AACD;IACI,sBAAsB;IACtB,mBAAmB;CACtB;AACD;MACM,YAAY;MACZ,gBAAgB;CACrB;AACD;IACI,aAAa;IACb,aAAa;CAChB;AACD;MACM,YAAY;MACZ,aAAa;MACb,+BAA+B;cACvB,uBAAuB;MAC/B,oBAAoB;CACzB;AACD;IACI,mBAAmB;IACnB,aAAa;IACb,aAAa;CAChB;AACD;MACM,SAAS;CACd;AACD;MACM,gBAAgB;CACrB;AACD;MACM,aAAa;MACb,aAAa;MACb,oBAAoB;CACzB;AACD;MACM,aAAa;MACb,aAAa;MACb,kBAAkB;MAClB,gBAAgB;CACrB;AACD;MACM,kBAAkB;CACvB;AACD;IACI,eAAe;CAClB;AACD;MACM,YAAY;MACZ,+BAA+B;cACvB,uBAAuB;MAC/B,iBAAiB;CACtB;AACD;MACM,aAAa;CAClB;AACD;QACQ,aAAa;CACpB",file:"detail.vue",sourcesContent:["\n.el-message.hyy-toast {\n  min-width: 192px;\n  min-height: 48px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  background: rgba(51, 51, 51, 0.8);\n  padding: 12px 48px;\n  border-radius: 4px;\n}\n.el-message.hyy-toast > i {\n    width: 16px;\n    height: 16px;\n    color: #fff;\n    margin-right: 10px;\n}\n.el-message.hyy-toast > p {\n    font-size: 16px;\n    line-height: 22px;\n}\n.movie-plan_detail {\n  padding-bottom: 30px;\n}\n.movie-plan_detail .redBorder input {\n    border: 1px solid red;\n}\n.movie-plan_detail .basic-info {\n    margin-left: 30px;\n}\n.movie-plan_detail .basic-info .el-form-item {\n      margin-bottom: 14px;\n}\n.movie-plan_detail .basic-info .el-form-item__label {\n      font-size: 12px;\n      text-align: left;\n}\n.movie-plan_detail .basic-info .el-select,\n    .movie-plan_detail .basic-info .el-textarea,\n    .movie-plan_detail .basic-info .el-input__inner {\n      width: 360px;\n}\n.movie-plan_detail .basic-info .cinema-stock-edit-text {\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info .separate-accounts-date,\n    .movie-plan_detail .basic-info .separate-accounts-price,\n    .movie-plan_detail .basic-info .separate-accounts-action {\n      display: inline-block;\n}\n.movie-plan_detail .basic-info .canal-pirce-input .el-input {\n      width: 48px;\n      height: 20px;\n}\n.movie-plan_detail .basic-info .canal-pirce-input .el-input .el-input__inner {\n        width: 100%;\n        height: 100%;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        padding: 0 0 0 10px;\n}\n.movie-plan_detail .basic-info .el-form-item__content {\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info.movie-info .el-form {\n      width: 1000px;\n      overflow: hidden;\n}\n.movie-plan_detail .basic-info.movie-info .movie-time .plan-minute {\n      width: 40px;\n      font-size: 12px;\n      color: #666;\n}\n.movie-plan_detail .basic-info.movie-info .movie-time .plan-minute .el-input__inner {\n        width: 40px;\n        padding: 0 5px;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select {\n      position: relative;\n      top: -2px;\n      width: 200px;\n      height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select .el-input__inner {\n        width: 200px;\n        height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .movie-lang .el-select .el-input {\n        width: 200px;\n        height: 30px;\n        line-height: 30px;\n}\n.movie-plan_detail .basic-info.movie-info .el-form-item {\n      float: left;\n      width: 40%;\n      height: 34px;\n}\n.movie-plan_detail .basic-info.movie-info .el-date-editor {\n      width: 120px;\n}\n.movie-plan_detail .basic-info.movie-info .el-date-editor .el-input__inner {\n        width: 120px;\n}\n.movie-plan_detail .basic-info.price-system {\n      position: relative;\n}\n.movie-plan_detail .basic-info.price-system .export-priceplan-btn {\n        position: absolute;\n        left: 800px;\n        top: 0;\n        z-index: 999;\n}\n.movie-plan_detail .basic-info.price-system .el-tabs {\n        width: 900px;\n}\n.movie-plan_detail .basic-info.price-system .el-button {\n        padding: 0;\n        width: 92px;\n        height: 32px;\n        line-height: 32px;\n}\n.movie-plan_detail .basic-info.price-system .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__inner {\n        width: 12px;\n        height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input {\n        width: 12px;\n        height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input.is-checked {\n          width: 12px;\n          height: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__input.is-checked .el-checkbox__inner::after {\n            top: 0;\n            left: 3px;\n            -webkit-transform: rotate(45deg) scaleY(0.8);\n                    transform: rotate(45deg) scaleY(0.8);\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox__label {\n        display: inline-block;\n        height: 20px;\n        line-height: 20px;\n        font-size: 12px;\n        color: #666;\n        padding-left: 4px;\n        vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox {\n        margin-right: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox + .el-checkbox {\n        margin-left: 0;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-title {\n        font-size: 12px;\n        color: #333;\n        margin-bottom: 16px;\n        height: 16px;\n        line-height: 16px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-title span {\n          font-size: 12px;\n          color: #666;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area {\n        position: relative;\n        padding-top: 25px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip {\n          position: absolute;\n          right: 0px;\n          top: 0;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div {\n            display: inline-block;\n            height: 16px;\n            line-height: 16px;\n            margin-right: 12px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div .color-block {\n              display: inline-block;\n              width: 10px;\n              height: 10px;\n              margin-right: 8px;\n              background-color: #FF8900;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .table-top-tip > div:nth-child(2) .color-block {\n              background-color: #3B74FF;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .cell .top {\n          color: #FF8900;\n          font-weight: 800;\n}\n.movie-plan_detail .basic-info.price-system .pirce-ref-area .cell .low {\n          color: #3B74FF;\n          font-weight: 800;\n}\n.movie-plan_detail .basic-info.price-system .el-table {\n        width: 900px !important;\n        margin-bottom: 4px;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-col .caret-wrapper {\n          top: 15px;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-th {\n          max-width: 100px;\n          display: -webkit-inline-box;\n          display: -ms-inline-flexbox;\n          display: inline-flex;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: column;\n                  flex-direction: column;\n          -webkit-box-align: left;\n              -ms-flex-align: left;\n                  align-items: left;\n          padding: 0;\n}\n.movie-plan_detail .basic-info.price-system .el-table.price-ref-table .cinema-th .cinema-info {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            color: #333;\n            font-size: 12px;\n            margin-bottom: 3px;\n            height: 16px;\n            line-height: 16px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select {\n          margin-right: 10px;\n          width: 150px;\n          height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input__suffix {\n            right: 0;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-select__caret {\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input__inner {\n            width: 150px;\n            height: 20px;\n            padding-right: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .el-select .el-input {\n            width: 150px;\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .rmb-hover {\n            position: absolute;\n            left: 10px;\n            top: 2px;\n            font-size: 12px;\n            font-style: normal;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .el-input__inner {\n            width: 150px;\n            height: 20px;\n            padding-left: 20px;\n            padding-right: 0px;\n}\n.movie-plan_detail .basic-info.price-system .el-table .input-con .el-input {\n            width: 80px;\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .table-rule {\n        color: #3f3f3f;\n        font-size: 12px;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .prcie-promise {\n        font-size: 12px;\n        margin-bottom: 8px;\n        -webkit-columns: #666;\n           -moz-columns: #666;\n                columns: #666;\n        height: 20px;\n        line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .prcie-promise span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu {\n        width: 432px;\n        position: relative;\n        margin-top: 10px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          color: #666;\n          font-size: 12px;\n          height: 20px;\n          line-height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input span {\n            display: inline-block;\n            font-size: 12px;\n            width: 72px;\n            height: 20px;\n            line-height: 20px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input em {\n            display: inline-block;\n            height: 20px;\n            line-height: 20px;\n            margin-right: 6px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input .el-input {\n            width: 48px;\n            height: 20px;\n            vertical-align: middle;\n}\n.movie-plan_detail .basic-info.price-system .table-bottom-menu .canal-pirce-input .el-input .el-input__inner {\n              font-size: 12px;\n              line-height: 20px;\n              height: 20px;\n}\n.movie-plan_detail .basic-info.price-system .el-checkbox-group {\n        display: inline-block;\n}\n.movie-plan_detail .basic-info.price-system .check-all-type {\n        margin-right: 12px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .cell span {\n        display: inline-block;\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .cell .input-con {\n        width: 120px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .el-select .el-input {\n        width: 150px;\n}\n.movie-plan_detail .basic-info.price-system .edit-cichannel-table .el-select .el-input .el-input__inner {\n          width: 150px;\n          padding-right: 20px;\n          font-size: 12px;\n          color: #666;\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema {\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        border: 1px solid #E5E5E5;\n        background-color: #fff;\n        position: relative;\n        float: left;\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema .center-tip {\n          width: 300px;\n          text-align: center;\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          -webkit-transform: translate(-50%, -50%);\n                  transform: translate(-50%, -50%);\n}\n.movie-plan_detail .basic-info.price-system .no-vie-cinema .center-tip .p1 {\n            font-size: 14px;\n            color: #666666;\n            margin-bottom: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .button-new-tag {\n      width: 105px;\n      height: 32px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding: 0;\n}\n.movie-plan_detail .basic-info.zone-add-price .button-new-tag span {\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con {\n      width: 360px;\n      height: 36px;\n      background-color: #f5f5f5;\n      padding: 0 12px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      border-radius: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag {\n        height: 20px;\n        line-height: 20px;\n        background-color: #fff;\n        color: #666;\n        border-color: #bcbcbc;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag .el-tag__close {\n          color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .tags-con .el-tag .el-tag__close:hover {\n            background-color: #fff;\n            color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .item-tip {\n      color: #666;\n      font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .el-radio-group {\n      margin-bottom: 14px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con {\n      margin-bottom: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-radio__original {\n        color: #666;\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-radio__label {\n        font-size: 12px;\n        color: #666;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-button {\n        width: 90px;\n        height: 20px;\n        padding: 0;\n        margin-left: 5px;\n}\n.movie-plan_detail .basic-info.zone-add-price .radio-con .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.zone-add-price .el-table {\n      width: 615px !important;\n}\n.movie-plan_detail .basic-info.float-price .dib-l,\n    .movie-plan_detail .basic-info.float-price .dib-r {\n      display: inline-block;\n      vertical-align: middle;\n}\n.movie-plan_detail .basic-info.float-price .dib-l .el-input, .movie-plan_detail .basic-info.float-price .dib-l .el-input__inner,\n      .movie-plan_detail .basic-info.float-price .dib-r .el-input,\n      .movie-plan_detail .basic-info.float-price .dib-r .el-input__inner {\n        width: 64px;\n        height: 32px;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule {\n      color: #3b74ff;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule span {\n        cursor: pointer;\n}\n.movie-plan_detail .basic-info.float-price .add-price-rule .iconfont {\n        margin-right: 5px;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form {\n      width: 1000px;\n      overflow: visible;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form-item {\n      float: left;\n      width: 40%;\n}\n.movie-plan_detail .basic-info.checkout-account .el-form-item.is-error {\n        height: 58px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price {\n      color: #666;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price span {\n        font-size: 12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-price .el-input, .movie-plan_detail .basic-info.checkout-account .separate-accounts-price .el-input__inner {\n        width: 120px;\n        height: 24px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date {\n      margin-left: -12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date span {\n        font-size: 12px;\n        color: #666666;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date .el-date-editor--daterange.el-input__inner {\n        vertical-align: middle;\n        width: 196px;\n        height: 32px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-date .el-date-editor--daterange.el-input__inner .el-input__inner {\n          height: 32px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action {\n      margin-left: 6px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button {\n        width: 40px;\n        height: 32px;\n        border: 1px solid #3b74ff;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        color: #3b74ff;\n        vertical-align: middle;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button span {\n          font-size: 12px;\n}\n.movie-plan_detail .basic-info.checkout-account .separate-accounts-action .el-button--mini {\n        padding: 10px 5px 8px;\n}\n.movie-plan_detail .bottom-handler-tool {\n    height: 64px;\n    position: fixed;\n    z-index: 999;\n    bottom: 0;\n    right: 0;\n    background-color: #f5f5f5;\n}\n.movie-plan_detail .bottom-handler-tool .btn-area {\n      width: 500px;\n      margin: 0 auto;\n      height: 64px;\n      text-align: center;\n      padding-top: 16px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .search-wrap {\n    display: inline-block;\n    margin-right: 10px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .search-wrap span {\n      color: #666;\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-input {\n    width: 120px;\n    height: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-input .el-input__inner {\n      width: 100%;\n      height: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding: 0 0 0 10px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select {\n    margin-right: 10px;\n    width: 120px;\n    height: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__suffix {\n      right: 0;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-select__caret {\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__inner {\n      width: 120px;\n      height: 20px;\n      padding-right: 20px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input {\n      width: 120px;\n      height: 20px;\n      line-height: 20px;\n      font-size: 12px;\n}\n.movie-plan_detail .import-price-plan-dialog .el-form-item .el-select .el-input__icon {\n      line-height: 20px;\n}\n.movie-plan_detail .show {\n    display: block;\n}\n.movie-plan_detail .show .el-input__inner {\n      width: 80px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      padding-right: 0;\n}\n.movie-plan_detail .show .el-select {\n      width: 120px;\n}\n.movie-plan_detail .show .el-select .el-input__inner {\n        width: 120px;\n}\n"],sourceRoot:""}])},549:function(e,i,t){"use strict";var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"movie-plan_detail"},[t("el-collapse",{model:{value:e.activeNames,callback:function(i){e.activeNames=i},expression:"activeNames"}},[e.isEditMode?t("el-collapse-item",{attrs:{title:"基础信息",name:"1"}},[t("div",{staticClass:"basic-info movie-info"},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"影厅："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.hallName)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"放映影片："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                               "+e._s(e.movieData.movieName)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"影片时长："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.timeLong)+"分\n                            ")])]),e._v(" "),0==e.movieData.soldSeatCount?t("el-form-item",{attrs:{label:"语言："}},[t("span",{staticClass:"movie-lang"},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.langValue,callback:function(i){e.langValue=i},expression:"langValue"}},e._l(e.langArr,function(e,i){return t("el-option",{key:i,attrs:{label:e.languageName,value:e.languageName}})}),1)],1)]):t("el-form-item",{attrs:{label:"语言："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                               "+e._s(e.langValue)+"\n                            ")])]),e._v(" "),0==e.movieData.soldSeatCount?t("el-form-item",{attrs:{label:"放映时间："}},[t("div",{staticClass:"movie-time"},[e._v("\n                                "+e._s(e.showPlanDate)+"\n                                "),t("el-input",{staticClass:"plan-minute",attrs:{min:"00",max:"59"},on:{change:e.timeChange},model:{value:e.planMinute,callback:function(i){e.planMinute=i},expression:"planMinute"}}),e._v("\n                                分\n                                ")],1)]):t("el-form-item",{attrs:{label:"放映时间："}},[e._v("\n                           "+e._s(e.showPlanDate)+"\n                        ")]),e._v(" "),t("el-form-item",{attrs:{label:"审核状态："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s("NOT_APPROVE"==e.movieData.approveStatus?"未审核":"WAIT_APPROVE"==e.movieData.approveStatus?"待审核":"REJECT"==e.movieData.approveStatus?"已驳回":"已审核")+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"对号入座："}},[t("el-checkbox",{model:{value:e.mustRightSeat,callback:function(i){e.mustRightSeat=i},expression:"mustRightSeat"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"影片版本："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.disVersion)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"首映日期："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.dateShowFirst)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"落幕日期："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.dateShowOff)+"\n                            ")])])],1)],1)]):t("el-collapse-item",{attrs:{title:"基础信息",name:"1"}},[t("div",{staticClass:"basic-info movie-info"},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"影厅："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.hallName)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"放映影片："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                               "+e._s(e.movieData.movieName)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"影片时长："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.timeLong)+"分\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"语言："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.langValue)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"放映时间："}},[e._v("\n                           "+e._s(e.movieData.planTime)+" - "+e._s(e.movieData.planTimeEnd)+"\n                        ")]),e._v(" "),t("el-form-item",{attrs:{label:"审核状态："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                 "+e._s("NOT_APPROVE"==e.movieData.approveStatus?"未审核":"WAIT_APPROVE"==e.movieData.approveStatus?"待审核":"已审核")+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"对号入座："}},[e._v("\n                           "+e._s(e.movieData.mustRightSeat?"是":"否")+"\n                        ")]),e._v(" "),t("el-form-item",{attrs:{label:"影片版本："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.disVersion)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"首映日期："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.dateShowFirst)+"\n                            ")])]),e._v(" "),t("el-form-item",{attrs:{label:"落幕日期："}},[t("span",{staticClass:"cinema-stock-edit-text"},[e._v("\n                                "+e._s(e.movieData.dateShowOff)+"\n                            ")])])],1)],1)]),e._v(" "),e.isEditMode?t("el-collapse-item",{attrs:{title:"价格体系",name:"2"}},[t("div",{staticClass:"basic-info price-system edit"},[t("el-button",{staticClass:"export-priceplan-btn",attrs:{type:"text"},on:{click:e.showPricePlanDialog}},[e._v("导入价格方案")]),e._v(" "),t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(i){e.activeTab=i},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"柜台/自助",name:"first"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"适用票类："}},[t("div",[t("el-table",{attrs:{data:e.ticketData}},[t("el-table-column",{attrs:{prop:"name",label:"票类名称",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"票类价格",width:"210"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-input",{attrs:{type:"number",disabled:!i.row.switchStatus,maxlength:"9",max:"999999"},on:{change:function(t){return e.priceChange1(i.row.price,i.$index)}},model:{value:i.row.price,callback:function(t){e.$set(i.row,"price",t)},expression:"scope.row.price"}}),t("i",{staticClass:"rmb-hover"},[e._v("¥")])],1)]}}],null,!1,2488522566)}),e._v(" "),t("el-table-column",{attrs:{prop:"addFee",label:"增值服务费"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-input",{attrs:{type:"number",disabled:!i.row.switchStatus,maxlength:"9",max:"999999"},on:{blur:function(t){return e.tableFixed(i)}},model:{value:i.row.addFee,callback:function(t){e.$set(i.row,"addFee",t)},expression:"scope.row.addFee"}}),t("i",{staticClass:"rmb-hover"},[e._v("¥")])],1)]}}],null,!1,1439638948)}),e._v(" "),t("el-table-column",{attrs:{label:"最终售价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s((parseFloat(i.row.price)+parseFloat(i.row.addFee)).toFixed(2)))])]}}],null,!1,3004195623)}),e._v(" "),t("el-table-column",{attrs:{label:"开售状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-switch",{attrs:{disabled:0==i.row.baseFlag,"active-color":"#3B74FF","inactive-color":"#BFBFBF"},model:{value:i.row.switchStatus,callback:function(t){e.$set(i.row,"switchStatus",t)},expression:"scope.row.switchStatus"}})],1)]}}],null,!1,4234711728)})],1),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])],1)])],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"线上网售",name:"second"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"适用渠道："}},[t("div",[t("el-table",{staticClass:"edit-cichannel-table",attrs:{data:e.channelData}},[t("el-table-column",{attrs:{prop:"name",label:"代理商",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"渠道结算票价",width:"210"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-input",{attrs:{type:"number",maxlength:"9",disabled:!i.row.switchStatus,max:"999999"},on:{change:function(t){return e.priceChange2(i.row.price,i.$index)}},model:{value:i.row.price,callback:function(t){e.$set(i.row,"price",t)},expression:"scope.row.price"}}),t("i",{staticClass:"rmb-hover"},[e._v("¥")])],1)]}}],null,!1,2534703269)}),e._v(" "),t("el-table-column",{attrs:{prop:"addFee",label:"增值服务费"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-input",{attrs:{type:"number",maxlength:"9",disabled:!i.row.switchStatus,max:"999999"},on:{blur:function(t){return e.cichannelToFixed(i)}},model:{value:i.row.addFee,callback:function(t){e.$set(i.row,"addFee",t)},expression:"scope.row.addFee"}}),t("i",{staticClass:"rmb-hover"},[e._v("¥")])],1)]}}],null,!1,2826916360)}),e._v(" "),t("el-table-column",{attrs:{label:"最终售价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s((parseFloat(i.row.price)+parseFloat(i.row.addFee)).toFixed(2)))])]}}],null,!1,3004195623)}),e._v(" "),t("el-table-column",{attrs:{prop:"allPrice",label:"开售状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-switch",{attrs:{"active-color":"#3B74FF","inactive-color":"#BFBFBF"},model:{value:i.row.switchStatus,callback:function(t){e.$set(i.row,"switchStatus",t)},expression:"scope.row.switchStatus"}})],1)]}}],null,!1,1594842943)})],1),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])],1)])],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"竞对票价参考",name:"third"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("div",{staticClass:"pirce-ref-title"},[e._v("线上网售票价对比"),t("span",[e._v("("+e._s(e.year)+"/"+e._s(e.month)+"/"+e._s(e.day)+")")])]),e._v(" "),t("div",{staticClass:"pirce-ref-area"},[t("div",{staticClass:"table-top-tip"},[t("div",{staticClass:"table-info-tip"},[t("span",{staticClass:"color-block"}),e._v("最高票价")]),e._v(" "),t("div",{staticClass:"table-info-tip"},[t("span",{staticClass:"color-block"}),e._v("最低票价")])]),e._v(" "),t("div",{staticStyle:{overflow:"hidden"}},[t("el-table",{staticClass:"price-ref-table",style:{width:e.hasNoVieCinema?"29% !important":"900px !important",float:e.hasNoVieCinema?"left":"none"},attrs:{"default-sort":{prop:"avgPrice",order:"descending"},data:e.priceContrast}},[t("el-table-column",{attrs:{prop:"channelName",fixed:"left",width:"150",label:e.movieData.movieName}}),e._v(" "),t("el-table-column",{attrs:{fixed:"left",width:"150",sortable:"",prop:"myPirce",label:"我的影院"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{class:"low"==i.row.order?"low":"top"==i.row.order?"top":""},[e._v(e._s(Number(i.row.myPrice).toFixed(2)))])]}}],null,!1,2275178867)}),e._v(" "),e.hasNoVieCinema?e._e():t("el-table-column",{attrs:{fixed:"left",width:"150",sortable:"",prop:"avgPrice",label:"竞对平均票价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(Number(i.row.avgPrice).toFixed(2)))])]}}],null,!1,3541884585)}),e._v(" "),e._l(e.vieCinemaList,function(i,n){return t("el-table-column",{key:i.cinemaCode,attrs:{"class-name":"cinema-col",width:"150",prop:i.cinemaCode,sortable:""},scopedSlots:e._u([{key:"header",fn:function(n){return[t("div",{staticClass:"cinema-th"},[t("p",{staticClass:"cinema-info",attrs:{title:i.cinemaName||i.cinemaCode}},[e._v(e._s(i.cinemaName||i.cinemaCode))]),e._v(" "),t("p",{staticClass:"cinema-info"},[e._v(e._s(i.lang))]),e._v(" "),t("p",{staticClass:"cinema-info"},[e._v(e._s(e.formatDateTime(1e3*i.startMills,2))+" - "+e._s(e.formatDateTime(1e3*i.endTimeMills,2)))])])]}},{key:"default",fn:function(i){return[t("span",{class:"low"==i.row.movieTickets[n].order?"low":"top"==i.row.movieTickets[n].order?"top":""},[e._v(e._s(Number(i.row.movieTickets[n].price).toFixed(2)))])]}}],null,!0)})})],2),e._v(" "),e.hasNoVieCinema?t("div",{staticClass:"no-vie-cinema",style:{width:e.tipBox.width+"px",height:e.tipBox.height+"px",borderLeft:"none"}},[t("div",{staticClass:"center-tip"},[t("p",{staticClass:"p1"},[e._v("您还没有设置竞对影院！")]),e._v(" "),t("p",{staticClass:"p2"},[t("el-button",{attrs:{type:"primary"},on:{click:e.setVieCinema}},[e._v("设置竞对影院")])],1)])]):e._e()],1),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])])])],1)],1),e._v(" "),t("div",{staticClass:"table-bottom-menu"},[t("div",{staticClass:"prcie-promise"},[t("el-checkbox",{model:{value:e.permitSaleBox,callback:function(i){e.permitSaleBox=i},expression:"permitSaleBox"}},[e._v("允许包厢单卖")])],1),e._v(" "),t("div",{staticClass:"prcie-promise"},[t("el-checkbox",{model:{value:e.permitDiscount,callback:function(i){e.permitDiscount=i},expression:"permitDiscount"}},[e._v("允许营销活动折扣、会员折扣")])],1),e._v(" "),t("div",{staticClass:"prcie-promise"},[t("p",[e._v("已匹配的价格方案: "+e._s(this.movieData.priceProgramName))])])]),e._v(" "),e.isEditMode?t("div",{staticClass:"table-bottom-menu"},[t("el-form",{staticClass:"demo-ruleForm",staticStyle:{width:"100%"},attrs:{"label-width":"130px",size:"small"}},[t("el-form-item",{staticClass:"m-t-10",attrs:{label:"分区定价："}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.zoningPricing},model:{value:e.pricing,callback:function(i){e.pricing=i},expression:"pricing"}},e._l(e.options,function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1==e.pricing?t("el-table",{staticStyle:{"margin-top":"10px",width:"302px"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"name",label:"分区",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("i",{style:{background:i.row.color}},[e._v("    ")]),e._v(" "),t("span",[e._v(e._s(i.row.name))])]}}],null,!1,1209837430)}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"加减价（正数为加，负数为减）",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[t("el-input",{attrs:{type:"number",maxlength:"9",placeholder:"0"},on:{change:function(t){return e.priceChang(i.row.price,i.$index)}},model:{value:i.row.price,callback:function(t){e.$set(i.row,"price",t)},expression:"scope.row.price"}}),e._v(" "),t("i",{staticClass:"rmb-hover"},[e._v("¥")])],1)]}}],null,!1,186626527)})],1):e._e()],1),e._v(" "),t("el-form-item",{staticClass:"m-t-10",attrs:{label:"执行动态调价："}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.dynamicPrice},model:{value:e.pricing1,callback:function(i){e.pricing1=i},expression:"pricing1"}},e._l(e.options1,function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),1==e.pricing1?t("div",{staticClass:"show"},[t("el-checkbox-group",{staticClass:"m-t-15",staticStyle:{width:"300px"},on:{change:e.checklist},model:{value:e.checkList,callback:function(i){e.checkList=i},expression:"checkList"}},e._l(e.disVersionList2,function(i,n){return t("el-checkbox",{key:n,attrs:{label:i.idx}},[e._v(e._s(i.label))])}),1),e._v(" "),t("div",[e._l(e.activeList,function(i,n){return t("p",{key:n,staticStyle:{width:"800px","margin-top":"10px"}},[0==e.ifCheck[0]&&0==n?t("el-input",{class:{redBorder:e.activ==n&&""!=e.activ},staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"0"},on:{change:function(t){return e.changeNumer(i.occupancyMin,n)}},model:{value:i.occupancyMin,callback:function(t){e.$set(i,"occupancyMin",t)},expression:"item.occupancyMin"}}):e._e(),e._v(" "),0==e.ifCheck[0]&&n>0?t("el-input",{class:{redBorder:e.activ==n&&""!=e.activ},staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"0",disabled:""},on:{change:function(t){return e.changeNumer(i.occupancyMin,n)}},model:{value:i.occupancyMin,callback:function(t){e.$set(i,"occupancyMin",t)},expression:"item.occupancyMin"}}):e._e(),e._v(" "),0==e.ifCheck[0]?t("span",[e._v("% ≤ 上座率 "+e._s(e.fuhao)+" ")]):e._e(),e._v(" "),0==e.ifCheck[0]?t("el-input",{class:{redBorder:e.active==n&&""!=e.active},staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"0"},on:{change:function(t){return e.changeNumer1(i.occupancyMax,n)}},model:{value:i.occupancyMax,callback:function(t){e.$set(i,"occupancyMax",t)},expression:"item.occupancyMax"}}):e._e(),e._v(" "),0==e.ifCheck[0]?t("span",[e._v("%  ")]):e._e(),e._v(" "),0==e.ifCheck[0]&&e.ifCheck[1]?t("span",[e._v("且")]):e._e(),e._v(" "),1==e.ifCheck[0]||1==e.ifCheck[1]?t("span",[e._v("  开映前 ")]):e._e(),e._v(" "),1==e.ifCheck[0]||1==e.ifCheck[1]?t("el-input",{class:{redBorder:e.active2==n&&""!=e.active2},staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"0"},on:{change:function(t){return e.changeTime(i.time,n)}},model:{value:i.time,callback:function(t){e.$set(i,"time",t)},expression:"item.time"}}):e._e(),e._v(" "),1==e.ifCheck[0]||1==e.ifCheck[1]?t("span",[e._v("小时；")]):e._e(),e._v(" "),0==e.ifCheck[0]||1==e.ifCheck[0]?t("el-select",{attrs:{placeholder:"请选择"},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"item.type"}},e._l(e.opt1,function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),0==e.ifCheck[0]||1==e.ifCheck[0]?t("el-input",{class:{redBorder:e.active1==n&&""!=e.active1},staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"0"},on:{change:function(t){return e.changeNumer2(i.price,n)}},model:{value:i.price,callback:function(t){e.$set(i,"price",t)},expression:"item.price"}}):e._e(),e._v(" "),(0==e.ifCheck[0]||1==e.ifCheck[0])&&n>=1?t("a",{on:{click:function(i){return e.delRuler(n)}}},[e._v("删除")]):e._e()],1)}),e._v(" "),0==e.ifCheck[0]||1==e.ifCheck[0]?t("a",{on:{click:e.addRuler}},[e._v("添加规则")]):e._e()],2)],1):e._e()],1)],1)],1):e._e()],1)]):t("el-collapse-item",{attrs:{title:"价格体系",name:"2"}},[t("div",{staticClass:"basic-info price-system"},[t("el-tabs",{attrs:{type:"card"},model:{value:e.activeTab,callback:function(i){e.activeTab=i},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"柜台/自助",name:"first"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"适用票类："}},[t("div",[t("el-table",{attrs:{data:e.ticketData}},[t("el-table-column",{attrs:{prop:"name",label:"票类",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s(i.row.price))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"addFee",label:"增值服务费"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s(i.row.addFee))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"最终售价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s((parseFloat(i.row.price)+parseFloat(i.row.addFee)).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"开售状态"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v(e._s(i.row.switchStatus?"开售":"停售"))])]}}])})],1),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])],1)])],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"线上网售",name:"second"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("el-form-item",{attrs:{label:"适用渠道："}},[t("div",[t("el-table",{staticClass:"edit-cichannel-table",attrs:{data:e.channelData}},[t("el-table-column",{attrs:{prop:"name",label:"渠道名称",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"price",label:"渠道结算票价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s(i.row.price))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"addFee",label:"增值服务费"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s(i.row.addFee))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"最终售价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v("¥ "+e._s((parseFloat(i.row.price)+parseFloat(i.row.addFee)).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"开售状态"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{staticClass:"input-con"},[e._v(e._s(i.row.switchStatus?"开售":"停售"))])]}}])})],1),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])],1)])],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"竞对票价参考",name:"third"}},[t("el-form",{attrs:{"label-width":"72px"}},[t("div",{staticClass:"pirce-ref-title"},[e._v("线上网售票价对比"),t("span",[e._v("("+e._s(e.year)+"/"+e._s(e.month)+"/"+e._s(e.day)+")")])]),e._v(" "),t("div",{staticClass:"pirce-ref-area"},[t("div",{staticClass:"table-top-tip"},[t("div",{staticClass:"table-info-tip"},[t("span",{staticClass:"color-block"}),e._v("最高票价")]),e._v(" "),t("div",{staticClass:"table-info-tip"},[t("span",{staticClass:"color-block"}),e._v("最低票价")])]),e._v(" "),t("el-table",{staticClass:"price-ref-table",attrs:{"default-sort":{prop:"avgPrice",order:"descending"},data:e.priceContrast}},[t("el-table-column",{attrs:{prop:"channelName",fixed:"left",width:"150",label:e.movieData.movieName}}),e._v(" "),t("el-table-column",{attrs:{fixed:"left",width:"150",sortable:"",prop:"myPrice",label:"我的影院"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{class:"low"==i.row.order?"low":"top"==i.row.order?"top":""},[e._v(e._s(Number(i.row.myPrice).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{fixed:"left",width:"150",sortable:"",prop:"avgPrice",label:"竞对平均票价"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(Number(i.row.avgPrice).toFixed(2)))])]}}])}),e._v(" "),e._l(e.vieCinemaList,function(i,n){return t("el-table-column",{key:i.cinemaCode,attrs:{"class-name":"cinema-col",width:"150",prop:i.cinemaCode,sortable:""},scopedSlots:e._u([{key:"header",fn:function(n){return[t("div",{staticClass:"cinema-th"},[t("p",{staticClass:"cinema-info",attrs:{title:i.cinemaName||i.cinemaCode}},[e._v(e._s(i.cinemaName||i.cinemaCode))]),e._v(" "),t("p",{staticClass:"cinema-info"},[e._v(e._s(i.lang))]),e._v(" "),t("p",{staticClass:"cinema-info"},[e._v(e._s(e.formatDateTime(1e3*i.startMills,2))+" - "+e._s(e.formatDateTime(1e3*i.endTimeMills,2)))])])]}},{key:"default",fn:function(i){return[t("span",{class:"low"==i.row.movieTickets[n].order?"low":"top"==i.row.movieTickets[n].order?"top":""},[e._v(e._s(Number(i.row.movieTickets[n].price).toFixed(2)))])]}}],null,!0)})})],2),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("1、若价格方案的定价低于最低发行价时，将以影片最低发行价出售")]),e._v(" "),t("p",{staticClass:"table-rule"},[e._v("2、场次标准票价=场次成人票票价")])],1)])],1)],1),e._v(" "),t("div",{staticClass:"table-bottom-menu"},[t("div",{staticClass:"prcie-promise"},[e._v("\n                            允许包厢单卖: "),t("span",[e._v(e._s(e.permitSaleBox?"是":"否"))])]),e._v(" "),t("div",{staticClass:"prcie-promise"},[e._v("\n                            允许营销活动折扣、会员折扣: "),t("span",[e._v(e._s(e.permitDiscount?"是":"否"))])]),e._v(" "),t("div",{staticClass:"prcie-promise"},[t("p",[e._v("已匹配的价格方案: "+e._s(this.movieData.priceProgramName))])])]),e._v(" "),t("div",{staticClass:"table-bottom-menu"},[t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"分区定价："}},[1==this.movieData.useRegionPrice?t("div",{staticClass:"cinema-stock-scan-text"},e._l(e.tableData,function(i,n){return t("span",{key:n,staticClass:"m-r-10"},[i.price?t("span",[e._v(e._s(i.name)+" : "+e._s(i.price)+"元")]):e._e()])}),0):t("span",{staticClass:"cinema-stock-scan-text"},[e._v("否")])]),e._v(" "),t("el-form-item",{attrs:{label:"动态调价："}},[1==this.movieData.useAdjustmentPrice?t("div",{staticClass:"cinema-stock-scan-text"},e._l(e.activeList,function(i,n){return t("span",{key:n},[i.occupancyMin||i.occupancyMax?t("span",[e._v(e._s(i.occupancyMin)+"% ≤ 上座率 "+e._s(e.fuhao)+" "+e._s(i.occupancyMax)+"%")]):e._e(),e._v(" "),i.startTime?t("span",[e._v("放映前 "+e._s(i.time)+" 小时")]):e._e(),e._v("\n                                    出票价\n                                    "),1==i.adjustmentType?t("span",[i.price>0?t("span",[e._v("+"+e._s(i.price)+"元")]):e._e(),e._v(" "),i.price<0?t("span",[e._v(e._s(i.price)+"元")]):e._e()]):e._e(),e._v(" "),2==i.adjustmentType?t("span",[e._v("打折 "+e._s(i.percentage)+"%")]):e._e(),e._v(" "),t("br")])}),0):t("span",{staticClass:"cinema-stock-scan-text"},[e._v("否")])])],1)],1)],1)]),e._v(" "),e.isEditMode?t("el-collapse-item",{attrs:{title:"分账信息",name:"3"}},[t("div",{staticClass:"basic-info checkout-account"},[t("el-form",{ref:"checkoutPriceForm",attrs:{"label-width":"100px",model:e.ruleForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"最低票价：",prop:"price"}},[t("div",{staticClass:"separate-accounts-price"},[t("el-input",{on:{change:e.toFixed},model:{value:e.ruleForm.price,callback:function(i){e.$set(e.ruleForm,"price",i)},expression:"ruleForm.price"}}),e._v(" "),t("span",[e._v("元")])],1)]),e._v(" "),t("el-form-item",{staticClass:"other-percent",attrs:{prop:"rate","label-width":"110px",label:"发行方分账比例："}},[t("div",{staticClass:"separate-accounts-price"},[t("el-input",{model:{value:e.ruleForm.rate,callback:function(i){e.$set(e.ruleForm,"rate",i)},expression:"ruleForm.rate"}}),e._v(" "),t("span",[e._v("%")])],1)])],1)],1)]):t("el-collapse-item",{attrs:{title:"分账信息",name:"3"}},[t("div",{staticClass:"basic-info checkout-account"},[t("el-form",{attrs:{model:e.ruleForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"最低票价："}},[t("div",{staticClass:"separate-accounts-price"},[t("span",[e._v(e._s(e.ruleForm.price))]),e._v(" "),t("span",[e._v("元")])])]),e._v(" "),t("el-form-item",{staticClass:"other-percent",attrs:{"label-width":"110px",label:"发行方分账比例："}},[t("div",{staticClass:"separate-accounts-price"},[t("span",[e._v(e._s(e.ruleForm.rate))]),e._v(" "),t("span",[e._v("%")])])])],1)],1)])],1),e._v(" "),t("el-dialog",{staticClass:"import-price-plan-dialog",attrs:{title:"导入价格方案",visible:e.pricePlanDialog},on:{"update:visible":function(i){e.pricePlanDialog=i},close:e.closeDialogCb}},[t("el-form",[t("el-form-item",{staticClass:"serach-con"},[t("div",{staticClass:"search-wrap"},[t("span",[e._v("方案名称：")]),e._v(" "),t("el-input",{model:{value:e.planName,callback:function(i){e.planName=i},expression:"planName"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(i){return e.importPricePlan(0,i)}}},[e._v("查询")])],1),e._v(" "),t("el-form-item",[t("el-table",{staticClass:"edit-cichannel-table",attrs:{"highlight-current-row":"",data:e.importPlanData},on:{"current-change":e.selectedRow}},[t("el-table-column",{attrs:{prop:"priceProgramName",label:"方案名称"}}),e._v(" "),t("el-table-column",{attrs:{label:"适用影院"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v("\n                                "+e._s(i.row.useRange?"适用于所有影院":"适用指定影院")+"\n                            ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"有效期"},scopedSlots:e._u([{key:"default",fn:function(i){return[e._v("\n                                "+e._s(i.row.useDyFg?"指定日期":"长期有效")+"\n                            ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"disVersion",label:"发行版本"}}),e._v(" "),t("el-table-column",{attrs:{prop:"hallType",label:"影厅类型"}}),e._v(" "),t("el-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.toPricePlanDetail(i.row.uid)}}},[e._v("查看")])]}}])})],1)],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.curPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.pricePlanDialog=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.selectSinglePlan}},[e._v("确 定")])],1)],1),e._v(" "),t("div",{staticClass:"bottom-handler-tool",style:{width:e.fixedWidth+"px"}},[e.isEditMode?t("div",{staticClass:"btn-area"},[t("el-button",{attrs:{type:"primary",disabled:e.pd},on:{click:e.savePlan}},[e._v("保存")]),e._v(" "),t("el-button",{on:{click:e.cancelHandle}},[e._v("取消")])],1):t("div",{staticClass:"btn-area"},[t("el-button",{on:{click:e.closePage}},[e._v("关闭")])],1)]),e._v(" "),t("fixStepTool",{attrs:{stepData:e.stepData.stepList}})],1)},a=[],o={render:n,staticRenderFns:a};i.a=o}});