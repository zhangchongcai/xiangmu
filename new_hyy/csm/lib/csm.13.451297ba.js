webpackJsonpcsm([13],{119:function(t,e,n){"use strict";var a=n(120);a.a.install=function(t){t.directive("print",a.a)},e.a=a.a},120:function(t,e,n){"use strict";var a=n(121),i=!0,o={endCallback:function(){i=!0}},r=function(t,e){return console.error('[Print warn]: Invalid prop: type check failed for prop "print".Expected '+t.join(", ")+", got "+e+"."),!1},s=function(t,e,n){var a=Object.prototype.toString.call(e.value).slice(8,-1);switch(e.rawName){case"v-print:onStart":if("Function"!==a)return r(["Function"],a);o.startCallback=e.value;break;case"v-print:onEnd":if("Function"!==a)return r(["Function"],a);o.endCallback=function(){i=!0,e.value.endCallback()};break;default:if("String"!==a)return r(["String"],a);o.el=e.value}};e.a={directiveName:"print",bind:function(t,e,n){var r=n.context;s(0,e);"v-print"===e.rawName&&t.addEventListener("click",function(t){o.el?l():window.print()});var l=function(){r.$nextTick(function(){if(i){i=!1;new a.a(o)}})}},update:function(t,e,n){s(0,e),i=!0},unbind:function(t){}}},121:function(t,e,n){"use strict";var a=n(86),i=n.n(a),o=n(122),r=n.n(o),s=n(123),l=n.n(s),c=function(){function t(e){r()(this,t),this.standards={strict:"strict",loose:"loose",html5:"html5"},this.ele=null,this.counter=0,this.settings={standard:this.standards.html5,extraHead:"",extraCss:"",popTitle:"",startCallback:function(){},endCallback:null,el:""},i()(this.settings,e),this.init()}return l()(t,[{key:"init",value:function(){this.counter++,this.settings.id="printArea_"+this.counter;var t=document.getElementById(this.settings.id);t&&t.parentNode.removeChild(t);var e=this.getPrintWindow(),n=this.getFormData(document.querySelector(this.settings.el));this.ele=n,this.settings.startCallback(this.ele),this.write(e.doc),this.print(e),this.settings.endCallback()}},{key:"print",value:function(t){var e=t.win;e.onload=function(){e.focus(),e.print()}}},{key:"write",value:function(t,e){t.open(),t.write("<html>"+this.getHead()+this.getBody()+"</html>"),t.close()}},{key:"docType",value:function(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(this.settings.standard===this.standards.loose?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(this.settings.standard===this.standards.loose?"loose":"strict")+'.dtd">'}},{key:"getHead",value:function(){var t="",e="",n="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,function(e){t+=e}),document.querySelectorAll("link").forEach(function(t,n){t.href.indexOf(".css")>=0&&(e+='<link type="text/css" rel="stylesheet" href="'+t.href+'" >')});for(var a=0;a<document.getElementsByTagName("style").length;a++)try{n+=document.getElementsByTagName("style")[a].outerHTML||""}catch(t){}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,function(t){e+='<link type="text/css" rel="stylesheet" href="'+t+'">'}),"<head><title>"+this.settings.popTitle+"</title>"+t+e+n+"</head>"}},{key:"getBody",value:function(){return"<body>"+this.ele.outerHTML+"</body>"}},{key:"getFormData",value:function(t){var e=t.cloneNode(!0),n=e.querySelectorAll("input,select,textarea");return n.forEach(function(t,e){var a=t.getAttribute("type"),i=n[e];void 0===a&&(a="SELECT"===t.tagName?"select":"TEXTAREA"===t.tagName?"textarea":""),"radio"===a||"checkbox"===a?i.setAttribute("checked",t.checked):"text"===a||""===a?(i.value=t.value,i.setAttribute("value",t.value)):"select"===a?i.querySelectorAll("option").forEach(function(t,e){t.selected&&t.setAttribute("selected",!0)}):"textarea"===a&&(i.value=t.value,i.setAttribute("value",t.value),i.innerHTML=t.value)}),e}},{key:"getPrintWindow",value:function(){var t=this.Iframe();return{win:t.contentWindow||t,doc:t.doc}}},{key:"Iframe",value:function(){var t=this.settings.id,e=void 0;try{e=document.createElement("iframe"),document.body.appendChild(e),e.style.border="0px",e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.right="0px",e.style.top="0px",e.setAttribute("id",t),e.setAttribute("src",(new Date).getTime()),e.doc=null,e.doc=e.contentDocument?e.contentDocument:e.contentWindow?e.contentWindow.document:e.document}catch(t){throw new Error(t+". iframes may not be supported in this browser.")}if(null==e.doc)throw new Error("Cannot find document.");return e}}]),t}();e.a=c},122:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},123:function(t,e,n){"use strict";e.__esModule=!0;var a=n(97),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,i.default)(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}()},182:function(t,e,n){"use strict";var a=n(86),i=n.n(a),o=n(119),r=n(53);n.n(r);Vue.use(o.a),e.a={data:function(){return{totalData:{saleBillPayFlowVo:{}},getThings:[],ticketCycles:[],ticketSales:[],baseURL:this.$store.state.default.apiConfig.baseURL}},methods:{cancelFun:function(){console.log(111)},clearDetail:function(){var t=this,e={workTimeUid:this.$route.query.uid};this.$csmList.clearDetail(i()({},e)).then(function(e){e&&200===e.code&&(t.totalData=e.data,console.log(t.totalData.saleBillPayFlowVo),t.totalData.saleBillPayFlowVo?t.isCanSee=!0:t.totalData.saleBillPayFlowVo={},t.getThings=e.data.timeGetThings,t.getThings.forEach(function(t){if(null===t.retThingCount)return void(t.sellCount=null);t.sellCount=Number(t.thingCount)-Number(t.retThingCount)}))})},exportThis:function(){var t=this,e={uid:this.$route.query.uid},n=this.baseURL+"/trade/workTime/exportExcel";console.log(this.baseURL);var a={"Cpm-User-Token":sessionStorage.getItem("token")};this.axios(n,{headers:a,method:"post",responseType:"blob",data:e}).then(function(e){console.log(e);var n=e.headers,a=e.msg?e.msg:"班次收银导出失败！";if(n){"success",a="班次收银导出成功！";var i=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),o=t.totalData.timeCode,r=document.createElement("a");r.download=o,r.style.display="none",r.href=URL.createObjectURL(i),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}t.$message({message:a})})}},created:function(){this.clearDetail()}}},263:function(t,e,n){var a=n(264);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(52)("61179400",a,!0,{})},264:function(t,e,n){e=t.exports=n(51)(!0),e.push([t.i,"\n.printContent .pText[data-v-165dbf4e] {\n  width: 100%;\n  border-bottom: 1px solid #e5e5e5;\n  margin-bottom: 16px;\n}\n.printContent .bigText[data-v-165dbf4e] {\n  font-size: 24px;\n  line-height: 48px;\n}\n.printContent .middleText[data-v-165dbf4e] {\n  font-size: 16px;\n  line-height: 32px;\n  margin-top: 16px;\n}\n.printContent span[data-v-165dbf4e] {\n  font-size: 12px;\n  color: #666;\n  line-height: 24px;\n}\n.printContent .nameSpan[data-v-165dbf4e] {\n  margin-top: 80px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.printContent .nameSpan strong[data-v-165dbf4e] {\n    margin: 0 1em;\n}\n.printContent .nameSpan .line[data-v-165dbf4e] {\n    margin-top: 16px;\n    display: block;\n    width: 100px;\n    height: 1px;\n    border-bottom: 1px solid #333;\n}\n.btn-area[data-v-165dbf4e] {\n  margin: 36px 0 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.btn-area .el-button[data-v-165dbf4e] {\n    padding: 9px 27px;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/csm/src/views/finance/workTime/clearAccount/exportSimple.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,iCAAiC;EACjC,oBAAoB;CACrB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,kBAAkB;CACnB;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,yBAAyB;MACrB,sBAAsB;UAClB,wBAAwB;CACjC;AACD;IACI,cAAc;CACjB;AACD;IACI,iBAAiB;IACjB,eAAe;IACf,aAAa;IACb,YAAY;IACZ,8BAA8B;CACjC;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,yBAAyB;MACrB,sBAAsB;UAClB,wBAAwB;CACjC;AACD;IACI,kBAAkB;CACrB",file:"exportSimple.vue",sourcesContent:["\n.printContent .pText[data-v-165dbf4e] {\n  width: 100%;\n  border-bottom: 1px solid #e5e5e5;\n  margin-bottom: 16px;\n}\n.printContent .bigText[data-v-165dbf4e] {\n  font-size: 24px;\n  line-height: 48px;\n}\n.printContent .middleText[data-v-165dbf4e] {\n  font-size: 16px;\n  line-height: 32px;\n  margin-top: 16px;\n}\n.printContent span[data-v-165dbf4e] {\n  font-size: 12px;\n  color: #666;\n  line-height: 24px;\n}\n.printContent .nameSpan[data-v-165dbf4e] {\n  margin-top: 80px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.printContent .nameSpan strong[data-v-165dbf4e] {\n    margin: 0 1em;\n}\n.printContent .nameSpan .line[data-v-165dbf4e] {\n    margin-top: 16px;\n    display: block;\n    width: 100px;\n    height: 1px;\n    border-bottom: 1px solid #333;\n}\n.btn-area[data-v-165dbf4e] {\n  margin: 36px 0 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.btn-area .el-button[data-v-165dbf4e] {\n    padding: 9px 27px;\n}\n"],sourceRoot:""}])},265:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"print",staticClass:"printContent",attrs:{id:"wrap"}},[n("div",[n("p",{staticClass:"bigText pText"},[t._v("上班登记表")]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("收银员：")]),t._v(" "),n("span",[t._v(" "+t._s(t.totalData.workerName)+" ")])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("班次起始时间")]),t._v(" "),n("span",[t._v(t._s(t.totalData.workStartTime))])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("备用金：")]),t._v(" "),n("span",[t._v(" "+t._s(Number(t.totalData.preAmount).toFixed(2))+"元")])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("票纸编号：")]),t._v(" "),n("span",[t._v(" "+t._s(Number(t.totalData.preAmount).toFixed(2))+"元")])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("状态：")]),t._v(" "),n("span",[t._v("收银中")])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v("制单时间：")]),t._v(" "),n("span",[t._v(" "+t._s(t.totalData.createTime))])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{},[n("span",[t._v(" 单据编号：")]),t._v(" "),n("span",[t._v(" "+t._s(t.totalData.timeCode))])])])],1)],1),t._v(" "),n("div",[n("p",{staticClass:"middleText pText"},[t._v("领用记录")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},style:{height:t.getThings.length?"auto":"100px"},attrs:{data:t.getThings}},[n("el-table-column",{attrs:{prop:"thingName",label:"领用物品",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"thingCount",label:"领用数量",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"retThingCount",label:"退还数量"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sellCount",label:"售出数量"}}),t._v(" "),n("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"bottom-handler-tool"},[n("div",{staticClass:"btn-area"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.exportThis()}}},[t._v("导出")]),t._v(" "),n("el-button",{on:{click:function(e){return t.$router.push("list")}}},[t._v("取消")])],1)])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nameSpan"},[n("strong",[t._v("收银员:")]),t._v(" "),n("div",{staticClass:"line"}),t._v(" "),n("strong",[t._v("制单人:")]),t._v(" "),n("div",{staticClass:"line"})])}],o={render:a,staticRenderFns:i};e.a=o},63:function(t,e,n){"use strict";function a(t){n(263)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(182),o=n(265),r=n(4),s=a,l=r(i.a,o.a,!1,s,"data-v-165dbf4e",null);e.default=l.exports},85:function(t,e,n){var a=n(13);t.exports=function(t){return Object(a(t))}},86:function(t,e,n){t.exports={default:n(89),__esModule:!0}},88:function(t,e){e.f={}.propertyIsEnumerable},89:function(t,e,n){n(90),t.exports=n(1).Object.assign},90:function(t,e,n){var a=n(12);a(a.S+a.F,"Object",{assign:n(91)})},91:function(t,e,n){"use strict";var a=n(0),i=n(14),o=n(92),r=n(88),s=n(85),l=n(15),c=Object.assign;t.exports=!c||n(5)(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=a})?function(t,e){for(var n=s(t),c=arguments.length,d=1,u=o.f,p=r.f;c>d;)for(var f,v=l(arguments[d++]),h=u?i(v).concat(u(v)):i(v),A=h.length,b=0;A>b;)f=h[b++],a&&!p.call(v,f)||(n[f]=v[f]);return n}:c},92:function(t,e){e.f=Object.getOwnPropertySymbols},97:function(t,e,n){t.exports={default:n(98),__esModule:!0}},98:function(t,e,n){n(99);var a=n(1).Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},99:function(t,e,n){var a=n(12);a(a.S+a.F*!n(0),"Object",{defineProperty:n(6).f})}});