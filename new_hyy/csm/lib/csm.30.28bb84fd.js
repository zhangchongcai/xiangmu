webpackJsonpcsm([30],{199:function(e,n,a){"use strict";var t=requireModule("base"),i=t.singleCinema;n.a={name:"cinema",components:{singleCinema:i},data:function(){return{singleCinemaVisible:!1,singleCinemaType:2,innerData:{id:""},cinemaName:"",tableData:[],channelNatureOptions:[{keyCode:2,keyName:"第三方渠道"},{keyCode:1,keyName:"自营渠道"}],statusOptions:[{keyCode:0,keyName:"启用"},{keyCode:1,keyName:"停用"}],total:0,formData:{cinemaUid:"",channelNature:"",channelName:"",status:"",pageSize:20,current:1}}},methods:{callBackSingle:function(e){this.singleCinemaVisible=e.framedialogVisible,e.isCloseWindow||(console.log(e,"-----\x3e data"),this.formData.cinemaUid=e.data.id,this.cinemaName=e.data.name,this.cinemaName=this.cinemaName.length>10?this.cinemaName.substring(0,9)+"...":this.cinemaName,this.innerData.id=e.data.id,this.search())},toParamsDetail:function(e){this.$router.push({path:"/trade/cinemaChannelDetail",query:{data:e,cinemaUid:this.formData.cinemaUid}})},setParams:function(e){this.$router.push({path:"/trade/cinemaChannelParam",query:{data:e,cinemaUid:this.formData.cinemaUid}})},updateStatus:function(e,n){var a=this;this.$csmList.setChannelStatus({channelUid:n,status:e}).then(function(e){console.log(e),200===e.code?(a.success(e.msg),a.search()):a.error(e.msg)})},search:function(){var e=this;this.$csmList.getCinemaChannelList(this.formData).then(function(n){console.log(n),200===n.code?(e.tableData=n.data.list,e.total=n.data.total):e.error(n.msg)})},getUserInfo:function(){var e=this;this.$csmList.getCtmUserInfo().then(function(n){console.log(n),200===n.code?(e.cinemaName=n.data.cinemaName,e.formData.cinemaUid=n.data.cinemaUid,e.innerData.id=Number(n.data.cinemaUid),e.search()):e.error(n.msg)})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.formData.pageSize=e,this.search()},handleCurrentChange:function(e){console.log("当前页: "+e),this.formData.current=e,this.search()}},mounted:function(){this.getUserInfo()}}},317:function(e,n,a){var t=a(318);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a(52)("9d344d6a",t,!0,{})},318:function(e,n,a){n=e.exports=a(51)(!0),n.push([e.i,"\n.cinema .single-cinema-btn .el-button {\n  padding: 8px 16px;\n  min-width: 80px;\n  height: 32px;\n}\n.cinema .single-cinema-btn .el-button + .el-button {\n  margin-left: 30px;\n}\n.cinema .normal-btn {\n  min-width: 80px;\n  height: 32px;\n  border: 1px solid #3b74ff;\n  border-radius: 4px;\n  padding: 8px 16px;\n  background: #fff;\n}\n.cinema .normal-btn span {\n    font-size: 12px;\n    color: #3b74ff;\n}\n.cinema .search-form {\n  background: #f5f5f5;\n  padding: 24px 24px 6px 24px;\n}\n.cinema .search-form .el-form-item {\n    margin-right: 32px;\n}\n.cinema .search-form .el-form-item .el-form-item__label,\n    .cinema .search-form .el-form-item .el-input {\n      font-size: 12px;\n      color: #666;\n}\n.cinema .search-form .el-form-item .readonly-input {\n      width: 192px;\n      margin-right: 8px;\n}\n.cinema .search-form .el-form-item .readonly-input .el-input__inner {\n        background: #f5f5f5;\n}\n.cinema .search-form .el-form-item .el-button + .el-button {\n      margin-left: 8px;\n}\n.cinema .search-form .el-icon-arrow-left,\n  .cinema .search-form .el-icon-arrow-right {\n    cursor: pointer;\n}\n.cinema .search-form .el-icon-date,\n  .cinema .search-form .el-range__close-icon {\n    display: none;\n}\n.cinema .search-form .month {\n    width: 140px;\n}\n.cinema .search-form .month .el-input__inner {\n      text-align: center;\n}\n.cinema .search-form .month .el-input__prefix {\n      display: none;\n}\n.cinema .el-table .el-button {\n  padding: 0;\n}\n.cinema .el-table .el-button span {\n    font-size: 12px;\n}\n.cinema .el-table .el-button + .el-button {\n  margin-left: 0;\n}\n.cinema .el-row-btns {\n  padding: 8px 0;\n}\n","",{version:3,sources:["G:/Workspaces/work/chenxin/module-hyy/csm/src/views/channelManage/Cinema.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;CACd;AACD;EACE,kBAAkB;CACnB;AACD;EACE,gBAAgB;EAChB,aAAa;EACb,0BAA0B;EAC1B,mBAAmB;EACnB,kBAAkB;EAClB,iBAAiB;CAClB;AACD;IACI,gBAAgB;IAChB,eAAe;CAClB;AACD;EACE,oBAAoB;EACpB,4BAA4B;CAC7B;AACD;IACI,mBAAmB;CACtB;AACD;;MAEM,gBAAgB;MAChB,YAAY;CACjB;AACD;MACM,aAAa;MACb,kBAAkB;CACvB;AACD;QACQ,oBAAoB;CAC3B;AACD;MACM,iBAAiB;CACtB;AACD;;IAEI,gBAAgB;CACnB;AACD;;IAEI,cAAc;CACjB;AACD;IACI,aAAa;CAChB;AACD;MACM,mBAAmB;CACxB;AACD;MACM,cAAc;CACnB;AACD;EACE,WAAW;CACZ;AACD;IACI,gBAAgB;CACnB;AACD;EACE,eAAe;CAChB;AACD;EACE,eAAe;CAChB",file:"Cinema.vue",sourcesContent:["\n.cinema .single-cinema-btn .el-button {\n  padding: 8px 16px;\n  min-width: 80px;\n  height: 32px;\n}\n.cinema .single-cinema-btn .el-button + .el-button {\n  margin-left: 30px;\n}\n.cinema .normal-btn {\n  min-width: 80px;\n  height: 32px;\n  border: 1px solid #3b74ff;\n  border-radius: 4px;\n  padding: 8px 16px;\n  background: #fff;\n}\n.cinema .normal-btn span {\n    font-size: 12px;\n    color: #3b74ff;\n}\n.cinema .search-form {\n  background: #f5f5f5;\n  padding: 24px 24px 6px 24px;\n}\n.cinema .search-form .el-form-item {\n    margin-right: 32px;\n}\n.cinema .search-form .el-form-item .el-form-item__label,\n    .cinema .search-form .el-form-item .el-input {\n      font-size: 12px;\n      color: #666;\n}\n.cinema .search-form .el-form-item .readonly-input {\n      width: 192px;\n      margin-right: 8px;\n}\n.cinema .search-form .el-form-item .readonly-input .el-input__inner {\n        background: #f5f5f5;\n}\n.cinema .search-form .el-form-item .el-button + .el-button {\n      margin-left: 8px;\n}\n.cinema .search-form .el-icon-arrow-left,\n  .cinema .search-form .el-icon-arrow-right {\n    cursor: pointer;\n}\n.cinema .search-form .el-icon-date,\n  .cinema .search-form .el-range__close-icon {\n    display: none;\n}\n.cinema .search-form .month {\n    width: 140px;\n}\n.cinema .search-form .month .el-input__inner {\n      text-align: center;\n}\n.cinema .search-form .month .el-input__prefix {\n      display: none;\n}\n.cinema .el-table .el-button {\n  padding: 0;\n}\n.cinema .el-table .el-button span {\n    font-size: 12px;\n}\n.cinema .el-table .el-button + .el-button {\n  margin-left: 0;\n}\n.cinema .el-row-btns {\n  padding: 8px 0;\n}\n"],sourceRoot:""}])},319:function(e,n,a){"use strict";var t=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("section",{staticClass:"cinema"},[a("singleCinema",{ref:"frameSingleCinema",attrs:{framedialogVisible:e.singleCinemaVisible,type:e.singleCinemaType,innerData:e.innerData},on:{"update:framedialogVisible":function(n){e.singleCinemaVisible=n},"update:framedialog-visible":function(n){e.singleCinemaVisible=n},callBackSingle:e.callBackSingle}},[a("div",{staticClass:"single-cinema-btn",attrs:{slot:"footerId"},slot:"footerId"},[a("el-button",{attrs:{type:"primary"},on:{click:function(n){e.$refs.frameSingleCinema.confirmData(),e.singleCinemaVisible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(n){e.singleCinemaVisible=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-form",{staticClass:"demo-form-inline search-form",attrs:{inline:!0,model:e.formData,size:"small"}},[a("el-form-item",{attrs:{label:"影院名称："}},[a("el-input",{staticClass:"readonly-input",attrs:{readonly:""},model:{value:e.cinemaName,callback:function(n){e.cinemaName=n},expression:"cinemaName"}}),e._v(" "),a("el-button",{staticClass:"normal-btn",on:{click:function(n){e.singleCinemaVisible=!0,e.$refs.frameSingleCinema.listAuthCommCinemas()}}},[e._v("选择")])],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道类型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.channelNature,callback:function(n){e.$set(e.formData,"channelNature",n)},expression:"formData.channelNature"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.channelNatureOptions,function(e){return a("el-option",{key:e.keyCode,attrs:{label:e.keyName,value:e.keyCode}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.status,callback:function(n){e.$set(e.formData,"status",n)},expression:"formData.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.statusOptions,function(e){return a("el-option",{key:e.keyCode,attrs:{label:e.keyName,value:e.keyCode}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称："}},[a("el-input",{attrs:{placeholder:"请输入渠道名称",clearable:""},model:{value:e.formData.channelName,callback:function(n){e.$set(e.formData,"channelName",n)},expression:"formData.channelName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{height:"32px",width:"80px"},attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"渠道编码","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"渠道名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nature",label:"渠道类型","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){return[1===n.row.nature||0===n.row.nature?a("span",[e._v("自营渠道")]):2===n.row.nature?a("span",[e._v("第三方渠道")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){return[0===n.row.status?a("span",[e._v("启用")]):a("span",[e._v("停用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"300",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.setParams(n.row)}}},[e._v("设置参数\n        ")]),e._v(" "),a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.toParamsDetail(n.row)}}},[e._v("查看详情\n        ")])]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"","current-page":e.formData.current,"page-sizes":[20,40,60,80],"page-size":e.formData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},i=[],o={render:t,staticRenderFns:i};n.a=o},77:function(e,n,a){"use strict";function t(e){a(317)}Object.defineProperty(n,"__esModule",{value:!0});var i=a(199),o=a(319),l=a(4),r=t,s=l(i.a,o.a,!1,r,null,null);n.default=s.exports}});